function AD(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uM={exports:{}},Wp={},dM={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cd=Symbol.for("react.element"),CD=Symbol.for("react.portal"),RD=Symbol.for("react.fragment"),PD=Symbol.for("react.strict_mode"),ID=Symbol.for("react.profiler"),ND=Symbol.for("react.provider"),LD=Symbol.for("react.context"),DD=Symbol.for("react.forward_ref"),kD=Symbol.for("react.suspense"),OD=Symbol.for("react.memo"),UD=Symbol.for("react.lazy"),oS=Symbol.iterator;function FD(t){return t===null||typeof t!="object"?null:(t=oS&&t[oS]||t["@@iterator"],typeof t=="function"?t:null)}var hM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fM=Object.assign,pM={};function nc(t,e,n){this.props=t,this.context=e,this.refs=pM,this.updater=n||hM}nc.prototype.isReactComponent={};nc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mM(){}mM.prototype=nc.prototype;function Zy(t,e,n){this.props=t,this.context=e,this.refs=pM,this.updater=n||hM}var e_=Zy.prototype=new mM;e_.constructor=Zy;fM(e_,nc.prototype);e_.isPureReactComponent=!0;var aS=Array.isArray,gM=Object.prototype.hasOwnProperty,t_={current:null},vM={key:!0,ref:!0,__self:!0,__source:!0};function yM(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gM.call(e,i)&&!vM.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:cd,type:t,key:s,ref:o,props:r,_owner:t_.current}}function VD(t,e){return{$$typeof:cd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function n_(t){return typeof t=="object"&&t!==null&&t.$$typeof===cd}function BD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lS=/\/+/g;function ag(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BD(""+t.key):e.toString(36)}function sf(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cd:case CD:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+ag(o,0):i,aS(r)?(n="",t!=null&&(n=t.replace(lS,"$&/")+"/"),sf(r,e,n,"",function(c){return c})):r!=null&&(n_(r)&&(r=VD(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(lS,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",aS(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+ag(s,a);o+=sf(s,e,n,l,r)}else if(l=FD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+ag(s,a++),o+=sf(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zd(t,e,n){if(t==null)return t;var i=[],r=0;return sf(t,i,"","",function(s){return e.call(n,s,r++)}),i}function zD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ri={current:null},of={transition:null},jD={ReactCurrentDispatcher:ri,ReactCurrentBatchConfig:of,ReactCurrentOwner:t_};function _M(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:Zd,forEach:function(t,e,n){Zd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zd(t,function(){e++}),e},toArray:function(t){return Zd(t,function(e){return e})||[]},only:function(t){if(!n_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rt.Component=nc;rt.Fragment=RD;rt.Profiler=ID;rt.PureComponent=Zy;rt.StrictMode=PD;rt.Suspense=kD;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jD;rt.act=_M;rt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=fM({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=t_.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gM.call(e,l)&&!vM.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:cd,type:t.type,key:r,ref:s,props:i,_owner:o}};rt.createContext=function(t){return t={$$typeof:LD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ND,_context:t},t.Consumer=t};rt.createElement=yM;rt.createFactory=function(t){var e=yM.bind(null,t);return e.type=t,e};rt.createRef=function(){return{current:null}};rt.forwardRef=function(t){return{$$typeof:DD,render:t}};rt.isValidElement=n_;rt.lazy=function(t){return{$$typeof:UD,_payload:{_status:-1,_result:t},_init:zD}};rt.memo=function(t,e){return{$$typeof:OD,type:t,compare:e===void 0?null:e}};rt.startTransition=function(t){var e=of.transition;of.transition={};try{t()}finally{of.transition=e}};rt.unstable_act=_M;rt.useCallback=function(t,e){return ri.current.useCallback(t,e)};rt.useContext=function(t){return ri.current.useContext(t)};rt.useDebugValue=function(){};rt.useDeferredValue=function(t){return ri.current.useDeferredValue(t)};rt.useEffect=function(t,e){return ri.current.useEffect(t,e)};rt.useId=function(){return ri.current.useId()};rt.useImperativeHandle=function(t,e,n){return ri.current.useImperativeHandle(t,e,n)};rt.useInsertionEffect=function(t,e){return ri.current.useInsertionEffect(t,e)};rt.useLayoutEffect=function(t,e){return ri.current.useLayoutEffect(t,e)};rt.useMemo=function(t,e){return ri.current.useMemo(t,e)};rt.useReducer=function(t,e,n){return ri.current.useReducer(t,e,n)};rt.useRef=function(t){return ri.current.useRef(t)};rt.useState=function(t){return ri.current.useState(t)};rt.useSyncExternalStore=function(t,e,n){return ri.current.useSyncExternalStore(t,e,n)};rt.useTransition=function(){return ri.current.useTransition()};rt.version="18.3.1";dM.exports=rt;var V=dM.exports;const qc=MD(V),HD=AD({__proto__:null,default:qc},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD=V,WD=Symbol.for("react.element"),$D=Symbol.for("react.fragment"),qD=Object.prototype.hasOwnProperty,XD=GD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KD={key:!0,ref:!0,__self:!0,__source:!0};function xM(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)qD.call(e,i)&&!KD.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:WD,type:t,key:s,ref:o,props:r,_owner:XD.current}}Wp.Fragment=$D;Wp.jsx=xM;Wp.jsxs=xM;uM.exports=Wp;var v=uM.exports,EM={exports:{}},Pi={},SM={exports:{}},wM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,W){var X=z.length;z.push(W);e:for(;0<X;){var ie=X-1>>>1,se=z[ie];if(0<r(se,W))z[ie]=W,z[X]=se,X=ie;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var W=z[0],X=z.pop();if(X!==W){z[0]=X;e:for(var ie=0,se=z.length,Se=se>>>1;ie<Se;){var J=2*(ie+1)-1,re=z[J],xe=J+1,Me=z[xe];if(0>r(re,X))xe<se&&0>r(Me,re)?(z[ie]=Me,z[xe]=X,ie=xe):(z[ie]=re,z[J]=X,ie=J);else if(xe<se&&0>r(Me,X))z[ie]=Me,z[xe]=X,ie=xe;else break e}}return W}function r(z,W){var X=z.sortIndex-W.sortIndex;return X!==0?X:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,g=!1,_=!1,w=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var W=n(c);W!==null;){if(W.callback===null)i(c);else if(W.startTime<=z)i(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function M(z){if(w=!1,S(z),!_)if(n(l)!==null)_=!0,Z(N);else{var W=n(c);W!==null&&ne(M,W.startTime-z)}}function N(z,W){_=!1,w&&(w=!1,p(A),A=-1),g=!0;var X=f;try{for(S(W),h=n(l);h!==null&&(!(h.expirationTime>W)||z&&!C());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var se=ie(h.expirationTime<=W);W=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(l)&&i(l),S(W)}else i(l);h=n(l)}if(h!==null)var Se=!0;else{var J=n(c);J!==null&&ne(M,J.startTime-W),Se=!1}return Se}finally{h=null,f=X,g=!1}}var P=!1,T=null,A=-1,R=5,x=-1;function C(){return!(t.unstable_now()-x<R)}function O(){if(T!==null){var z=t.unstable_now();x=z;var W=!0;try{W=T(!0,z)}finally{W?D():(P=!1,T=null)}}else P=!1}var D;if(typeof E=="function")D=function(){E(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,te=B.port2;B.port1.onmessage=O,D=function(){te.postMessage(null)}}else D=function(){m(O,0)};function Z(z){T=z,P||(P=!0,D())}function ne(z,W){A=m(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Z(N))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var X=f;f=W;try{return z()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=f;f=z;try{return W()}finally{f=X}},t.unstable_scheduleCallback=function(z,W,X){var ie=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ie+X:ie):X=ie,z){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=X+se,z={id:u++,callback:W,priorityLevel:z,startTime:X,expirationTime:se,sortIndex:-1},X>ie?(z.sortIndex=X,e(c,z),n(l)===null&&z===n(c)&&(w?(p(A),A=-1):w=!0,ne(M,X-ie))):(z.sortIndex=se,e(l,z),_||g||(_=!0,Z(N))),z},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(z){var W=f;return function(){var X=f;f=W;try{return z.apply(this,arguments)}finally{f=X}}}})(wM);SM.exports=wM;var YD=SM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD=V,bi=YD;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TM=new Set,bu={};function Ea(t,e){kl(t,e),kl(t+"Capture",e)}function kl(t,e){for(bu[t]=e,t=0;t<e.length;t++)TM.add(e[t])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zv=Object.prototype.hasOwnProperty,JD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cS={},uS={};function ZD(t){return Zv.call(uS,t)?!0:Zv.call(cS,t)?!1:JD.test(t)?uS[t]=!0:(cS[t]=!0,!1)}function ek(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tk(t,e,n,i){if(e===null||typeof e>"u"||ek(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function si(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nn[t]=new si(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nn[e]=new si(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nn[t]=new si(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nn[t]=new si(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nn[t]=new si(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nn[t]=new si(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nn[t]=new si(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nn[t]=new si(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nn[t]=new si(t,5,!1,t.toLowerCase(),null,!1,!1)});var i_=/[\-:]([a-z])/g;function r_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i_,r_);Nn[e]=new si(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i_,r_);Nn[e]=new si(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i_,r_);Nn[e]=new si(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nn[t]=new si(t,1,!1,t.toLowerCase(),null,!1,!1)});Nn.xlinkHref=new si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nn[t]=new si(t,1,!1,t.toLowerCase(),null,!0,!0)});function s_(t,e,n,i){var r=Nn.hasOwnProperty(e)?Nn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tk(e,n,r,i)&&(n=null),i||r===null?ZD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var gs=QD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eh=Symbol.for("react.element"),tl=Symbol.for("react.portal"),nl=Symbol.for("react.fragment"),o_=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),bM=Symbol.for("react.provider"),AM=Symbol.for("react.context"),a_=Symbol.for("react.forward_ref"),t0=Symbol.for("react.suspense"),n0=Symbol.for("react.suspense_list"),l_=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),MM=Symbol.for("react.offscreen"),dS=Symbol.iterator;function Rc(t){return t===null||typeof t!="object"?null:(t=dS&&t[dS]||t["@@iterator"],typeof t=="function"?t:null)}var Gt=Object.assign,lg;function Xc(t){if(lg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lg=e&&e[1]||""}return`
`+lg+t}var cg=!1;function ug(t,e){if(!t||cg)return"";cg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{cg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xc(t):""}function nk(t){switch(t.tag){case 5:return Xc(t.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 2:case 15:return t=ug(t.type,!1),t;case 11:return t=ug(t.type.render,!1),t;case 1:return t=ug(t.type,!0),t;default:return""}}function i0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nl:return"Fragment";case tl:return"Portal";case e0:return"Profiler";case o_:return"StrictMode";case t0:return"Suspense";case n0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AM:return(t.displayName||"Context")+".Consumer";case bM:return(t._context.displayName||"Context")+".Provider";case a_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case l_:return e=t.displayName||null,e!==null?e:i0(t.type)||"Memo";case Ls:e=t._payload,t=t._init;try{return i0(t(e))}catch{}}return null}function ik(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i0(e);case 8:return e===o_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rk(t){var e=CM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function th(t){t._valueTracker||(t._valueTracker=rk(t))}function RM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=CM(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function If(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function r0(t,e){var n=e.checked;return Gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hS(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=oo(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PM(t,e){e=e.checked,e!=null&&s_(t,"checked",e,!1)}function s0(t,e){PM(t,e);var n=oo(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?o0(t,e.type,n):e.hasOwnProperty("defaultValue")&&o0(t,e.type,oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function o0(t,e,n){(e!=="number"||If(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kc=Array.isArray;function El(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+oo(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function a0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Kc(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oo(n)}}function IM(t,e){var n=oo(e.value),i=oo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function mS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function l0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nh,LM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nh=nh||document.createElement("div"),nh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Au(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sk=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(t){sk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),su[e]=su[t]})});function DM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||su.hasOwnProperty(t)&&su[t]?(""+e).trim():e+"px"}function kM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=DM(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var ok=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function c0(t,e){if(e){if(ok[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function u0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d0=null;function c_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var h0=null,Sl=null,wl=null;function gS(t){if(t=hd(t)){if(typeof h0!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=Yp(e),h0(t.stateNode,t.type,e))}}function OM(t){Sl?wl?wl.push(t):wl=[t]:Sl=t}function UM(){if(Sl){var t=Sl,e=wl;if(wl=Sl=null,gS(t),e)for(t=0;t<e.length;t++)gS(e[t])}}function FM(t,e){return t(e)}function VM(){}var dg=!1;function BM(t,e,n){if(dg)return t(e,n);dg=!0;try{return FM(t,e,n)}finally{dg=!1,(Sl!==null||wl!==null)&&(VM(),UM())}}function Mu(t,e){var n=t.stateNode;if(n===null)return null;var i=Yp(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var f0=!1;if(ls)try{var Pc={};Object.defineProperty(Pc,"passive",{get:function(){f0=!0}}),window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{f0=!1}function ak(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ou=!1,Nf=null,Lf=!1,p0=null,lk={onError:function(t){ou=!0,Nf=t}};function ck(t,e,n,i,r,s,o,a,l){ou=!1,Nf=null,ak.apply(lk,arguments)}function uk(t,e,n,i,r,s,o,a,l){if(ck.apply(this,arguments),ou){if(ou){var c=Nf;ou=!1,Nf=null}else throw Error(ue(198));Lf||(Lf=!0,p0=c)}}function Sa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vS(t){if(Sa(t)!==t)throw Error(ue(188))}function dk(t){var e=t.alternate;if(!e){if(e=Sa(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return vS(r),t;if(s===i)return vS(r),e;s=s.sibling}throw Error(ue(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(ue(189))}}if(n.alternate!==i)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function jM(t){return t=dk(t),t!==null?HM(t):null}function HM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HM(t);if(e!==null)return e;t=t.sibling}return null}var GM=bi.unstable_scheduleCallback,yS=bi.unstable_cancelCallback,hk=bi.unstable_shouldYield,fk=bi.unstable_requestPaint,Qt=bi.unstable_now,pk=bi.unstable_getCurrentPriorityLevel,u_=bi.unstable_ImmediatePriority,WM=bi.unstable_UserBlockingPriority,Df=bi.unstable_NormalPriority,mk=bi.unstable_LowPriority,$M=bi.unstable_IdlePriority,$p=null,Sr=null;function gk(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot($p,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:_k,vk=Math.log,yk=Math.LN2;function _k(t){return t>>>=0,t===0?32:31-(vk(t)/yk|0)|0}var ih=64,rh=4194304;function Yc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kf(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Yc(a):(s&=o,s!==0&&(i=Yc(s)))}else o=n&~r,o!==0?i=Yc(o):s!==0&&(i=Yc(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-or(e),r=1<<n,i|=t[n],e&=~r;return i}function xk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ek(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-or(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=xk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function m0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qM(){var t=ih;return ih<<=1,!(ih&4194240)&&(ih=64),t}function hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ud(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function Sk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-or(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function d_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-or(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var St=0;function XM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KM,h_,YM,QM,JM,g0=!1,sh=[],$s=null,qs=null,Xs=null,Cu=new Map,Ru=new Map,ks=[],wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _S(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":Cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(e.pointerId)}}function Ic(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=hd(e),e!==null&&h_(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Tk(t,e,n,i,r){switch(e){case"focusin":return $s=Ic($s,t,e,n,i,r),!0;case"dragenter":return qs=Ic(qs,t,e,n,i,r),!0;case"mouseover":return Xs=Ic(Xs,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Cu.set(s,Ic(Cu.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ru.set(s,Ic(Ru.get(s)||null,t,e,n,i,r)),!0}return!1}function ZM(t){var e=Go(t.target);if(e!==null){var n=Sa(e);if(n!==null){if(e=n.tag,e===13){if(e=zM(n),e!==null){t.blockedOn=e,JM(t.priority,function(){YM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function af(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=v0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);d0=i,n.target.dispatchEvent(i),d0=null}else return e=hd(n),e!==null&&h_(e),t.blockedOn=n,!1;e.shift()}return!0}function xS(t,e,n){af(t)&&n.delete(e)}function bk(){g0=!1,$s!==null&&af($s)&&($s=null),qs!==null&&af(qs)&&(qs=null),Xs!==null&&af(Xs)&&(Xs=null),Cu.forEach(xS),Ru.forEach(xS)}function Nc(t,e){t.blockedOn===e&&(t.blockedOn=null,g0||(g0=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,bk)))}function Pu(t){function e(r){return Nc(r,t)}if(0<sh.length){Nc(sh[0],t);for(var n=1;n<sh.length;n++){var i=sh[n];i.blockedOn===t&&(i.blockedOn=null)}}for($s!==null&&Nc($s,t),qs!==null&&Nc(qs,t),Xs!==null&&Nc(Xs,t),Cu.forEach(e),Ru.forEach(e),n=0;n<ks.length;n++)i=ks[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)ZM(n),n.blockedOn===null&&ks.shift()}var Tl=gs.ReactCurrentBatchConfig,Of=!0;function Ak(t,e,n,i){var r=St,s=Tl.transition;Tl.transition=null;try{St=1,f_(t,e,n,i)}finally{St=r,Tl.transition=s}}function Mk(t,e,n,i){var r=St,s=Tl.transition;Tl.transition=null;try{St=4,f_(t,e,n,i)}finally{St=r,Tl.transition=s}}function f_(t,e,n,i){if(Of){var r=v0(t,e,n,i);if(r===null)Sg(t,e,i,Uf,n),_S(t,i);else if(Tk(r,t,e,n,i))i.stopPropagation();else if(_S(t,i),e&4&&-1<wk.indexOf(t)){for(;r!==null;){var s=hd(r);if(s!==null&&KM(s),s=v0(t,e,n,i),s===null&&Sg(t,e,i,Uf,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Sg(t,e,i,null,n)}}var Uf=null;function v0(t,e,n,i){if(Uf=null,t=c_(i),t=Go(t),t!==null)if(e=Sa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uf=t,null}function eC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pk()){case u_:return 1;case WM:return 4;case Df:case mk:return 16;case $M:return 536870912;default:return 16}default:return 16}}var zs=null,p_=null,lf=null;function tC(){if(lf)return lf;var t,e=p_,n=e.length,i,r="value"in zs?zs.value:zs.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return lf=r.slice(t,1<i?1-i:void 0)}function cf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oh(){return!0}function ES(){return!1}function Ii(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oh:ES,this.isPropagationStopped=ES,this}return Gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oh)},persist:function(){},isPersistent:oh}),e}var ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},m_=Ii(ic),dd=Gt({},ic,{view:0,detail:0}),Ck=Ii(dd),fg,pg,Lc,qp=Gt({},dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lc&&(Lc&&t.type==="mousemove"?(fg=t.screenX-Lc.screenX,pg=t.screenY-Lc.screenY):pg=fg=0,Lc=t),fg)},movementY:function(t){return"movementY"in t?t.movementY:pg}}),SS=Ii(qp),Rk=Gt({},qp,{dataTransfer:0}),Pk=Ii(Rk),Ik=Gt({},dd,{relatedTarget:0}),mg=Ii(Ik),Nk=Gt({},ic,{animationName:0,elapsedTime:0,pseudoElement:0}),Lk=Ii(Nk),Dk=Gt({},ic,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kk=Ii(Dk),Ok=Gt({},ic,{data:0}),wS=Ii(Ok),Uk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vk[t])?!!e[t]:!1}function g_(){return Bk}var zk=Gt({},dd,{key:function(t){if(t.key){var e=Uk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g_,charCode:function(t){return t.type==="keypress"?cf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jk=Ii(zk),Hk=Gt({},qp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TS=Ii(Hk),Gk=Gt({},dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g_}),Wk=Ii(Gk),$k=Gt({},ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=Ii($k),Xk=Gt({},qp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kk=Ii(Xk),Yk=[9,13,27,32],v_=ls&&"CompositionEvent"in window,au=null;ls&&"documentMode"in document&&(au=document.documentMode);var Qk=ls&&"TextEvent"in window&&!au,nC=ls&&(!v_||au&&8<au&&11>=au),bS=" ",AS=!1;function iC(t,e){switch(t){case"keyup":return Yk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var il=!1;function Jk(t,e){switch(t){case"compositionend":return rC(e);case"keypress":return e.which!==32?null:(AS=!0,bS);case"textInput":return t=e.data,t===bS&&AS?null:t;default:return null}}function Zk(t,e){if(il)return t==="compositionend"||!v_&&iC(t,e)?(t=tC(),lf=p_=zs=null,il=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nC&&e.locale!=="ko"?null:e.data;default:return null}}var eO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eO[t.type]:e==="textarea"}function sC(t,e,n,i){OM(i),e=Ff(e,"onChange"),0<e.length&&(n=new m_("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var lu=null,Iu=null;function tO(t){gC(t,0)}function Xp(t){var e=ol(t);if(RM(e))return t}function nO(t,e){if(t==="change")return e}var oC=!1;if(ls){var gg;if(ls){var vg="oninput"in document;if(!vg){var CS=document.createElement("div");CS.setAttribute("oninput","return;"),vg=typeof CS.oninput=="function"}gg=vg}else gg=!1;oC=gg&&(!document.documentMode||9<document.documentMode)}function RS(){lu&&(lu.detachEvent("onpropertychange",aC),Iu=lu=null)}function aC(t){if(t.propertyName==="value"&&Xp(Iu)){var e=[];sC(e,Iu,t,c_(t)),BM(tO,e)}}function iO(t,e,n){t==="focusin"?(RS(),lu=e,Iu=n,lu.attachEvent("onpropertychange",aC)):t==="focusout"&&RS()}function rO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xp(Iu)}function sO(t,e){if(t==="click")return Xp(e)}function oO(t,e){if(t==="input"||t==="change")return Xp(e)}function aO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cr=typeof Object.is=="function"?Object.is:aO;function Nu(t,e){if(cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Zv.call(e,r)||!cr(t[r],e[r]))return!1}return!0}function PS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IS(t,e){var n=PS(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=PS(n)}}function lC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cC(){for(var t=window,e=If();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=If(t.document)}return e}function y_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lO(t){var e=cC(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lC(n.ownerDocument.documentElement,n)){if(i!==null&&y_(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=IS(n,s);var o=IS(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cO=ls&&"documentMode"in document&&11>=document.documentMode,rl=null,y0=null,cu=null,_0=!1;function NS(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_0||rl==null||rl!==If(i)||(i=rl,"selectionStart"in i&&y_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),cu&&Nu(cu,i)||(cu=i,i=Ff(y0,"onSelect"),0<i.length&&(e=new m_("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=rl)))}function ah(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sl={animationend:ah("Animation","AnimationEnd"),animationiteration:ah("Animation","AnimationIteration"),animationstart:ah("Animation","AnimationStart"),transitionend:ah("Transition","TransitionEnd")},yg={},uC={};ls&&(uC=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function Kp(t){if(yg[t])return yg[t];if(!sl[t])return t;var e=sl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uC)return yg[t]=e[n];return t}var dC=Kp("animationend"),hC=Kp("animationiteration"),fC=Kp("animationstart"),pC=Kp("transitionend"),mC=new Map,LS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(t,e){mC.set(t,e),Ea(e,[t])}for(var _g=0;_g<LS.length;_g++){var xg=LS[_g],uO=xg.toLowerCase(),dO=xg[0].toUpperCase()+xg.slice(1);go(uO,"on"+dO)}go(dC,"onAnimationEnd");go(hC,"onAnimationIteration");go(fC,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(pC,"onTransitionEnd");kl("onMouseEnter",["mouseout","mouseover"]);kl("onMouseLeave",["mouseout","mouseover"]);kl("onPointerEnter",["pointerout","pointerover"]);kl("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function DS(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,uk(i,e,void 0,t),t.currentTarget=null}function gC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;DS(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;DS(r,a,c),s=l}}}if(Lf)throw t=p0,Lf=!1,p0=null,t}function Nt(t,e){var n=e[T0];n===void 0&&(n=e[T0]=new Set);var i=t+"__bubble";n.has(i)||(vC(e,t,2,!1),n.add(i))}function Eg(t,e,n){var i=0;e&&(i|=4),vC(n,t,i,e)}var lh="_reactListening"+Math.random().toString(36).slice(2);function Lu(t){if(!t[lh]){t[lh]=!0,TM.forEach(function(n){n!=="selectionchange"&&(hO.has(n)||Eg(n,!1,t),Eg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lh]||(e[lh]=!0,Eg("selectionchange",!1,e))}}function vC(t,e,n,i){switch(eC(e)){case 1:var r=Ak;break;case 4:r=Mk;break;default:r=f_}n=r.bind(null,e,n,t),r=void 0,!f0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Sg(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Go(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}BM(function(){var c=s,u=c_(n),h=[];e:{var f=mC.get(t);if(f!==void 0){var g=m_,_=t;switch(t){case"keypress":if(cf(n)===0)break e;case"keydown":case"keyup":g=jk;break;case"focusin":_="focus",g=mg;break;case"focusout":_="blur",g=mg;break;case"beforeblur":case"afterblur":g=mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=SS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Pk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Wk;break;case dC:case hC:case fC:g=Lk;break;case pC:g=qk;break;case"scroll":g=Ck;break;case"wheel":g=Kk;break;case"copy":case"cut":case"paste":g=kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=TS}var w=(e&4)!==0,m=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var E=c,S;E!==null;){S=E;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,p!==null&&(M=Mu(E,p),M!=null&&w.push(Du(E,M,S)))),m)break;E=E.return}0<w.length&&(f=new g(f,_,null,n,u),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==d0&&(_=n.relatedTarget||n.fromElement)&&(Go(_)||_[cs]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?Go(_):null,_!==null&&(m=Sa(_),_!==m||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(w=SS,M="onMouseLeave",p="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(w=TS,M="onPointerLeave",p="onPointerEnter",E="pointer"),m=g==null?f:ol(g),S=_==null?f:ol(_),f=new w(M,E+"leave",g,n,u),f.target=m,f.relatedTarget=S,M=null,Go(u)===c&&(w=new w(p,E+"enter",_,n,u),w.target=S,w.relatedTarget=m,M=w),m=M,g&&_)t:{for(w=g,p=_,E=0,S=w;S;S=Oa(S))E++;for(S=0,M=p;M;M=Oa(M))S++;for(;0<E-S;)w=Oa(w),E--;for(;0<S-E;)p=Oa(p),S--;for(;E--;){if(w===p||p!==null&&w===p.alternate)break t;w=Oa(w),p=Oa(p)}w=null}else w=null;g!==null&&kS(h,f,g,w,!1),_!==null&&m!==null&&kS(h,m,_,w,!0)}}e:{if(f=c?ol(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=nO;else if(MS(f))if(oC)N=oO;else{N=rO;var P=iO}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=sO);if(N&&(N=N(t,c))){sC(h,N,n,u);break e}P&&P(t,f,c),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&o0(f,"number",f.value)}switch(P=c?ol(c):window,t){case"focusin":(MS(P)||P.contentEditable==="true")&&(rl=P,y0=c,cu=null);break;case"focusout":cu=y0=rl=null;break;case"mousedown":_0=!0;break;case"contextmenu":case"mouseup":case"dragend":_0=!1,NS(h,n,u);break;case"selectionchange":if(cO)break;case"keydown":case"keyup":NS(h,n,u)}var T;if(v_)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else il?iC(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(nC&&n.locale!=="ko"&&(il||A!=="onCompositionStart"?A==="onCompositionEnd"&&il&&(T=tC()):(zs=u,p_="value"in zs?zs.value:zs.textContent,il=!0)),P=Ff(c,A),0<P.length&&(A=new wS(A,t,null,n,u),h.push({event:A,listeners:P}),T?A.data=T:(T=rC(n),T!==null&&(A.data=T)))),(T=Qk?Jk(t,n):Zk(t,n))&&(c=Ff(c,"onBeforeInput"),0<c.length&&(u=new wS("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=T))}gC(h,e)})}function Du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ff(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Mu(t,n),s!=null&&i.unshift(Du(t,s,r)),s=Mu(t,e),s!=null&&i.push(Du(t,s,r))),t=t.return}return i}function Oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kS(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Mu(n,s),l!=null&&o.unshift(Du(n,l,a))):r||(l=Mu(n,s),l!=null&&o.push(Du(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fO=/\r\n?/g,pO=/\u0000|\uFFFD/g;function OS(t){return(typeof t=="string"?t:""+t).replace(fO,`
`).replace(pO,"")}function ch(t,e,n){if(e=OS(e),OS(t)!==e&&n)throw Error(ue(425))}function Vf(){}var x0=null,E0=null;function S0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var w0=typeof setTimeout=="function"?setTimeout:void 0,mO=typeof clearTimeout=="function"?clearTimeout:void 0,US=typeof Promise=="function"?Promise:void 0,gO=typeof queueMicrotask=="function"?queueMicrotask:typeof US<"u"?function(t){return US.resolve(null).then(t).catch(vO)}:w0;function vO(t){setTimeout(function(){throw t})}function wg(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Pu(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Pu(e)}function Ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rc=Math.random().toString(36).slice(2),_r="__reactFiber$"+rc,ku="__reactProps$"+rc,cs="__reactContainer$"+rc,T0="__reactEvents$"+rc,yO="__reactListeners$"+rc,_O="__reactHandles$"+rc;function Go(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cs]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FS(t);t!==null;){if(n=t[_r])return n;t=FS(t)}return e}t=n,n=t.parentNode}return null}function hd(t){return t=t[_r]||t[cs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ol(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function Yp(t){return t[ku]||null}var b0=[],al=-1;function vo(t){return{current:t}}function Dt(t){0>al||(t.current=b0[al],b0[al]=null,al--)}function Ct(t,e){al++,b0[al]=t.current,t.current=e}var ao={},Xn=vo(ao),di=vo(!1),oa=ao;function Ol(t,e){var n=t.type.contextTypes;if(!n)return ao;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function hi(t){return t=t.childContextTypes,t!=null}function Bf(){Dt(di),Dt(Xn)}function VS(t,e,n){if(Xn.current!==ao)throw Error(ue(168));Ct(Xn,e),Ct(di,n)}function yC(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(ue(108,ik(t)||"Unknown",r));return Gt({},n,i)}function zf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ao,oa=Xn.current,Ct(Xn,t),Ct(di,di.current),!0}function BS(t,e,n){var i=t.stateNode;if(!i)throw Error(ue(169));n?(t=yC(t,e,oa),i.__reactInternalMemoizedMergedChildContext=t,Dt(di),Dt(Xn),Ct(Xn,t)):Dt(di),Ct(di,n)}var Gr=null,Qp=!1,Tg=!1;function _C(t){Gr===null?Gr=[t]:Gr.push(t)}function xO(t){Qp=!0,_C(t)}function yo(){if(!Tg&&Gr!==null){Tg=!0;var t=0,e=St;try{var n=Gr;for(St=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Gr=null,Qp=!1}catch(r){throw Gr!==null&&(Gr=Gr.slice(t+1)),GM(u_,yo),r}finally{St=e,Tg=!1}}return null}var ll=[],cl=0,jf=null,Hf=0,Oi=[],Ui=0,aa=null,qr=1,Xr="";function Do(t,e){ll[cl++]=Hf,ll[cl++]=jf,jf=t,Hf=e}function xC(t,e,n){Oi[Ui++]=qr,Oi[Ui++]=Xr,Oi[Ui++]=aa,aa=t;var i=qr;t=Xr;var r=32-or(i)-1;i&=~(1<<r),n+=1;var s=32-or(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,qr=1<<32-or(e)+r|n<<r|i,Xr=s+t}else qr=1<<s|n<<r|i,Xr=t}function __(t){t.return!==null&&(Do(t,1),xC(t,1,0))}function x_(t){for(;t===jf;)jf=ll[--cl],ll[cl]=null,Hf=ll[--cl],ll[cl]=null;for(;t===aa;)aa=Oi[--Ui],Oi[Ui]=null,Xr=Oi[--Ui],Oi[Ui]=null,qr=Oi[--Ui],Oi[Ui]=null}var Ti=null,wi=null,Ot=!1,Zi=null;function EC(t,e){var n=Bi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ti=t,wi=Ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ti=t,wi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=aa!==null?{id:qr,overflow:Xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ti=t,wi=null,!0):!1;default:return!1}}function A0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function M0(t){if(Ot){var e=wi;if(e){var n=e;if(!zS(t,e)){if(A0(t))throw Error(ue(418));e=Ks(n.nextSibling);var i=Ti;e&&zS(t,e)?EC(i,n):(t.flags=t.flags&-4097|2,Ot=!1,Ti=t)}}else{if(A0(t))throw Error(ue(418));t.flags=t.flags&-4097|2,Ot=!1,Ti=t}}}function jS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ti=t}function uh(t){if(t!==Ti)return!1;if(!Ot)return jS(t),Ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!S0(t.type,t.memoizedProps)),e&&(e=wi)){if(A0(t))throw SC(),Error(ue(418));for(;e;)EC(t,e),e=Ks(e.nextSibling)}if(jS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wi=Ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wi=null}}else wi=Ti?Ks(t.stateNode.nextSibling):null;return!0}function SC(){for(var t=wi;t;)t=Ks(t.nextSibling)}function Ul(){wi=Ti=null,Ot=!1}function E_(t){Zi===null?Zi=[t]:Zi.push(t)}var EO=gs.ReactCurrentBatchConfig;function Dc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var i=n.stateNode}if(!i)throw Error(ue(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function dh(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function HS(t){var e=t._init;return e(t._payload)}function wC(t){function e(p,E){if(t){var S=p.deletions;S===null?(p.deletions=[E],p.flags|=16):S.push(E)}}function n(p,E){if(!t)return null;for(;E!==null;)e(p,E),E=E.sibling;return null}function i(p,E){for(p=new Map;E!==null;)E.key!==null?p.set(E.key,E):p.set(E.index,E),E=E.sibling;return p}function r(p,E){return p=Zs(p,E),p.index=0,p.sibling=null,p}function s(p,E,S){return p.index=S,t?(S=p.alternate,S!==null?(S=S.index,S<E?(p.flags|=2,E):S):(p.flags|=2,E)):(p.flags|=1048576,E)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,E,S,M){return E===null||E.tag!==6?(E=Ig(S,p.mode,M),E.return=p,E):(E=r(E,S),E.return=p,E)}function l(p,E,S,M){var N=S.type;return N===nl?u(p,E,S.props.children,M,S.key):E!==null&&(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ls&&HS(N)===E.type)?(M=r(E,S.props),M.ref=Dc(p,E,S),M.return=p,M):(M=gf(S.type,S.key,S.props,null,p.mode,M),M.ref=Dc(p,E,S),M.return=p,M)}function c(p,E,S,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Ng(S,p.mode,M),E.return=p,E):(E=r(E,S.children||[]),E.return=p,E)}function u(p,E,S,M,N){return E===null||E.tag!==7?(E=Jo(S,p.mode,M,N),E.return=p,E):(E=r(E,S),E.return=p,E)}function h(p,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ig(""+E,p.mode,S),E.return=p,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case eh:return S=gf(E.type,E.key,E.props,null,p.mode,S),S.ref=Dc(p,null,E),S.return=p,S;case tl:return E=Ng(E,p.mode,S),E.return=p,E;case Ls:var M=E._init;return h(p,M(E._payload),S)}if(Kc(E)||Rc(E))return E=Jo(E,p.mode,S,null),E.return=p,E;dh(p,E)}return null}function f(p,E,S,M){var N=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:a(p,E,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case eh:return S.key===N?l(p,E,S,M):null;case tl:return S.key===N?c(p,E,S,M):null;case Ls:return N=S._init,f(p,E,N(S._payload),M)}if(Kc(S)||Rc(S))return N!==null?null:u(p,E,S,M,null);dh(p,S)}return null}function g(p,E,S,M,N){if(typeof M=="string"&&M!==""||typeof M=="number")return p=p.get(S)||null,a(E,p,""+M,N);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case eh:return p=p.get(M.key===null?S:M.key)||null,l(E,p,M,N);case tl:return p=p.get(M.key===null?S:M.key)||null,c(E,p,M,N);case Ls:var P=M._init;return g(p,E,S,P(M._payload),N)}if(Kc(M)||Rc(M))return p=p.get(S)||null,u(E,p,M,N,null);dh(E,M)}return null}function _(p,E,S,M){for(var N=null,P=null,T=E,A=E=0,R=null;T!==null&&A<S.length;A++){T.index>A?(R=T,T=null):R=T.sibling;var x=f(p,T,S[A],M);if(x===null){T===null&&(T=R);break}t&&T&&x.alternate===null&&e(p,T),E=s(x,E,A),P===null?N=x:P.sibling=x,P=x,T=R}if(A===S.length)return n(p,T),Ot&&Do(p,A),N;if(T===null){for(;A<S.length;A++)T=h(p,S[A],M),T!==null&&(E=s(T,E,A),P===null?N=T:P.sibling=T,P=T);return Ot&&Do(p,A),N}for(T=i(p,T);A<S.length;A++)R=g(T,p,A,S[A],M),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?A:R.key),E=s(R,E,A),P===null?N=R:P.sibling=R,P=R);return t&&T.forEach(function(C){return e(p,C)}),Ot&&Do(p,A),N}function w(p,E,S,M){var N=Rc(S);if(typeof N!="function")throw Error(ue(150));if(S=N.call(S),S==null)throw Error(ue(151));for(var P=N=null,T=E,A=E=0,R=null,x=S.next();T!==null&&!x.done;A++,x=S.next()){T.index>A?(R=T,T=null):R=T.sibling;var C=f(p,T,x.value,M);if(C===null){T===null&&(T=R);break}t&&T&&C.alternate===null&&e(p,T),E=s(C,E,A),P===null?N=C:P.sibling=C,P=C,T=R}if(x.done)return n(p,T),Ot&&Do(p,A),N;if(T===null){for(;!x.done;A++,x=S.next())x=h(p,x.value,M),x!==null&&(E=s(x,E,A),P===null?N=x:P.sibling=x,P=x);return Ot&&Do(p,A),N}for(T=i(p,T);!x.done;A++,x=S.next())x=g(T,p,A,x.value,M),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?A:x.key),E=s(x,E,A),P===null?N=x:P.sibling=x,P=x);return t&&T.forEach(function(O){return e(p,O)}),Ot&&Do(p,A),N}function m(p,E,S,M){if(typeof S=="object"&&S!==null&&S.type===nl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case eh:e:{for(var N=S.key,P=E;P!==null;){if(P.key===N){if(N=S.type,N===nl){if(P.tag===7){n(p,P.sibling),E=r(P,S.props.children),E.return=p,p=E;break e}}else if(P.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ls&&HS(N)===P.type){n(p,P.sibling),E=r(P,S.props),E.ref=Dc(p,P,S),E.return=p,p=E;break e}n(p,P);break}else e(p,P);P=P.sibling}S.type===nl?(E=Jo(S.props.children,p.mode,M,S.key),E.return=p,p=E):(M=gf(S.type,S.key,S.props,null,p.mode,M),M.ref=Dc(p,E,S),M.return=p,p=M)}return o(p);case tl:e:{for(P=S.key;E!==null;){if(E.key===P)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(p,E.sibling),E=r(E,S.children||[]),E.return=p,p=E;break e}else{n(p,E);break}else e(p,E);E=E.sibling}E=Ng(S,p.mode,M),E.return=p,p=E}return o(p);case Ls:return P=S._init,m(p,E,P(S._payload),M)}if(Kc(S))return _(p,E,S,M);if(Rc(S))return w(p,E,S,M);dh(p,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(p,E.sibling),E=r(E,S),E.return=p,p=E):(n(p,E),E=Ig(S,p.mode,M),E.return=p,p=E),o(p)):n(p,E)}return m}var Fl=wC(!0),TC=wC(!1),Gf=vo(null),Wf=null,ul=null,S_=null;function w_(){S_=ul=Wf=null}function T_(t){var e=Gf.current;Dt(Gf),t._currentValue=e}function C0(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function bl(t,e){Wf=t,S_=ul=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ui=!0),t.firstContext=null)}function Hi(t){var e=t._currentValue;if(S_!==t)if(t={context:t,memoizedValue:e,next:null},ul===null){if(Wf===null)throw Error(ue(308));ul=t,Wf.dependencies={lanes:0,firstContext:t}}else ul=ul.next=t;return e}var Wo=null;function b_(t){Wo===null?Wo=[t]:Wo.push(t)}function bC(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,b_(e)):(n.next=r.next,r.next=n),e.interleaved=n,us(t,i)}function us(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ds=!1;function A_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ys(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,dt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,us(t,n)}return r=i.interleaved,r===null?(e.next=e,b_(i)):(e.next=r.next,r.next=e),i.interleaved=e,us(t,n)}function uf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,d_(t,n)}}function GS(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $f(t,e,n,i){var r=t.updateQueue;Ds=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,w=a;switch(f=e,g=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){h=_.call(g,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,f=typeof _=="function"?_.call(g,h,f):_,f==null)break e;h=Gt({},h,f);break e;case 2:Ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ca|=o,t.lanes=o,t.memoizedState=h}}function WS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(ue(191,r));r.call(i)}}}var fd={},wr=vo(fd),Ou=vo(fd),Uu=vo(fd);function $o(t){if(t===fd)throw Error(ue(174));return t}function M_(t,e){switch(Ct(Uu,e),Ct(Ou,t),Ct(wr,fd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:l0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=l0(e,t)}Dt(wr),Ct(wr,e)}function Vl(){Dt(wr),Dt(Ou),Dt(Uu)}function MC(t){$o(Uu.current);var e=$o(wr.current),n=l0(e,t.type);e!==n&&(Ct(Ou,t),Ct(wr,n))}function C_(t){Ou.current===t&&(Dt(wr),Dt(Ou))}var zt=vo(0);function qf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bg=[];function R_(){for(var t=0;t<bg.length;t++)bg[t]._workInProgressVersionPrimary=null;bg.length=0}var df=gs.ReactCurrentDispatcher,Ag=gs.ReactCurrentBatchConfig,la=0,Ht=null,ln=null,gn=null,Xf=!1,uu=!1,Fu=0,SO=0;function On(){throw Error(ue(321))}function P_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function I_(t,e,n,i,r,s){if(la=s,Ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,df.current=t===null||t.memoizedState===null?AO:MO,t=n(i,r),uu){s=0;do{if(uu=!1,Fu=0,25<=s)throw Error(ue(301));s+=1,gn=ln=null,e.updateQueue=null,df.current=CO,t=n(i,r)}while(uu)}if(df.current=Kf,e=ln!==null&&ln.next!==null,la=0,gn=ln=Ht=null,Xf=!1,e)throw Error(ue(300));return t}function N_(){var t=Fu!==0;return Fu=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Ht.memoizedState=gn=t:gn=gn.next=t,gn}function Gi(){if(ln===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=gn===null?Ht.memoizedState:gn.next;if(e!==null)gn=e,ln=t;else{if(t===null)throw Error(ue(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},gn===null?Ht.memoizedState=gn=t:gn=gn.next=t}return gn}function Vu(t,e){return typeof e=="function"?e(t):e}function Mg(t){var e=Gi(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var i=ln,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((la&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,Ht.lanes|=u,ca|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,cr(i,e.memoizedState)||(ui=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ht.lanes|=s,ca|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cg(t){var e=Gi(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);cr(s,e.memoizedState)||(ui=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function CC(){}function RC(t,e){var n=Ht,i=Gi(),r=e(),s=!cr(i.memoizedState,r);if(s&&(i.memoizedState=r,ui=!0),i=i.queue,L_(NC.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||gn!==null&&gn.memoizedState.tag&1){if(n.flags|=2048,Bu(9,IC.bind(null,n,i,r,e),void 0,null),yn===null)throw Error(ue(349));la&30||PC(n,e,r)}return r}function PC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IC(t,e,n,i){e.value=n,e.getSnapshot=i,LC(e)&&DC(t)}function NC(t,e,n){return n(function(){LC(e)&&DC(t)})}function LC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cr(t,n)}catch{return!0}}function DC(t){var e=us(t,1);e!==null&&ar(e,t,1,-1)}function $S(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},e.queue=t,t=t.dispatch=bO.bind(null,Ht,t),[e.memoizedState,t]}function Bu(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function kC(){return Gi().memoizedState}function hf(t,e,n,i){var r=gr();Ht.flags|=t,r.memoizedState=Bu(1|e,n,void 0,i===void 0?null:i)}function Jp(t,e,n,i){var r=Gi();i=i===void 0?null:i;var s=void 0;if(ln!==null){var o=ln.memoizedState;if(s=o.destroy,i!==null&&P_(i,o.deps)){r.memoizedState=Bu(e,n,s,i);return}}Ht.flags|=t,r.memoizedState=Bu(1|e,n,s,i)}function qS(t,e){return hf(8390656,8,t,e)}function L_(t,e){return Jp(2048,8,t,e)}function OC(t,e){return Jp(4,2,t,e)}function UC(t,e){return Jp(4,4,t,e)}function FC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VC(t,e,n){return n=n!=null?n.concat([t]):null,Jp(4,4,FC.bind(null,e,t),n)}function D_(){}function BC(t,e){var n=Gi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&P_(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function zC(t,e){var n=Gi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&P_(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function jC(t,e,n){return la&21?(cr(n,e)||(n=qM(),Ht.lanes|=n,ca|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ui=!0),t.memoizedState=n)}function wO(t,e){var n=St;St=n!==0&&4>n?n:4,t(!0);var i=Ag.transition;Ag.transition={};try{t(!1),e()}finally{St=n,Ag.transition=i}}function HC(){return Gi().memoizedState}function TO(t,e,n){var i=Js(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},GC(t))WC(e,n);else if(n=bC(t,e,n,i),n!==null){var r=ti();ar(n,t,i,r),$C(n,e,i)}}function bO(t,e,n){var i=Js(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(GC(t))WC(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,cr(a,o)){var l=e.interleaved;l===null?(r.next=r,b_(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=bC(t,e,r,i),n!==null&&(r=ti(),ar(n,t,i,r),$C(n,e,i))}}function GC(t){var e=t.alternate;return t===Ht||e!==null&&e===Ht}function WC(t,e){uu=Xf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $C(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,d_(t,n)}}var Kf={readContext:Hi,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},AO={readContext:Hi,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Hi,useEffect:qS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hf(4194308,4,FC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hf(4194308,4,t,e)},useInsertionEffect:function(t,e){return hf(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=gr();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=TO.bind(null,Ht,t),[i.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:$S,useDebugValue:D_,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=$S(!1),e=t[0];return t=wO.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ht,r=gr();if(Ot){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),yn===null)throw Error(ue(349));la&30||PC(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,qS(NC.bind(null,i,s,t),[t]),i.flags|=2048,Bu(9,IC.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=gr(),e=yn.identifierPrefix;if(Ot){var n=Xr,i=qr;n=(i&~(1<<32-or(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MO={readContext:Hi,useCallback:BC,useContext:Hi,useEffect:L_,useImperativeHandle:VC,useInsertionEffect:OC,useLayoutEffect:UC,useMemo:zC,useReducer:Mg,useRef:kC,useState:function(){return Mg(Vu)},useDebugValue:D_,useDeferredValue:function(t){var e=Gi();return jC(e,ln.memoizedState,t)},useTransition:function(){var t=Mg(Vu)[0],e=Gi().memoizedState;return[t,e]},useMutableSource:CC,useSyncExternalStore:RC,useId:HC,unstable_isNewReconciler:!1},CO={readContext:Hi,useCallback:BC,useContext:Hi,useEffect:L_,useImperativeHandle:VC,useInsertionEffect:OC,useLayoutEffect:UC,useMemo:zC,useReducer:Cg,useRef:kC,useState:function(){return Cg(Vu)},useDebugValue:D_,useDeferredValue:function(t){var e=Gi();return ln===null?e.memoizedState=t:jC(e,ln.memoizedState,t)},useTransition:function(){var t=Cg(Vu)[0],e=Gi().memoizedState;return[t,e]},useMutableSource:CC,useSyncExternalStore:RC,useId:HC,unstable_isNewReconciler:!1};function Qi(t,e){if(t&&t.defaultProps){e=Gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function R0(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zp={isMounted:function(t){return(t=t._reactInternals)?Sa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ti(),r=Js(t),s=ts(i,r);s.payload=e,n!=null&&(s.callback=n),e=Ys(t,s,r),e!==null&&(ar(e,t,r,i),uf(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ti(),r=Js(t),s=ts(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ys(t,s,r),e!==null&&(ar(e,t,r,i),uf(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ti(),i=Js(t),r=ts(n,i);r.tag=2,e!=null&&(r.callback=e),e=Ys(t,r,i),e!==null&&(ar(e,t,i,n),uf(e,t,i))}};function XS(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Nu(n,i)||!Nu(r,s):!0}function qC(t,e,n){var i=!1,r=ao,s=e.contextType;return typeof s=="object"&&s!==null?s=Hi(s):(r=hi(e)?oa:Xn.current,i=e.contextTypes,s=(i=i!=null)?Ol(t,r):ao),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zp,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function KS(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Zp.enqueueReplaceState(e,e.state,null)}function P0(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},A_(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Hi(s):(s=hi(e)?oa:Xn.current,r.context=Ol(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(R0(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Zp.enqueueReplaceState(r,r.state,null),$f(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Bl(t,e){try{var n="",i=e;do n+=nk(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Rg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function I0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RO=typeof WeakMap=="function"?WeakMap:Map;function XC(t,e,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Qf||(Qf=!0,z0=i),I0(t,e)},n}function KC(t,e,n){n=ts(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){I0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){I0(t,e),typeof i!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function YS(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new RO;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=HO.bind(null,t,e,n),e.then(t,t))}function QS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JS(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ts(-1,1),e.tag=2,Ys(n,e,1))),n.lanes|=1),t)}var PO=gs.ReactCurrentOwner,ui=!1;function Jn(t,e,n,i){e.child=t===null?TC(e,null,n,i):Fl(e,t.child,n,i)}function ZS(t,e,n,i,r){n=n.render;var s=e.ref;return bl(e,r),i=I_(t,e,n,i,s,r),n=N_(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ds(t,e,r)):(Ot&&n&&__(e),e.flags|=1,Jn(t,e,i,r),e.child)}function ew(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!j_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,YC(t,e,s,i,r)):(t=gf(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nu,n(o,i)&&t.ref===e.ref)return ds(t,e,r)}return e.flags|=1,t=Zs(s,i),t.ref=e.ref,t.return=e,e.child=t}function YC(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Nu(s,i)&&t.ref===e.ref)if(ui=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(ui=!0);else return e.lanes=t.lanes,ds(t,e,r)}return N0(t,e,n,i,r)}function QC(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(hl,Si),Si|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ct(hl,Si),Si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Ct(hl,Si),Si|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Ct(hl,Si),Si|=i;return Jn(t,e,r,n),e.child}function JC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function N0(t,e,n,i,r){var s=hi(n)?oa:Xn.current;return s=Ol(e,s),bl(e,r),n=I_(t,e,n,i,s,r),i=N_(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ds(t,e,r)):(Ot&&i&&__(e),e.flags|=1,Jn(t,e,n,r),e.child)}function tw(t,e,n,i,r){if(hi(n)){var s=!0;zf(e)}else s=!1;if(bl(e,r),e.stateNode===null)ff(t,e),qC(e,n,i),P0(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hi(c):(c=hi(n)?oa:Xn.current,c=Ol(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&KS(e,o,i,c),Ds=!1;var f=e.memoizedState;o.state=f,$f(e,i,o,r),l=e.memoizedState,a!==i||f!==l||di.current||Ds?(typeof u=="function"&&(R0(e,n,u,i),l=e.memoizedState),(a=Ds||XS(e,n,a,i,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,AC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Qi(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hi(l):(l=hi(n)?oa:Xn.current,l=Ol(e,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&KS(e,o,i,l),Ds=!1,f=e.memoizedState,o.state=f,$f(e,i,o,r);var _=e.memoizedState;a!==h||f!==_||di.current||Ds?(typeof g=="function"&&(R0(e,n,g,i),_=e.memoizedState),(c=Ds||XS(e,n,c,i,f,_,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),o.props=i,o.state=_,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return L0(t,e,n,i,s,r)}function L0(t,e,n,i,r,s){JC(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&BS(e,n,!1),ds(t,e,s);i=e.stateNode,PO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Fl(e,t.child,null,s),e.child=Fl(e,null,a,s)):Jn(t,e,a,s),e.memoizedState=i.state,r&&BS(e,n,!0),e.child}function ZC(t){var e=t.stateNode;e.pendingContext?VS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VS(t,e.context,!1),M_(t,e.containerInfo)}function nw(t,e,n,i,r){return Ul(),E_(r),e.flags|=256,Jn(t,e,n,i),e.child}var D0={dehydrated:null,treeContext:null,retryLane:0};function k0(t){return{baseLanes:t,cachePool:null,transitions:null}}function eR(t,e,n){var i=e.pendingProps,r=zt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ct(zt,r&1),t===null)return M0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=nm(o,i,0,null),t=Jo(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=k0(n),e.memoizedState=D0,t):k_(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return IO(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Zs(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Zs(a,s):(s=Jo(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?k0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=D0,i}return s=t.child,t=s.sibling,i=Zs(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function k_(t,e){return e=nm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hh(t,e,n,i){return i!==null&&E_(i),Fl(e,t.child,null,n),t=k_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IO(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Rg(Error(ue(422))),hh(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=nm({mode:"visible",children:i.children},r,0,null),s=Jo(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Fl(e,t.child,null,o),e.child.memoizedState=k0(o),e.memoizedState=D0,s);if(!(e.mode&1))return hh(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(ue(419)),i=Rg(s,i,void 0),hh(t,e,o,i)}if(a=(o&t.childLanes)!==0,ui||a){if(i=yn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,us(t,r),ar(i,t,r,-1))}return z_(),i=Rg(Error(ue(421))),hh(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=GO.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,wi=Ks(r.nextSibling),Ti=e,Ot=!0,Zi=null,t!==null&&(Oi[Ui++]=qr,Oi[Ui++]=Xr,Oi[Ui++]=aa,qr=t.id,Xr=t.overflow,aa=e),e=k_(e,i.children),e.flags|=4096,e)}function iw(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),C0(t.return,e,n)}function Pg(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function tR(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Jn(t,e,i.children,n),i=zt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iw(t,n,e);else if(t.tag===19)iw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ct(zt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&qf(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Pg(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&qf(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Pg(e,!0,n,null,s);break;case"together":Pg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ff(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ds(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ca|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NO(t,e,n){switch(e.tag){case 3:ZC(e),Ul();break;case 5:MC(e);break;case 1:hi(e.type)&&zf(e);break;case 4:M_(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ct(Gf,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ct(zt,zt.current&1),e.flags|=128,null):n&e.child.childLanes?eR(t,e,n):(Ct(zt,zt.current&1),t=ds(t,e,n),t!==null?t.sibling:null);Ct(zt,zt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return tR(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ct(zt,zt.current),i)break;return null;case 22:case 23:return e.lanes=0,QC(t,e,n)}return ds(t,e,n)}var nR,O0,iR,rR;nR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};O0=function(){};iR=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,$o(wr.current);var s=null;switch(n){case"input":r=r0(t,r),i=r0(t,i),s=[];break;case"select":r=Gt({},r,{value:void 0}),i=Gt({},i,{value:void 0}),s=[];break;case"textarea":r=a0(t,r),i=a0(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Vf)}c0(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Nt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};rR=function(t,e,n,i){n!==i&&(e.flags|=4)};function kc(t,e){if(!Ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function LO(t,e,n){var i=e.pendingProps;switch(x_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(e),null;case 1:return hi(e.type)&&Bf(),Un(e),null;case 3:return i=e.stateNode,Vl(),Dt(di),Dt(Xn),R_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zi!==null&&(G0(Zi),Zi=null))),O0(t,e),Un(e),null;case 5:C_(e);var r=$o(Uu.current);if(n=e.type,t!==null&&e.stateNode!=null)iR(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(ue(166));return Un(e),null}if(t=$o(wr.current),uh(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[_r]=e,i[ku]=s,t=(e.mode&1)!==0,n){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(r=0;r<Qc.length;r++)Nt(Qc[r],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":hS(i,s),Nt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Nt("invalid",i);break;case"textarea":pS(i,s),Nt("invalid",i)}c0(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&ch(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ch(i.textContent,a,t),r=["children",""+a]):bu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nt("scroll",i)}switch(n){case"input":th(i),fS(i,s,!0);break;case"textarea":th(i),mS(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Vf)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[_r]=e,t[ku]=i,nR(t,e,!1,!1),e.stateNode=t;e:{switch(o=u0(n,i),n){case"dialog":Nt("cancel",t),Nt("close",t),r=i;break;case"iframe":case"object":case"embed":Nt("load",t),r=i;break;case"video":case"audio":for(r=0;r<Qc.length;r++)Nt(Qc[r],t);r=i;break;case"source":Nt("error",t),r=i;break;case"img":case"image":case"link":Nt("error",t),Nt("load",t),r=i;break;case"details":Nt("toggle",t),r=i;break;case"input":hS(t,i),r=r0(t,i),Nt("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Gt({},i,{value:void 0}),Nt("invalid",t);break;case"textarea":pS(t,i),r=a0(t,i),Nt("invalid",t);break;default:r=i}c0(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kM(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&LM(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Au(t,l):typeof l=="number"&&Au(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Nt("scroll",t):l!=null&&s_(t,s,l,o))}switch(n){case"input":th(t),fS(t,i,!1);break;case"textarea":th(t),mS(t);break;case"option":i.value!=null&&t.setAttribute("value",""+oo(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?El(t,!!i.multiple,s,!1):i.defaultValue!=null&&El(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Vf)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Un(e),null;case 6:if(t&&e.stateNode!=null)rR(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(ue(166));if(n=$o(Uu.current),$o(wr.current),uh(e)){if(i=e.stateNode,n=e.memoizedProps,i[_r]=e,(s=i.nodeValue!==n)&&(t=Ti,t!==null))switch(t.tag){case 3:ch(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ch(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[_r]=e,e.stateNode=i}return Un(e),null;case 13:if(Dt(zt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&wi!==null&&e.mode&1&&!(e.flags&128))SC(),Ul(),e.flags|=98560,s=!1;else if(s=uh(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[_r]=e}else Ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Un(e),s=!1}else Zi!==null&&(G0(Zi),Zi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||zt.current&1?cn===0&&(cn=3):z_())),e.updateQueue!==null&&(e.flags|=4),Un(e),null);case 4:return Vl(),O0(t,e),t===null&&Lu(e.stateNode.containerInfo),Un(e),null;case 10:return T_(e.type._context),Un(e),null;case 17:return hi(e.type)&&Bf(),Un(e),null;case 19:if(Dt(zt),s=e.memoizedState,s===null)return Un(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)kc(s,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qf(t),o!==null){for(e.flags|=128,kc(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ct(zt,zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qt()>zl&&(e.flags|=128,i=!0,kc(s,!1),e.lanes=4194304)}else{if(!i)if(t=qf(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ot)return Un(e),null}else 2*Qt()-s.renderingStartTime>zl&&n!==1073741824&&(e.flags|=128,i=!0,kc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qt(),e.sibling=null,n=zt.current,Ct(zt,i?n&1|2:n&1),e):(Un(e),null);case 22:case 23:return B_(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Si&1073741824&&(Un(e),e.subtreeFlags&6&&(e.flags|=8192)):Un(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function DO(t,e){switch(x_(e),e.tag){case 1:return hi(e.type)&&Bf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vl(),Dt(di),Dt(Xn),R_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return C_(e),null;case 13:if(Dt(zt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(zt),null;case 4:return Vl(),null;case 10:return T_(e.type._context),null;case 22:case 23:return B_(),null;case 24:return null;default:return null}}var fh=!1,Hn=!1,kO=typeof WeakSet=="function"?WeakSet:Set,Te=null;function dl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Xt(t,e,i)}else n.current=null}function U0(t,e,n){try{n()}catch(i){Xt(t,e,i)}}var rw=!1;function OO(t,e){if(x0=Of,t=cC(),y_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===r&&(a=o),f===s&&++u===i&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(E0={focusedElem:t,selectionRange:n},Of=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,m=_.memoizedState,p=e.stateNode,E=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:Qi(e.type,w),m);p.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(M){Xt(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return _=rw,rw=!1,_}function du(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&U0(e,n,s)}r=r.next}while(r!==i)}}function em(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function F0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sR(t){var e=t.alternate;e!==null&&(t.alternate=null,sR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[ku],delete e[T0],delete e[yO],delete e[_O])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oR(t){return t.tag===5||t.tag===3||t.tag===4}function sw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function V0(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vf));else if(i!==4&&(t=t.child,t!==null))for(V0(t,e,n),t=t.sibling;t!==null;)V0(t,e,n),t=t.sibling}function B0(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(B0(t,e,n),t=t.sibling;t!==null;)B0(t,e,n),t=t.sibling}var Tn=null,Ji=!1;function Es(t,e,n){for(n=n.child;n!==null;)aR(t,e,n),n=n.sibling}function aR(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount($p,n)}catch{}switch(n.tag){case 5:Hn||dl(n,e);case 6:var i=Tn,r=Ji;Tn=null,Es(t,e,n),Tn=i,Ji=r,Tn!==null&&(Ji?(t=Tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tn.removeChild(n.stateNode));break;case 18:Tn!==null&&(Ji?(t=Tn,n=n.stateNode,t.nodeType===8?wg(t.parentNode,n):t.nodeType===1&&wg(t,n),Pu(t)):wg(Tn,n.stateNode));break;case 4:i=Tn,r=Ji,Tn=n.stateNode.containerInfo,Ji=!0,Es(t,e,n),Tn=i,Ji=r;break;case 0:case 11:case 14:case 15:if(!Hn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&U0(n,e,o),r=r.next}while(r!==i)}Es(t,e,n);break;case 1:if(!Hn&&(dl(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Xt(n,e,a)}Es(t,e,n);break;case 21:Es(t,e,n);break;case 22:n.mode&1?(Hn=(i=Hn)||n.memoizedState!==null,Es(t,e,n),Hn=i):Es(t,e,n);break;default:Es(t,e,n)}}function ow(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kO),e.forEach(function(i){var r=WO.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function $i(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tn=a.stateNode,Ji=!1;break e;case 3:Tn=a.stateNode.containerInfo,Ji=!0;break e;case 4:Tn=a.stateNode.containerInfo,Ji=!0;break e}a=a.return}if(Tn===null)throw Error(ue(160));aR(s,o,r),Tn=null,Ji=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Xt(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lR(e,t),e=e.sibling}function lR(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($i(e,t),mr(t),i&4){try{du(3,t,t.return),em(3,t)}catch(w){Xt(t,t.return,w)}try{du(5,t,t.return)}catch(w){Xt(t,t.return,w)}}break;case 1:$i(e,t),mr(t),i&512&&n!==null&&dl(n,n.return);break;case 5:if($i(e,t),mr(t),i&512&&n!==null&&dl(n,n.return),t.flags&32){var r=t.stateNode;try{Au(r,"")}catch(w){Xt(t,t.return,w)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&PM(r,s),u0(a,o);var c=u0(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?kM(r,h):u==="dangerouslySetInnerHTML"?LM(r,h):u==="children"?Au(r,h):s_(r,u,h,c)}switch(a){case"input":s0(r,s);break;case"textarea":IM(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?El(r,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?El(r,!!s.multiple,s.defaultValue,!0):El(r,!!s.multiple,s.multiple?[]:"",!1))}r[ku]=s}catch(w){Xt(t,t.return,w)}}break;case 6:if($i(e,t),mr(t),i&4){if(t.stateNode===null)throw Error(ue(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(w){Xt(t,t.return,w)}}break;case 3:if($i(e,t),mr(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Pu(e.containerInfo)}catch(w){Xt(t,t.return,w)}break;case 4:$i(e,t),mr(t);break;case 13:$i(e,t),mr(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(F_=Qt())),i&4&&ow(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Hn=(c=Hn)||u,$i(e,t),Hn=c):$i(e,t),mr(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Te=t,u=t.child;u!==null;){for(h=Te=u;Te!==null;){switch(f=Te,g=f.child,f.tag){case 0:case 11:case 14:case 15:du(4,f,f.return);break;case 1:dl(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){Xt(i,n,w)}}break;case 5:dl(f,f.return);break;case 22:if(f.memoizedState!==null){lw(h);continue}}g!==null?(g.return=f,Te=g):lw(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DM("display",o))}catch(w){Xt(t,t.return,w)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Xt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$i(e,t),mr(t),i&4&&ow(t);break;case 21:break;default:$i(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oR(n)){var i=n;break e}n=n.return}throw Error(ue(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Au(r,""),i.flags&=-33);var s=sw(t);B0(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=sw(t);V0(t,a,o);break;default:throw Error(ue(161))}}catch(l){Xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UO(t,e,n){Te=t,cR(t)}function cR(t,e,n){for(var i=(t.mode&1)!==0;Te!==null;){var r=Te,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||fh;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Hn;a=fh;var c=Hn;if(fh=o,(Hn=l)&&!c)for(Te=r;Te!==null;)o=Te,l=o.child,o.tag===22&&o.memoizedState!==null?cw(r):l!==null?(l.return=o,Te=l):cw(r);for(;s!==null;)Te=s,cR(s),s=s.sibling;Te=r,fh=a,Hn=c}aw(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Te=s):aw(t)}}function aw(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hn||em(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Hn)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Qi(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&WS(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}WS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Pu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Hn||e.flags&512&&F0(e)}catch(f){Xt(e,e.return,f)}}if(e===t){Te=null;break}if(n=e.sibling,n!==null){n.return=e.return,Te=n;break}Te=e.return}}function lw(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Te=n;break}Te=e.return}}function cw(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{em(4,e)}catch(l){Xt(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Xt(e,r,l)}}var s=e.return;try{F0(e)}catch(l){Xt(e,s,l)}break;case 5:var o=e.return;try{F0(e)}catch(l){Xt(e,o,l)}}}catch(l){Xt(e,e.return,l)}if(e===t){Te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Te=a;break}Te=e.return}}var FO=Math.ceil,Yf=gs.ReactCurrentDispatcher,O_=gs.ReactCurrentOwner,zi=gs.ReactCurrentBatchConfig,dt=0,yn=null,sn=null,In=0,Si=0,hl=vo(0),cn=0,zu=null,ca=0,tm=0,U_=0,hu=null,li=null,F_=0,zl=1/0,jr=null,Qf=!1,z0=null,Qs=null,ph=!1,js=null,Jf=0,fu=0,j0=null,pf=-1,mf=0;function ti(){return dt&6?Qt():pf!==-1?pf:pf=Qt()}function Js(t){return t.mode&1?dt&2&&In!==0?In&-In:EO.transition!==null?(mf===0&&(mf=qM()),mf):(t=St,t!==0||(t=window.event,t=t===void 0?16:eC(t.type)),t):1}function ar(t,e,n,i){if(50<fu)throw fu=0,j0=null,Error(ue(185));ud(t,n,i),(!(dt&2)||t!==yn)&&(t===yn&&(!(dt&2)&&(tm|=n),cn===4&&Os(t,In)),fi(t,i),n===1&&dt===0&&!(e.mode&1)&&(zl=Qt()+500,Qp&&yo()))}function fi(t,e){var n=t.callbackNode;Ek(t,e);var i=kf(t,t===yn?In:0);if(i===0)n!==null&&yS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&yS(n),e===1)t.tag===0?xO(uw.bind(null,t)):_C(uw.bind(null,t)),gO(function(){!(dt&6)&&yo()}),n=null;else{switch(XM(i)){case 1:n=u_;break;case 4:n=WM;break;case 16:n=Df;break;case 536870912:n=$M;break;default:n=Df}n=vR(n,uR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uR(t,e){if(pf=-1,mf=0,dt&6)throw Error(ue(327));var n=t.callbackNode;if(Al()&&t.callbackNode!==n)return null;var i=kf(t,t===yn?In:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Zf(t,i);else{e=i;var r=dt;dt|=2;var s=hR();(yn!==t||In!==e)&&(jr=null,zl=Qt()+500,Qo(t,e));do try{zO();break}catch(a){dR(t,a)}while(!0);w_(),Yf.current=s,dt=r,sn!==null?e=0:(yn=null,In=0,e=cn)}if(e!==0){if(e===2&&(r=m0(t),r!==0&&(i=r,e=H0(t,r))),e===1)throw n=zu,Qo(t,0),Os(t,i),fi(t,Qt()),n;if(e===6)Os(t,i);else{if(r=t.current.alternate,!(i&30)&&!VO(r)&&(e=Zf(t,i),e===2&&(s=m0(t),s!==0&&(i=s,e=H0(t,s))),e===1))throw n=zu,Qo(t,0),Os(t,i),fi(t,Qt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(ue(345));case 2:ko(t,li,jr);break;case 3:if(Os(t,i),(i&130023424)===i&&(e=F_+500-Qt(),10<e)){if(kf(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){ti(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=w0(ko.bind(null,t,li,jr),e);break}ko(t,li,jr);break;case 4:if(Os(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-or(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Qt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*FO(i/1960))-i,10<i){t.timeoutHandle=w0(ko.bind(null,t,li,jr),i);break}ko(t,li,jr);break;case 5:ko(t,li,jr);break;default:throw Error(ue(329))}}}return fi(t,Qt()),t.callbackNode===n?uR.bind(null,t):null}function H0(t,e){var n=hu;return t.current.memoizedState.isDehydrated&&(Qo(t,e).flags|=256),t=Zf(t,e),t!==2&&(e=li,li=n,e!==null&&G0(e)),t}function G0(t){li===null?li=t:li.push.apply(li,t)}function VO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!cr(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Os(t,e){for(e&=~U_,e&=~tm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),i=1<<n;t[n]=-1,e&=~i}}function uw(t){if(dt&6)throw Error(ue(327));Al();var e=kf(t,0);if(!(e&1))return fi(t,Qt()),null;var n=Zf(t,e);if(t.tag!==0&&n===2){var i=m0(t);i!==0&&(e=i,n=H0(t,i))}if(n===1)throw n=zu,Qo(t,0),Os(t,e),fi(t,Qt()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ko(t,li,jr),fi(t,Qt()),null}function V_(t,e){var n=dt;dt|=1;try{return t(e)}finally{dt=n,dt===0&&(zl=Qt()+500,Qp&&yo())}}function ua(t){js!==null&&js.tag===0&&!(dt&6)&&Al();var e=dt;dt|=1;var n=zi.transition,i=St;try{if(zi.transition=null,St=1,t)return t()}finally{St=i,zi.transition=n,dt=e,!(dt&6)&&yo()}}function B_(){Si=hl.current,Dt(hl)}function Qo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mO(n)),sn!==null)for(n=sn.return;n!==null;){var i=n;switch(x_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Bf();break;case 3:Vl(),Dt(di),Dt(Xn),R_();break;case 5:C_(i);break;case 4:Vl();break;case 13:Dt(zt);break;case 19:Dt(zt);break;case 10:T_(i.type._context);break;case 22:case 23:B_()}n=n.return}if(yn=t,sn=t=Zs(t.current,null),In=Si=e,cn=0,zu=null,U_=tm=ca=0,li=hu=null,Wo!==null){for(e=0;e<Wo.length;e++)if(n=Wo[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Wo=null}return t}function dR(t,e){do{var n=sn;try{if(w_(),df.current=Kf,Xf){for(var i=Ht.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Xf=!1}if(la=0,gn=ln=Ht=null,uu=!1,Fu=0,O_.current=null,n===null||n.return===null){cn=1,zu=e,sn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=In,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=QS(o);if(g!==null){g.flags&=-257,JS(g,o,a,s,e),g.mode&1&&YS(s,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var w=new Set;w.add(l),e.updateQueue=w}else _.add(l);break e}else{if(!(e&1)){YS(s,c,e),z_();break e}l=Error(ue(426))}}else if(Ot&&a.mode&1){var m=QS(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),JS(m,o,a,s,e),E_(Bl(l,a));break e}}s=l=Bl(l,a),cn!==4&&(cn=2),hu===null?hu=[s]:hu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=XC(s,l,e);GS(s,p);break e;case 1:a=l;var E=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Qs===null||!Qs.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=KC(s,a,e);GS(s,M);break e}}s=s.return}while(s!==null)}pR(n)}catch(N){e=N,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(!0)}function hR(){var t=Yf.current;return Yf.current=Kf,t===null?Kf:t}function z_(){(cn===0||cn===3||cn===2)&&(cn=4),yn===null||!(ca&268435455)&&!(tm&268435455)||Os(yn,In)}function Zf(t,e){var n=dt;dt|=2;var i=hR();(yn!==t||In!==e)&&(jr=null,Qo(t,e));do try{BO();break}catch(r){dR(t,r)}while(!0);if(w_(),dt=n,Yf.current=i,sn!==null)throw Error(ue(261));return yn=null,In=0,cn}function BO(){for(;sn!==null;)fR(sn)}function zO(){for(;sn!==null&&!hk();)fR(sn)}function fR(t){var e=gR(t.alternate,t,Si);t.memoizedProps=t.pendingProps,e===null?pR(t):sn=e,O_.current=null}function pR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DO(n,e),n!==null){n.flags&=32767,sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,sn=null;return}}else if(n=LO(n,e,Si),n!==null){sn=n;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);cn===0&&(cn=5)}function ko(t,e,n){var i=St,r=zi.transition;try{zi.transition=null,St=1,jO(t,e,n,i)}finally{zi.transition=r,St=i}return null}function jO(t,e,n,i){do Al();while(js!==null);if(dt&6)throw Error(ue(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Sk(t,s),t===yn&&(sn=yn=null,In=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ph||(ph=!0,vR(Df,function(){return Al(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zi.transition,zi.transition=null;var o=St;St=1;var a=dt;dt|=4,O_.current=null,OO(t,n),lR(n,t),lO(E0),Of=!!x0,E0=x0=null,t.current=n,UO(n),fk(),dt=a,St=o,zi.transition=s}else t.current=n;if(ph&&(ph=!1,js=t,Jf=r),s=t.pendingLanes,s===0&&(Qs=null),gk(n.stateNode),fi(t,Qt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Qf)throw Qf=!1,t=z0,z0=null,t;return Jf&1&&t.tag!==0&&Al(),s=t.pendingLanes,s&1?t===j0?fu++:(fu=0,j0=t):fu=0,yo(),null}function Al(){if(js!==null){var t=XM(Jf),e=zi.transition,n=St;try{if(zi.transition=null,St=16>t?16:t,js===null)var i=!1;else{if(t=js,js=null,Jf=0,dt&6)throw Error(ue(331));var r=dt;for(dt|=4,Te=t.current;Te!==null;){var s=Te,o=s.child;if(Te.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Te=c;Te!==null;){var u=Te;switch(u.tag){case 0:case 11:case 15:du(8,u,s)}var h=u.child;if(h!==null)h.return=u,Te=h;else for(;Te!==null;){u=Te;var f=u.sibling,g=u.return;if(sR(u),u===c){Te=null;break}if(f!==null){f.return=g,Te=f;break}Te=g}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var m=w.sibling;w.sibling=null,w=m}while(w!==null)}}Te=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Te=o;else e:for(;Te!==null;){if(s=Te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:du(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,Te=p;break e}Te=s.return}}var E=t.current;for(Te=E;Te!==null;){o=Te;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Te=S;else e:for(o=E;Te!==null;){if(a=Te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:em(9,a)}}catch(N){Xt(a,a.return,N)}if(a===o){Te=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Te=M;break e}Te=a.return}}if(dt=r,yo(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot($p,t)}catch{}i=!0}return i}finally{St=n,zi.transition=e}}return!1}function dw(t,e,n){e=Bl(n,e),e=XC(t,e,1),t=Ys(t,e,1),e=ti(),t!==null&&(ud(t,1,e),fi(t,e))}function Xt(t,e,n){if(t.tag===3)dw(t,t,n);else for(;e!==null;){if(e.tag===3){dw(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qs===null||!Qs.has(i))){t=Bl(n,t),t=KC(e,t,1),e=Ys(e,t,1),t=ti(),e!==null&&(ud(e,1,t),fi(e,t));break}}e=e.return}}function HO(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=ti(),t.pingedLanes|=t.suspendedLanes&n,yn===t&&(In&n)===n&&(cn===4||cn===3&&(In&130023424)===In&&500>Qt()-F_?Qo(t,0):U_|=n),fi(t,e)}function mR(t,e){e===0&&(t.mode&1?(e=rh,rh<<=1,!(rh&130023424)&&(rh=4194304)):e=1);var n=ti();t=us(t,e),t!==null&&(ud(t,e,n),fi(t,n))}function GO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mR(t,n)}function WO(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(ue(314))}i!==null&&i.delete(e),mR(t,n)}var gR;gR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||di.current)ui=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ui=!1,NO(t,e,n);ui=!!(t.flags&131072)}else ui=!1,Ot&&e.flags&1048576&&xC(e,Hf,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ff(t,e),t=e.pendingProps;var r=Ol(e,Xn.current);bl(e,n),r=I_(null,e,i,t,r,n);var s=N_();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hi(i)?(s=!0,zf(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,A_(e),r.updater=Zp,e.stateNode=r,r._reactInternals=e,P0(e,i,t,n),e=L0(null,e,i,!0,s,n)):(e.tag=0,Ot&&s&&__(e),Jn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(ff(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=qO(i),t=Qi(i,t),r){case 0:e=N0(null,e,i,t,n);break e;case 1:e=tw(null,e,i,t,n);break e;case 11:e=ZS(null,e,i,t,n);break e;case 14:e=ew(null,e,i,Qi(i.type,t),n);break e}throw Error(ue(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qi(i,r),N0(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qi(i,r),tw(t,e,i,r,n);case 3:e:{if(ZC(e),t===null)throw Error(ue(387));i=e.pendingProps,s=e.memoizedState,r=s.element,AC(t,e),$f(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Bl(Error(ue(423)),e),e=nw(t,e,i,n,r);break e}else if(i!==r){r=Bl(Error(ue(424)),e),e=nw(t,e,i,n,r);break e}else for(wi=Ks(e.stateNode.containerInfo.firstChild),Ti=e,Ot=!0,Zi=null,n=TC(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ul(),i===r){e=ds(t,e,n);break e}Jn(t,e,i,n)}e=e.child}return e;case 5:return MC(e),t===null&&M0(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,S0(i,r)?o=null:s!==null&&S0(i,s)&&(e.flags|=32),JC(t,e),Jn(t,e,o,n),e.child;case 6:return t===null&&M0(e),null;case 13:return eR(t,e,n);case 4:return M_(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Fl(e,null,i,n):Jn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qi(i,r),ZS(t,e,i,r,n);case 7:return Jn(t,e,e.pendingProps,n),e.child;case 8:return Jn(t,e,e.pendingProps.children,n),e.child;case 12:return Jn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ct(Gf,i._currentValue),i._currentValue=o,s!==null)if(cr(s.value,o)){if(s.children===r.children&&!di.current){e=ds(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=ts(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),C0(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),C0(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Jn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,bl(e,n),r=Hi(r),i=i(r),e.flags|=1,Jn(t,e,i,n),e.child;case 14:return i=e.type,r=Qi(i,e.pendingProps),r=Qi(i.type,r),ew(t,e,i,r,n);case 15:return YC(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Qi(i,r),ff(t,e),e.tag=1,hi(i)?(t=!0,zf(e)):t=!1,bl(e,n),qC(e,i,r),P0(e,i,r,n),L0(null,e,i,!0,t,n);case 19:return tR(t,e,n);case 22:return QC(t,e,n)}throw Error(ue(156,e.tag))};function vR(t,e){return GM(t,e)}function $O(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(t,e,n,i){return new $O(t,e,n,i)}function j_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qO(t){if(typeof t=="function")return j_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===a_)return 11;if(t===l_)return 14}return 2}function Zs(t,e){var n=t.alternate;return n===null?(n=Bi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gf(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")j_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nl:return Jo(n.children,r,s,e);case o_:o=8,r|=8;break;case e0:return t=Bi(12,n,e,r|2),t.elementType=e0,t.lanes=s,t;case t0:return t=Bi(13,n,e,r),t.elementType=t0,t.lanes=s,t;case n0:return t=Bi(19,n,e,r),t.elementType=n0,t.lanes=s,t;case MM:return nm(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bM:o=10;break e;case AM:o=9;break e;case a_:o=11;break e;case l_:o=14;break e;case Ls:o=16,i=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Bi(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Jo(t,e,n,i){return t=Bi(7,t,i,e),t.lanes=n,t}function nm(t,e,n,i){return t=Bi(22,t,i,e),t.elementType=MM,t.lanes=n,t.stateNode={isHidden:!1},t}function Ig(t,e,n){return t=Bi(6,t,null,e),t.lanes=n,t}function Ng(t,e,n){return e=Bi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XO(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hg(0),this.expirationTimes=hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function H_(t,e,n,i,r,s,o,a,l){return t=new XO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Bi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A_(s),t}function KO(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function yR(t){if(!t)return ao;t=t._reactInternals;e:{if(Sa(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(hi(n))return yC(t,n,e)}return e}function _R(t,e,n,i,r,s,o,a,l){return t=H_(n,i,!0,t,r,s,o,a,l),t.context=yR(null),n=t.current,i=ti(),r=Js(n),s=ts(i,r),s.callback=e??null,Ys(n,s,r),t.current.lanes=r,ud(t,r,i),fi(t,i),t}function im(t,e,n,i){var r=e.current,s=ti(),o=Js(r);return n=yR(n),e.context===null?e.context=n:e.pendingContext=n,e=ts(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Ys(r,e,o),t!==null&&(ar(t,r,o,s),uf(t,r,o)),o}function ep(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function G_(t,e){hw(t,e),(t=t.alternate)&&hw(t,e)}function YO(){return null}var xR=typeof reportError=="function"?reportError:function(t){console.error(t)};function W_(t){this._internalRoot=t}rm.prototype.render=W_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));im(t,e,null,null)};rm.prototype.unmount=W_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ua(function(){im(null,t,null,null)}),e[cs]=null}};function rm(t){this._internalRoot=t}rm.prototype.unstable_scheduleHydration=function(t){if(t){var e=QM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ks.length&&e!==0&&e<ks[n].priority;n++);ks.splice(n,0,t),n===0&&ZM(t)}};function $_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fw(){}function QO(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=ep(o);s.call(c)}}var o=_R(e,i,t,0,null,!1,!1,"",fw);return t._reactRootContainer=o,t[cs]=o.current,Lu(t.nodeType===8?t.parentNode:t),ua(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=ep(l);a.call(c)}}var l=H_(t,0,!1,null,null,!1,!1,"",fw);return t._reactRootContainer=l,t[cs]=l.current,Lu(t.nodeType===8?t.parentNode:t),ua(function(){im(e,l,n,i)}),l}function om(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=ep(o);a.call(l)}}im(e,o,t,r)}else o=QO(n,e,t,r,i);return ep(o)}KM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yc(e.pendingLanes);n!==0&&(d_(e,n|1),fi(e,Qt()),!(dt&6)&&(zl=Qt()+500,yo()))}break;case 13:ua(function(){var i=us(t,1);if(i!==null){var r=ti();ar(i,t,1,r)}}),G_(t,1)}};h_=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var n=ti();ar(e,t,134217728,n)}G_(t,134217728)}};YM=function(t){if(t.tag===13){var e=Js(t),n=us(t,e);if(n!==null){var i=ti();ar(n,t,e,i)}G_(t,e)}};QM=function(){return St};JM=function(t,e){var n=St;try{return St=t,e()}finally{St=n}};h0=function(t,e,n){switch(e){case"input":if(s0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Yp(i);if(!r)throw Error(ue(90));RM(i),s0(i,r)}}}break;case"textarea":IM(t,n);break;case"select":e=n.value,e!=null&&El(t,!!n.multiple,e,!1)}};FM=V_;VM=ua;var JO={usingClientEntryPoint:!1,Events:[hd,ol,Yp,OM,UM,V_]},Oc={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZO={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jM(t),t===null?null:t.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||YO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{$p=mh.inject(ZO),Sr=mh}catch{}}Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JO;Pi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$_(e))throw Error(ue(200));return KO(t,e,null,n)};Pi.createRoot=function(t,e){if(!$_(t))throw Error(ue(299));var n=!1,i="",r=xR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=H_(t,1,!1,null,null,n,!1,i,r),t[cs]=e.current,Lu(t.nodeType===8?t.parentNode:t),new W_(e)};Pi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=jM(e),t=t===null?null:t.stateNode,t};Pi.flushSync=function(t){return ua(t)};Pi.hydrate=function(t,e,n){if(!sm(e))throw Error(ue(200));return om(null,t,e,!0,n)};Pi.hydrateRoot=function(t,e,n){if(!$_(t))throw Error(ue(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=xR;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_R(e,null,t,1,n??null,r,!1,s,o),t[cs]=e.current,Lu(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new rm(e)};Pi.render=function(t,e,n){if(!sm(e))throw Error(ue(200));return om(null,t,e,!1,n)};Pi.unmountComponentAtNode=function(t){if(!sm(t))throw Error(ue(40));return t._reactRootContainer?(ua(function(){om(null,null,t,!1,function(){t._reactRootContainer=null,t[cs]=null})}),!0):!1};Pi.unstable_batchedUpdates=V_;Pi.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!sm(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return om(t,e,n,!1,i)};Pi.version="18.3.1-next-f1338f8080-20240426";function ER(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ER)}catch(t){console.error(t)}}ER(),EM.exports=Pi;var SR=EM.exports,wR,pw=SR;wR=pw.createRoot,pw.hydrateRoot;var TR={exports:{}},bR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=V;function eU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tU=typeof Object.is=="function"?Object.is:eU,nU=pd.useSyncExternalStore,iU=pd.useRef,rU=pd.useEffect,sU=pd.useMemo,oU=pd.useDebugValue;bR.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var s=iU(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=sU(function(){function l(g){if(!c){if(c=!0,u=g,g=i(g),r!==void 0&&o.hasValue){var _=o.value;if(r(_,g))return h=_}return h=g}if(_=h,tU(u,g))return _;var w=i(g);return r!==void 0&&r(_,w)?(u=g,_):(u=g,h=w)}var c=!1,u,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,i,r]);var a=nU(t,s[0],s[1]);return rU(function(){o.hasValue=!0,o.value=a},[a]),oU(a),a};TR.exports=bR;var aU=TR.exports;function lU(t){t()}function cU(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lU(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!i||t===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var mw={notify(){},get:()=>[]};function uU(t,e){let n,i=mw,r=0,s=!1;function o(w){u();const m=i.subscribe(w);let p=!1;return()=>{p||(p=!0,m(),h())}}function a(){i.notify()}function l(){_.onStateChange&&_.onStateChange()}function c(){return s}function u(){r++,n||(n=t.subscribe(l),i=cU())}function h(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=mw)}function f(){s||(s=!0,u())}function g(){s&&(s=!1,h())}const _={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>i};return _}var dU=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hU=dU(),fU=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pU=fU(),mU=()=>hU||pU?V.useLayoutEffect:V.useEffect,gU=mU(),Lg=Symbol.for("react-redux-context"),Dg=typeof globalThis<"u"?globalThis:{};function vU(){if(!V.createContext)return{};const t=Dg[Lg]??(Dg[Lg]=new Map);let e=t.get(V.createContext);return e||(e=V.createContext(null),t.set(V.createContext,e)),e}var tp=vU();function yU(t){const{children:e,context:n,serverState:i,store:r}=t,s=V.useMemo(()=>{const l=uU(r);return{store:r,subscription:l,getServerState:i?()=>i:void 0}},[r,i]),o=V.useMemo(()=>r.getState(),[r]);gU(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||tp;return V.createElement(a.Provider,{value:s},e)}var _U=yU;function AR(t=tp){return function(){return V.useContext(t)}}var xU=AR(),EU=(t,e)=>t===e;function SU(t=tp){const e=t===tp?xU:AR(t),n=(i,r={})=>{const{equalityFn:s=EU}=typeof r=="function"?{equalityFn:r}:r,o=e(),{store:a,subscription:l,getServerState:c}=o;V.useRef(!0);const u=V.useCallback({[i.name](f){return i(f)}}[i.name],[i]),h=aU.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,c||a.getState,u,s);return V.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var Ai=SU();function wn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wU=typeof Symbol=="function"&&Symbol.observable||"@@observable",gw=wU,kg=()=>Math.random().toString(36).substring(7).split("").join("."),TU={INIT:`@@redux/INIT${kg()}`,REPLACE:`@@redux/REPLACE${kg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kg()}`},np=TU;function q_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function MR(t,e,n){if(typeof t!="function")throw new Error(wn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wn(1));return n(MR)(t,e)}let i=t,r=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((m,p)=>{o.set(p,m)}))}function u(){if(l)throw new Error(wn(3));return r}function h(m){if(typeof m!="function")throw new Error(wn(4));if(l)throw new Error(wn(5));let p=!0;c();const E=a++;return o.set(E,m),function(){if(p){if(l)throw new Error(wn(6));p=!1,c(),o.delete(E),s=null}}}function f(m){if(!q_(m))throw new Error(wn(7));if(typeof m.type>"u")throw new Error(wn(8));if(typeof m.type!="string")throw new Error(wn(17));if(l)throw new Error(wn(9));try{l=!0,r=i(r,m)}finally{l=!1}return(s=o).forEach(E=>{E()}),m}function g(m){if(typeof m!="function")throw new Error(wn(10));i=m,f({type:np.REPLACE})}function _(){const m=h;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(wn(11));function E(){const M=p;M.next&&M.next(u())}return E(),{unsubscribe:m(E)}},[gw](){return this}}}return f({type:np.INIT}),{dispatch:f,subscribe:h,getState:u,replaceReducer:g,[gw]:_}}function bU(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:np.INIT})>"u")throw new Error(wn(12));if(typeof n(void 0,{type:np.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wn(13))})}function AU(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const i=Object.keys(n);let r;try{bU(n)}catch(s){r=s}return function(o={},a){if(r)throw r;let l=!1;const c={};for(let u=0;u<i.length;u++){const h=i[u],f=n[h],g=o[h],_=f(g,a);if(typeof _>"u")throw a&&a.type,new Error(wn(14));c[h]=_,l=l||_!==g}return l=l||i.length!==Object.keys(o).length,l?c:o}}function ip(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function MU(...t){return e=>(n,i)=>{const r=e(n,i);let s=()=>{throw new Error(wn(15))};const o={getState:r.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=ip(...a)(r.dispatch),{...r,dispatch:s}}}function CU(t){return q_(t)&&"type"in t&&typeof t.type=="string"}var CR=Symbol.for("immer-nothing"),vw=Symbol.for("immer-draftable"),Mi=Symbol.for("immer-state");function tr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var jl=Object.getPrototypeOf;function da(t){return!!t&&!!t[Mi]}function hs(t){var e;return t?RR(t)||Array.isArray(t)||!!t[vw]||!!((e=t.constructor)!=null&&e[vw])||lm(t)||cm(t):!1}var RU=Object.prototype.constructor.toString();function RR(t){if(!t||typeof t!="object")return!1;const e=jl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===RU}function rp(t,e){am(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function am(t){const e=t[Mi];return e?e.type_:Array.isArray(t)?1:lm(t)?2:cm(t)?3:0}function W0(t,e){return am(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function PR(t,e,n){const i=am(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function PU(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function lm(t){return t instanceof Map}function cm(t){return t instanceof Set}function Oo(t){return t.copy_||t.base_}function $0(t,e){if(lm(t))return new Map(t);if(cm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=RR(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Mi];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const o=r[s],a=i[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(i[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(jl(t),i)}else{const i=jl(t);if(i!==null&&n)return{...t};const r=Object.create(i);return Object.assign(r,t)}}function X_(t,e=!1){return um(t)||da(t)||!hs(t)||(am(t)>1&&(t.set=t.add=t.clear=t.delete=IU),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>X_(i,!0))),t}function IU(){tr(2)}function um(t){return Object.isFrozen(t)}var NU={};function ha(t){const e=NU[t];return e||tr(0,t),e}var ju;function IR(){return ju}function LU(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yw(t,e){e&&(ha("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function q0(t){X0(t),t.drafts_.forEach(DU),t.drafts_=null}function X0(t){t===ju&&(ju=t.parent_)}function _w(t){return ju=LU(ju,t)}function DU(t){const e=t[Mi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function xw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Mi].modified_&&(q0(e),tr(4)),hs(t)&&(t=sp(e,t),e.parent_||op(e,t)),e.patches_&&ha("Patches").generateReplacementPatches_(n[Mi].base_,t,e.patches_,e.inversePatches_)):t=sp(e,n,[]),q0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==CR?t:void 0}function sp(t,e,n){if(um(e))return e;const i=e[Mi];if(!i)return rp(e,(r,s)=>Ew(t,i,e,r,s,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return op(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let s=r,o=!1;i.type_===3&&(s=new Set(r),r.clear(),o=!0),rp(s,(a,l)=>Ew(t,i,r,a,l,n,o)),op(t,r,!1),n&&t.patches_&&ha("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function Ew(t,e,n,i,r,s,o){if(da(r)){const a=s&&e&&e.type_!==3&&!W0(e.assigned_,i)?s.concat(i):void 0,l=sp(t,r,a);if(PR(n,i,l),da(l))t.canAutoFreeze_=!1;else return}else o&&n.add(r);if(hs(r)&&!um(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;sp(t,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&op(t,r)}}function op(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&X_(e,n)}function kU(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:IR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=K_;n&&(r=[i],s=Hu);const{revoke:o,proxy:a}=Proxy.revocable(r,s);return i.draft_=a,i.revoke_=o,a}var K_={get(t,e){if(e===Mi)return t;const n=Oo(t);if(!W0(n,e))return OU(t,n,e);const i=n[e];return t.finalized_||!hs(i)?i:i===Og(t.base_,e)?(Ug(t),t.copy_[e]=Y0(i,t)):i},has(t,e){return e in Oo(t)},ownKeys(t){return Reflect.ownKeys(Oo(t))},set(t,e,n){const i=NR(Oo(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const r=Og(Oo(t),e),s=r==null?void 0:r[Mi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(PU(n,r)&&(n!==void 0||W0(t.base_,e)))return!0;Ug(t),K0(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Og(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ug(t),K0(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Oo(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){tr(11)},getPrototypeOf(t){return jl(t.base_)},setPrototypeOf(){tr(12)}},Hu={};rp(K_,(t,e)=>{Hu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Hu.deleteProperty=function(t,e){return Hu.set.call(this,t,e,void 0)};Hu.set=function(t,e,n){return K_.set.call(this,t[0],e,n,t[0])};function Og(t,e){const n=t[Mi];return(n?Oo(n):t)[e]}function OU(t,e,n){var r;const i=NR(e,n);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(t.draft_):void 0}function NR(t,e){if(!(e in t))return;let n=jl(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=jl(n)}}function K0(t){t.modified_||(t.modified_=!0,t.parent_&&K0(t.parent_))}function Ug(t){t.copy_||(t.copy_=$0(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var UU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&tr(6),i!==void 0&&typeof i!="function"&&tr(7);let r;if(hs(e)){const s=_w(this),o=Y0(e,void 0);let a=!0;try{r=n(o),a=!1}finally{a?q0(s):X0(s)}return yw(s,i),xw(r,s)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===CR&&(r=void 0),this.autoFreeze_&&X_(r,!0),i){const s=[],o=[];ha("Patches").generateReplacementPatches_(e,r,s,o),i(s,o)}return r}else tr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let i,r;return[this.produce(e,n,(o,a)=>{i=o,r=a}),i,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){hs(t)||tr(8),da(t)&&(t=FU(t));const e=_w(this),n=Y0(t,void 0);return n[Mi].isManual_=!0,X0(e),n}finishDraft(t,e){const n=t&&t[Mi];(!n||!n.isManual_)&&tr(9);const{scope_:i}=n;return yw(i,e),xw(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const i=ha("Patches").applyPatches_;return da(t)?i(t,e):this.produce(t,r=>i(r,e))}};function Y0(t,e){const n=lm(t)?ha("MapSet").proxyMap_(t,e):cm(t)?ha("MapSet").proxySet_(t,e):kU(t,e);return(e?e.scope_:IR()).drafts_.push(n),n}function FU(t){return da(t)||tr(10,t),LR(t)}function LR(t){if(!hs(t)||um(t))return t;const e=t[Mi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=$0(t,e.scope_.immer_.useStrictShallowCopy_)}else n=$0(t,!0);return rp(n,(i,r)=>{PR(n,i,LR(r))}),e&&(e.finalized_=!1),n}var Ci=new UU,DR=Ci.produce;Ci.produceWithPatches.bind(Ci);Ci.setAutoFreeze.bind(Ci);Ci.setUseStrictShallowCopy.bind(Ci);Ci.applyPatches.bind(Ci);Ci.createDraft.bind(Ci);Ci.finishDraft.bind(Ci);function kR(t){return({dispatch:n,getState:i})=>r=>s=>typeof s=="function"?s(n,i,t):r(s)}var VU=kR(),BU=kR,zU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ip:ip.apply(null,arguments)};function Sw(t,e){function n(...i){if(e){let r=e(...i);if(!r)throw new Error(ns(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>CU(i)&&i.type===t,n}var OR=class Jc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Jc.prototype)}static get[Symbol.species](){return Jc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Jc(...e[0].concat(this)):new Jc(...e.concat(this))}};function ww(t){return hs(t)?DR(t,()=>{}):t}function gh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function jU(t){return typeof t=="boolean"}var HU=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let o=new OR;return n&&(jU(n)?o.push(VU):o.push(BU(n.extraArgument))),o},GU="RTK_autoBatch",Tw=t=>e=>{setTimeout(e,t)},WU=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let r=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Tw(10):t.type==="callback"?t.queueNotification:Tw(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(u=>u()))};return Object.assign({},i,{subscribe(u){const h=()=>r&&u(),f=i.subscribe(h);return a.add(u),()=>{f(),a.delete(u)}},dispatch(u){var h;try{return r=!((h=u==null?void 0:u.meta)!=null&&h[GU]),s=!r,s&&(o||(o=!0,l(c))),i.dispatch(u)}finally{r=!0}}})},$U=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new OR(t);return i&&r.push(WU(typeof i=="object"?i:void 0)),r};function qU(t){const e=HU(),{reducer:n=void 0,middleware:i,devTools:r=!0,duplicateMiddlewareCheck:s=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(q_(n))l=AU(n);else throw new Error(ns(1));let c;typeof i=="function"?c=i(e):c=e();let u=ip;r&&(u=zU({trace:!1,...typeof r=="object"&&r}));const h=MU(...c),f=$U(h);let g=typeof a=="function"?a(f):f();const _=u(...g);return MR(l,o,_)}function UR(t){const e={},n=[];let i;const r={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(ns(28));if(a in e)throw new Error(ns(29));return e[a]=o,r},addMatcher(s,o){return n.push({matcher:s,reducer:o}),r},addDefaultCase(s){return i=s,r}};return t(r),[e,n,i]}function XU(t){return typeof t=="function"}function KU(t,e){let[n,i,r]=UR(e),s;if(XU(t))s=()=>ww(t());else{const a=ww(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...i.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[r]),c.reduce((u,h)=>{if(h)if(da(u)){const g=h(u,l);return g===void 0?u:g}else{if(hs(u))return DR(u,f=>h(f,l));{const f=h(u,l);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},a)}return o.getInitialState=s,o}var YU=Symbol.for("rtk-slice-createasyncthunk");function QU(t,e){return`${t}/${e}`}function JU({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[YU];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error(ns(11));typeof process<"u";const a=(typeof r.reducers=="function"?r.reducers(tF()):r.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(M,N){const P=typeof M=="string"?M:M.type;if(!P)throw new Error(ns(12));if(P in c.sliceCaseReducersByType)throw new Error(ns(13));return c.sliceCaseReducersByType[P]=N,u},addMatcher(M,N){return c.sliceMatchers.push({matcher:M,reducer:N}),u},exposeAction(M,N){return c.actionCreators[M]=N,u},exposeCaseReducer(M,N){return c.sliceCaseReducersByName[M]=N,u}};l.forEach(M=>{const N=a[M],P={reducerName:M,type:QU(s,M),createNotation:typeof r.reducers=="function"};iF(N)?sF(P,N,u,e):nF(P,N,u)});function h(){const[M={},N=[],P=void 0]=typeof r.extraReducers=="function"?UR(r.extraReducers):[r.extraReducers],T={...M,...c.sliceCaseReducersByType};return KU(r.initialState,A=>{for(let R in T)A.addCase(R,T[R]);for(let R of c.sliceMatchers)A.addMatcher(R.matcher,R.reducer);for(let R of N)A.addMatcher(R.matcher,R.reducer);P&&A.addDefaultCase(P)})}const f=M=>M,g=new Map,_=new WeakMap;let w;function m(M,N){return w||(w=h()),w(M,N)}function p(){return w||(w=h()),w.getInitialState()}function E(M,N=!1){function P(A){let R=A[M];return typeof R>"u"&&N&&(R=gh(_,P,p)),R}function T(A=f){const R=gh(g,N,()=>new WeakMap);return gh(R,A,()=>{const x={};for(const[C,O]of Object.entries(r.selectors??{}))x[C]=ZU(O,A,()=>gh(_,A,p),N);return x})}return{reducerPath:M,getSelectors:T,get selectors(){return T(P)},selectSlice:P}}const S={name:s,reducer:m,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:p,...E(o),injectInto(M,{reducerPath:N,...P}={}){const T=N??o;return M.inject({reducerPath:T,reducer:m},P),{...S,...E(T,!0)}}};return S}}function ZU(t,e,n,i){function r(s,...o){let a=e(s);return typeof a>"u"&&i&&(a=n()),t(a,...o)}return r.unwrapped=t,r}var eF=JU();function tF(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function nF({type:t,reducerName:e,createNotation:n},i,r){let s,o;if("reducer"in i){if(n&&!rF(i))throw new Error(ns(17));s=i.reducer,o=i.prepare}else s=i;r.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Sw(t,o):Sw(t))}function iF(t){return t._reducerDefinitionType==="asyncThunk"}function rF(t){return t._reducerDefinitionType==="reducerWithPrepare"}function sF({type:t,reducerName:e},n,i,r){if(!r)throw new Error(ns(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:u}=n,h=r(t,s,u);i.exposeAction(e,h),o&&i.addCase(h.fulfilled,o),a&&i.addCase(h.pending,a),l&&i.addCase(h.rejected,l),c&&i.addMatcher(h.settled,c),i.exposeCaseReducer(e,{fulfilled:o||vh,pending:a||vh,rejected:l||vh,settled:c||vh})}function vh(){}function ns(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Za="/assets/1-CxX14RXf.png",oF="/assets/2-dzZC46kH.png",aF="/assets/3-BVpzecDS.png",lF="/assets/4-FgKTefHi.png",cF="/assets/5-CYsRRRSR.png",uF="/assets/6-BYT0YEIB.png",dF="/assets/7-CDKoZ_J4.png",hF="/assets/8-BK1v4fck.png",fF="/assets/9-wTxtfl3P.png",pF="/assets/activio-CdEO56Ra.png",mF="/assets/benefitwise-CzjvXkbT.png",gF="/assets/bsd-BW6XkW0Z.png",vF="/assets/bsblogs-BXpIsUHN.png",yF="/assets/maadvt-B08h55H4.png",_F="/assets/nexgenai-CUFYkB6o.png",xF="/assets/notesapp-COOFYYe6.png",EF="/assets/pizzasio-Bs2lH_y9.png",SF="/assets/tictactoe-C3C90qA6.png",wF="/assets/developnators-77Ek_YqR.png",Fg="https://github.com/ri-yan",bw="https://linkedin.com/in/riyan08",Aw="https://twitter.com/yourusername",yh="mriyan0801@gmail.com";function TF(){const t=new Date(2022,3),e=new Date;let n=e.getFullYear()-t.getFullYear();return e.getMonth()<3&&n--,n}const bF={app:{logoText:"< Riyan />",ownerName:"Mohd. Riyan",resume:"https://drive.google.com/file/d/1ZEnXY-lU7S37OgnR0_p7G-3ocg81TM74/view?usp=drive_link"},hero:{title:{main:"Developer Planner",sub:"& Leader"},images:[Za,oF,aF,lF,cF,uF,dF,hF,fF],previewImages:["/assets/1.png","/assets/2.png","/assets/3.png","/assets/4.png","/assets/5.png","/assets/6.png","/assets/7.png","/assets/8.png","/assets/9.png"],description:"I create exceptional digital experiences that make a difference. Specializing in modern web/mobile applications and innovative solutions.",buttons:{primary:{text:"View My Work",target:"projects"},secondary:{text:"Get In Touch",target:"contact"}},socialLinks:[{platform:"GitHub",url:Fg,icon:"GitHub"},{platform:"LinkedIn",url:bw,icon:"Linkedin"},{platform:"Twitter",url:Aw,icon:"Twitter"},{platform:"Email",url:`mailto:${yh}`,icon:"Mail"}],quotes:["Design is intelligence made visible.","Code is like humor. When you have to explain it, it's bad.","Simplicity is the soul of efficiency.","Make it work, make it right, make it fast.","Creativity is nothing but a mind set free.","Every great design begins with an even better story.","Any product that needs a manual is broken.","Good design is good business.","The best way to predict the future is to invent it."]},about:{title:"About Me",subtitle:"Here you'll find more information about me, what I do, and my current skills mostly in terms of programming and technology.",introTitle:"Get to know me!",intro:[`I'm a <span class='text-teal-500 dark:text-teal-default font-medium'>Full Stack Developer</span> with ${TF()} years of experience in building robust and user-friendly web applications that solve real-world problems. I enjoy creating software that is both functional and visually appealing.`,"I specialize in developing full-stack applications using modern technologies. My passion lies in designing efficient and scalable backend systems, as well as crafting engaging and intuitive user interfaces.","In addition to my development work, I'm also available for <span class='text-teal-500 dark:text-teal-default font-medium'>freelance projects</span> and open to collaboration opportunities. If you have a project in mind, feel free to reach out!"],servicesTitle:"My Services",services:[{icon:"Code2",title:"Web Development",description:"Creating responsive, user-friendly websites and applications with modern frameworks"},{icon:"Cpu",title:"API Development",description:"Designing and implementing RESTful APIs and backend services"},{icon:"Globe",title:"DevOps & Deployment",description:"Setting up CI/CD pipelines, cloud infrastructure, and containerization"},{icon:"Codepen",title:"Custom Solutions",description:"Building tailored software solutions for specific business needs"}]},services:{title:"<span>Services <span className='bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] ml-2'> < I /> Provide  </span></span>",subtitle:"Delivering exceptional digital solutions tailored to your needs",items:[{icon:"Palette",title:"System Design",description:"Designing robust, scalable backend systems that power your application's core functionality.",gradient:"from-[#FF0080] to-[#7928CA]"},{icon:"Globe2",title:"Web Design",description:"Crafting beautiful, responsive websites that provide exceptional user experiences across all devices.",gradient:"from-[#7928CA] to-[#FF0080]"},{icon:"Megaphone",title:"Backend Development",description:"Building robust, scalable backend systems that power your application's core functionality.",gradient:"from-[#00F5A0] to-[#00D9F5]"},{icon:"Code2",title:"Frontend Development",description:"Building modern, performant web applications using the latest technologies and best practices.",gradient:"from-[#00D9F5] to-[#00F5A0]"},{icon:"LineChart",title:"Agile Planning",description:"Providing strategic insights and data-driven solutions to help your project grow, scale, and succeed.",gradient:"from-[#7928CA] to-[#FF0080]"},{icon:"Layers",title:"Mobile Development",description:"Creating cross-platform mobile applications that deliver seamless user experiences on both iOS and Android devices.",gradient:"from-[#00F5A0] to-[#00D9F5]"}]},skills:{title:'My <span className="bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] ml-2">Expertise</span>',subtitle:"Proficient in modern technologies and frameworks",categories:[{category:"Frontend",items:[{name:"React",level:90},{name:"React Native",level:85},{name:"Angular",level:80},{name:"TypeScript",level:90},{name:"Bootstrap",level:85},{name:"TailwindCSS",level:80}]},{category:"Backend",items:[{name:".Net Core",level:90},{name:"Node.js",level:80},{name:"Express",level:75},{name:".Net Mvc",level:70}]},{category:"Database",items:[{name:"SQL Server",level:85},{name:"PostgreSQL",level:70},{name:"Redis",level:70},{name:"MySQL",level:80},{name:"Firebase",level:85}]},{category:"Cloud",items:[{name:"Azure",level:70},{name:"Google Cloud",level:70},{name:"Firebase",level:80}]},{category:"AI & ML",items:[{name:"Vertex AI",level:70},{name:"ChatGPT",level:70}]},{category:"Tools & Technologies",items:[{name:"Visul Studio Code",level:85},{name:"Visual Studio",level:80},{name:"Git",level:80},{name:"Azure Board",level:80},{name:"Jira",level:80}]}]},projects:{title:"Featured Projects",subtitle:"Explore my latest works and creative endeavors",subtitleTwo:"Other Noteworthy Projects",subtitleThree:"Featured Projects",categories:[{id:"all",label:"All Projects"},{id:"web",label:"Web Apps"},{id:"mobile",label:"Mobile"},{id:"ux",label:"UX/UI"},{id:"api",label:"API"}],items:[{id:5,title:"DevelopNators",description:"A platform for developers to connect, collaborate, and grow their careers.",image:wF,technologies:["React","Tailwind","Styled Components","Vite","Firebase"],github:"https://github.com/ri-yan",demo:"https://developnators.com",category:"web",featured:!0},{id:7,title:"MA Advertising",description:"An adverting agency website with a simple and intuitive interface.",image:yF,technologies:["React","Tailwind","Styled Components","Vite","Firebase"],github:"https://github.com/ri-yan",demo:"https://maads-demo.netlify.app/",category:"ux",featured:!0},{id:8,title:"Nextgenai",description:"AI farming company website with a simple and intuitive interface.",image:_F,technologies:["React","React Native",".Net Core","Firebase","Sql Server","Tailwind","Styled Components","Vite"],github:"https://github.com/ri-yan",demo:"https://nextgenai-demo.netlify.app/",category:"mobile",featured:!0},{id:9,title:"TicTacToe",description:"Fun to play Tic Tac Toe game with a simple and intuitive interface.",image:SF,technologies:["React","Tailwind","Styled Components"],github:"https://github.com/ri-yan",demo:"https://ticckacc.netlify.app/",category:"web",featured:!1},{id:10,title:"Activio",description:"A class booking and management system for educational institutions.",image:pF,technologies:["Angular",".Net Core","MongoDB","Sql Server","Tailwind","Styled Components"],github:"https://github.com/ri-yan",demo:"https://activio-demo.netlify.app/",category:"web",featured:!0},{id:11,title:"BsBlogs",description:"Subpart of blood sugar diary, displaying a list of healh related blog posts.",image:vF,technologies:["React","Bootstrap","Styled Components"],github:"https://github.com/ri-yan",demo:"http://bsblogs.netlify.app/",category:"web",featured:!1},{id:12,title:"BloodSugar Diary",description:"A web app for tracking blood sugar levels, medications, and diet.",image:gF,technologies:["React","Bootstrap","Styled Components"],github:"https://github.com/ri-yan",demo:"https://bloodsugar-diary.web.app/",category:"web",featured:!1},{id:20,title:"Pizzasio",description:"A comprehensive collection of reusable UI components with customization options.",image:EF,technologies:["React","Bootstrap","MongoDB","Express","Styled Components"],github:"https://github.com/ri-yan",demo:"https://pizzasio3.netlify.app",category:"web",featured:!1},{id:21,title:"Notes App",description:"A notes pwa app with features like creating, editing, and deleting notes.",image:xF,technologies:["React","Bootstrap","Styled Components"],github:"https://github.com/ri-yan",demo:"https://notesapp1080.netlify.app/",category:"mobile",featured:!1},{id:13,title:"BenefitWise",description:"My first assignment for an opportunity to work on a real-world project.",image:mF,technologies:["React","Bootstrap","Styled Components"],github:"https://github.com/ri-yan",demo:"https://landing-page-mobile-responsive.netlify.app/",category:"ux",featured:!1},{id:14,title:"E-Commerce Platform",description:"A full-featured e-commerce platform with product management, user authentication, and payment processing.",image:"https://images.pexels.com/photos/39284/macbook-apple-imac-computer-39284.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",technologies:["React","Node.js","MongoDB","Stripe"],github:"https://github.com/yourusername/project-1",demo:"https://project-1.example.com",category:"web",featured:!1},{id:15,title:"Task Management App",description:"A collaborative task management application with real-time updates, team management, and analytics.",image:"https://images.pexels.com/photos/267569/pexels-photo-267569.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",technologies:["React","Redux","Firebase"],github:"https://github.com/yourusername/project-2",demo:"https://project-2.example.com",category:"web",featured:!1},{id:16,title:"Weather Dashboard",description:"A weather forecasting application that provides detailed weather information for any location.",image:"https://images.pexels.com/photos/1162251/pexels-photo-1162251.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",technologies:["JavaScript","OpenWeather API","Chart.js"],github:"https://github.com/yourusername/project-3",demo:"https://project-3.example.com",category:"web",featured:!1},{id:17,title:"Social Media Mobile App",description:"A cross-platform mobile application for social media interaction with features like posts, comments, and messaging.",image:"https://images.pexels.com/photos/193004/pexels-photo-193004.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",technologies:["React Native","Firebase","Redux"],github:"https://github.com/yourusername/project-4",demo:"https://project-4.example.com",category:"mobile",featured:!1},{id:18,title:"RESTful API Service",description:"A robust API service for data processing and integration with third-party systems.",image:"https://images.pexels.com/photos/546819/pexels-photo-546819.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",technologies:["Node.js","Express","PostgreSQL","Docker"],github:"https://github.com/yourusername/project-5",demo:"https://project-5.example.com",category:"api",featured:!1},{id:19,title:"UI Component Library",description:"A comprehensive collection of reusable UI components with customization options.",image:"https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",technologies:["React","Storybook","Styled Components"],github:"https://github.com/ri-yan",demo:"https://project-6.example.com",category:"ux",featured:!1}],githubLink:Fg},testimonials:{title:"What My Clients Say",subtitle:"Testimonials from satisfied clients",items:[{name:"Sarah Johnson",role:"CEO at TechStart",image:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",content:"Working with this team has been an absolute pleasure. Their attention to detail and creative approach to problem-solving has significantly improved our digital presence.",rating:5},{name:"Michael Chen",role:"Product Manager",image:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",content:"The level of professionalism and technical expertise is outstanding. They delivered our project ahead of schedule and exceeded all expectations.",rating:5},{name:"Emily Rodriguez",role:"Marketing Director",image:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",content:"Their innovative solutions and strategic thinking have helped us achieve remarkable growth. A truly reliable and talented partner for any digital project.",rating:5}]},contact:{title:"Get In Touch",leftHeader:"Contact Information",rightHeader:"Let 's Work Together",subtitle:"Feel free to contact me for any project or collaboration",info:{description:"I'm interested in freelance opportunities  especially ambitious or large projects. However, if you have other requests or questions, don't hesitate to contact me.",location:"Lucknow, Uttar Pradesh, India",email:yh,phone:"+91 9044271286"}},footer:{description:"A passionate Software Engineer and Freelancer building digital products with a focus on user experience.",socialLinks:[{platform:"GitHub",url:Fg},{platform:"LinkedIn",url:bw},{platform:"Twitter",url:Aw},{platform:"Email",url:`mailto:${yh}`}],quickLinks:[{name:"Home",href:"#hero"},{name:"About",href:"#about"},{name:"Skills",href:"#skills"},{name:"Projects",href:"#projects"},{name:"Contact",href:"#contact"}],contactme:{email:yh,phone:"+91 9044271286",github:"github.com/ri-yan",linkedin:"linkedin.com/in/riyan08",twitter:"twitter.com/yourusername"}}},AF=bF,MF=eF({name:"staticData",initialState:AF,reducers:{}}),dm=t=>t.staticData.app,CF=t=>t.staticData.hero,RF=t=>t.staticData.about,PF=t=>t.staticData.services,IF=t=>t.staticData.skills,FR=t=>t.staticData.projects,NF=t=>t.staticData.testimonials,LF=t=>t.staticData.contact,DF=t=>t.staticData.footer,kF=MF.reducer,OF=qU({reducer:{staticData:kF}});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gu(){return Gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gu.apply(this,arguments)}var Hs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hs||(Hs={}));const Mw="popstate";function UF(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Q0("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:ap(r)}return VF(e,n,null,t)}function on(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FF(){return Math.random().toString(36).substr(2,8)}function Cw(t,e){return{usr:t.state,key:t.key,idx:e}}function Q0(t,e,n,i){return n===void 0&&(n=null),Gu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sc(e):e,{state:n,key:e&&e.key||i||FF()})}function ap(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function sc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function VF(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Hs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Gu({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Hs.Pop;let m=u(),p=m==null?null:m-c;c=m,l&&l({action:a,location:w.location,delta:p})}function f(m,p){a=Hs.Push;let E=Q0(w.location,m,p);c=u()+1;let S=Cw(E,c),M=w.createHref(E);try{o.pushState(S,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(M)}s&&l&&l({action:a,location:w.location,delta:1})}function g(m,p){a=Hs.Replace;let E=Q0(w.location,m,p);c=u();let S=Cw(E,c),M=w.createHref(E);o.replaceState(S,"",M),s&&l&&l({action:a,location:w.location,delta:0})}function _(m){let p=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof m=="string"?m:ap(m);return E=E.replace(/ $/,"%20"),on(p,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,p)}let w={get action(){return a},get location(){return t(r,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Mw,h),l=m,()=>{r.removeEventListener(Mw,h),l=null}},createHref(m){return e(r,m)},createURL:_,encodeLocation(m){let p=_(m);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(m){return o.go(m)}};return w}var Rw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Rw||(Rw={}));function BF(t,e,n){return n===void 0&&(n="/"),zF(t,e,n,!1)}function zF(t,e,n,i){let r=typeof e=="string"?sc(e):e,s=Y_(r.pathname||"/",n);if(s==null)return null;let o=BR(t);jF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=ZF(s);a=QF(o[l],c,i)}return a}function BR(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(on(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=eo([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(on(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),BR(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:KF(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of zR(s.path))r(s,o,l)}),e}function zR(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=zR(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YF(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const HF=/^:[\w-]+$/,GF=3,WF=2,$F=1,qF=10,XF=-2,Pw=t=>t==="*";function KF(t,e){let n=t.split("/"),i=n.length;return n.some(Pw)&&(i+=XF),e&&(i+=WF),n.filter(r=>!Pw(r)).reduce((r,s)=>r+(HF.test(s)?GF:s===""?$F:qF),i)}function YF(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function QF(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=Iw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!i[i.length-1].route.index&&(h=Iw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:eo([s,h.pathname]),pathnameBase:i3(eo([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=eo([s,h.pathnameBase]))}return o}function Iw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=JF(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const _=a[h];return g&&!_?c[f]=void 0:c[f]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function JF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function ZF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Y_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function e3(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?sc(t):t;return{pathname:n?n.startsWith("/")?n:t3(n,e):e,search:r3(i),hash:s3(r)}}function t3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Vg(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jR(t,e){let n=n3(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function HR(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=sc(t):(r=Gu({},t),on(!r.pathname||!r.pathname.includes("?"),Vg("?","pathname","search",r)),on(!r.pathname||!r.pathname.includes("#"),Vg("#","pathname","hash",r)),on(!r.search||!r.search.includes("#"),Vg("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=e3(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const eo=t=>t.join("/").replace(/\/\/+/g,"/"),i3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function o3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GR=["post","put","patch","delete"];new Set(GR);const a3=["get",...GR];new Set(a3);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wu.apply(this,arguments)}const Q_=V.createContext(null),l3=V.createContext(null),wa=V.createContext(null),hm=V.createContext(null),_o=V.createContext({outlet:null,matches:[],isDataRoute:!1}),WR=V.createContext(null);function c3(t,e){let{relative:n}=e===void 0?{}:e;md()||on(!1);let{basename:i,navigator:r}=V.useContext(wa),{hash:s,pathname:o,search:a}=qR(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:eo([i,o])),r.createHref({pathname:l,search:a,hash:s})}function md(){return V.useContext(hm)!=null}function fm(){return md()||on(!1),V.useContext(hm).location}function $R(t){V.useContext(wa).static||V.useLayoutEffect(t)}function Ta(){let{isDataRoute:t}=V.useContext(_o);return t?S3():u3()}function u3(){md()||on(!1);let t=V.useContext(Q_),{basename:e,future:n,navigator:i}=V.useContext(wa),{matches:r}=V.useContext(_o),{pathname:s}=fm(),o=JSON.stringify(jR(r,n.v7_relativeSplatPath)),a=V.useRef(!1);return $R(()=>{a.current=!0}),V.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let h=HR(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:eo([e,h.pathname])),(u.replace?i.replace:i.push)(h,u.state,u)},[e,i,o,s,t])}function J_(){let{matches:t}=V.useContext(_o),e=t[t.length-1];return e?e.params:{}}function qR(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=V.useContext(wa),{matches:r}=V.useContext(_o),{pathname:s}=fm(),o=JSON.stringify(jR(r,i.v7_relativeSplatPath));return V.useMemo(()=>HR(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function d3(t,e){return h3(t,e)}function h3(t,e,n,i){md()||on(!1);let{navigator:r,static:s}=V.useContext(wa),{matches:o}=V.useContext(_o),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=fm(),h;if(e){var f;let p=typeof e=="string"?sc(e):e;c==="/"||(f=p.pathname)!=null&&f.startsWith(c)||on(!1),h=p}else h=u;let g=h.pathname||"/",_=g;if(c!=="/"){let p=c.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=!s&&n&&n.matches&&n.matches.length>0?n.matches:BF(t,{pathname:_}),m=v3(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:eo([c,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:eo([c,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),o,n,i);return e&&m?V.createElement(hm.Provider,{value:{location:Wu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Hs.Pop}},m):m}function f3(){let t=E3(),e=o3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:r},n):null,null)}const p3=V.createElement(f3,null);class m3 extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(_o.Provider,{value:this.props.routeContext},V.createElement(WR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g3(t){let{routeContext:e,match:n,children:i}=t,r=V.useContext(Q_);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(_o.Provider,{value:e},i)}function v3(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||on(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:g}=n,_=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let g,_=!1,w=null,m=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||p3,l&&(c<0&&f===0?(_=!0,m=null):c===f&&(_=!0,m=h.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,f+1)),E=()=>{let S;return g?S=w:_?S=m:h.route.Component?S=V.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=u,V.createElement(g3,{match:h,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:S})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?V.createElement(m3,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:E(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):E()},null)}var XR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(XR||{}),lp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lp||{});function y3(t){let e=V.useContext(Q_);return e||on(!1),e}function _3(t){let e=V.useContext(l3);return e||on(!1),e}function x3(t){let e=V.useContext(_o);return e||on(!1),e}function KR(t){let e=x3(),n=e.matches[e.matches.length-1];return n.route.id||on(!1),n.route.id}function E3(){var t;let e=V.useContext(WR),n=_3(lp.UseRouteError),i=KR(lp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function S3(){let{router:t}=y3(XR.UseNavigateStable),e=KR(lp.UseNavigateStable),n=V.useRef(!1);return $R(()=>{n.current=!0}),V.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Wu({fromRouteId:e},s)))},[t,e])}function w3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Gs(t){on(!1)}function T3(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Hs.Pop,navigator:s,static:o=!1,future:a}=t;md()&&on(!1);let l=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:s,static:o,future:Wu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=sc(i));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:_="default"}=i,w=V.useMemo(()=>{let m=Y_(u,l);return m==null?null:{location:{pathname:m,search:h,hash:f,state:g,key:_},navigationType:r}},[l,u,h,f,g,_,r]);return w==null?null:V.createElement(wa.Provider,{value:c},V.createElement(hm.Provider,{children:n,value:w}))}function YR(t){let{children:e,location:n}=t;return d3(J0(e),n)}new Promise(()=>{});function J0(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(i,r)=>{if(!V.isValidElement(i))return;let s=[...e,r];if(i.type===V.Fragment){n.push.apply(n,J0(i.props.children,s));return}i.type!==Gs&&on(!1),!i.props.index||!i.props.children||on(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=J0(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Z0.apply(this,arguments)}function b3(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function A3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M3(t,e){return t.button===0&&(!e||e==="_self")&&!A3(t)}const C3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R3="6";try{window.__reactRouterVersion=R3}catch{}const P3="startTransition",Nw=HD[P3];function I3(t){let{basename:e,children:n,future:i,window:r}=t,s=V.useRef();s.current==null&&(s.current=UF({window:r,v5Compat:!0}));let o=s.current,[a,l]=V.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=V.useCallback(h=>{c&&Nw?Nw(()=>l(h)):l(h)},[l,c]);return V.useLayoutEffect(()=>o.listen(u),[o,u]),V.useEffect(()=>w3(i),[i]),V.createElement(T3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const N3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ei=V.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,f=b3(e,C3),{basename:g}=V.useContext(wa),_,w=!1;if(typeof c=="string"&&L3.test(c)&&(_=c,N3))try{let S=new URL(window.location.href),M=c.startsWith("//")?new URL(S.protocol+c):new URL(c),N=Y_(M.pathname,g);M.origin===S.origin&&N!=null?c=N+M.search+M.hash:w=!0}catch{}let m=c3(c,{relative:r}),p=D3(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:h});function E(S){i&&i(S),S.defaultPrevented||p(S)}return V.createElement("a",Z0({},f,{href:_||m,onClick:w||s?i:E,ref:n,target:l}))});var Lw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lw||(Lw={}));var Dw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dw||(Dw={}));function D3(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Ta(),c=fm(),u=qR(t,{relative:o});return V.useCallback(h=>{if(M3(h,n)){h.preventDefault();let f=i!==void 0?i:ap(c)===ap(u);l(t,{replace:f,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,i,r,n,t,s,o,a])}var $t={},Z_={},gd={},vd={},QR="Expected a function",kw=NaN,k3="[object Symbol]",O3=/^\s+|\s+$/g,U3=/^[-+]0x[0-9a-f]+$/i,F3=/^0b[01]+$/i,V3=/^0o[0-7]+$/i,B3=parseInt,z3=typeof Jd=="object"&&Jd&&Jd.Object===Object&&Jd,j3=typeof self=="object"&&self&&self.Object===Object&&self,H3=z3||j3||Function("return this")(),G3=Object.prototype,W3=G3.toString,$3=Math.max,q3=Math.min,Bg=function(){return H3.Date.now()};function X3(t,e,n){var i,r,s,o,a,l,c=0,u=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(QR);e=Ow(e)||0,cp(n)&&(u=!!n.leading,h="maxWait"in n,s=h?$3(Ow(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function g(P){var T=i,A=r;return i=r=void 0,c=P,o=t.apply(A,T),o}function _(P){return c=P,a=setTimeout(p,e),u?g(P):o}function w(P){var T=P-l,A=P-c,R=e-T;return h?q3(R,s-A):R}function m(P){var T=P-l,A=P-c;return l===void 0||T>=e||T<0||h&&A>=s}function p(){var P=Bg();if(m(P))return E(P);a=setTimeout(p,w(P))}function E(P){return a=void 0,f&&i?g(P):(i=r=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function M(){return a===void 0?o:E(Bg())}function N(){var P=Bg(),T=m(P);if(i=arguments,r=this,l=P,T){if(a===void 0)return _(l);if(h)return a=setTimeout(p,e),g(l)}return a===void 0&&(a=setTimeout(p,e)),o}return N.cancel=S,N.flush=M,N}function K3(t,e,n){var i=!0,r=!0;if(typeof t!="function")throw new TypeError(QR);return cp(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),X3(t,e,{leading:i,maxWait:e,trailing:r})}function cp(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Y3(t){return!!t&&typeof t=="object"}function Q3(t){return typeof t=="symbol"||Y3(t)&&W3.call(t)==k3}function Ow(t){if(typeof t=="number")return t;if(Q3(t))return kw;if(cp(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cp(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(O3,"");var n=F3.test(t);return n||V3.test(t)?B3(t.slice(2),n?2:8):U3.test(t)?kw:+t}var J3=K3,yd={};Object.defineProperty(yd,"__esModule",{value:!0});yd.addPassiveEventListener=function(e,n,i){var r=i.name;r||(r=n,console.warn("Listener must be a named function.")),vf.has(n)||vf.set(n,new Set);var s=vf.get(n);if(!s.has(r)){var o=function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,l)}catch{}return a}();e.addEventListener(n,i,o?{passive:!0}:!1),s.add(r)}};yd.removePassiveEventListener=function(e,n,i){e.removeEventListener(n,i),vf.get(n).delete(i.name||n)};var vf=new Map;Object.defineProperty(vd,"__esModule",{value:!0});var Z3=J3,eV=tV(Z3),Uw=yd;function tV(t){return t&&t.__esModule?t:{default:t}}var nV=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,eV.default)(e,n)},Ft={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,n){if(e){var i=nV(function(r){Ft.scrollHandler(e)},n);return Ft.scrollSpyContainers.push(e),(0,Uw.addPassiveEventListener)(e,"scroll",i),function(){(0,Uw.removePassiveEventListener)(e,"scroll",i),Ft.scrollSpyContainers.splice(Ft.scrollSpyContainers.indexOf(e),1)}}return function(){}},isMounted:function(e){return Ft.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var n=window.scrollY!==void 0,i=(document.compatMode||"")==="CSS1Compat";return n?window.scrollX:i?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var n=window.scrollX!==void 0,i=(document.compatMode||"")==="CSS1Compat";return n?window.scrollY:i?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var n=Ft.scrollSpyContainers[Ft.scrollSpyContainers.indexOf(e)].spyCallbacks||[];n.forEach(function(i){return i(Ft.currentPositionX(e),Ft.currentPositionY(e))})},addStateHandler:function(e){Ft.spySetState.push(e)},addSpyHandler:function(e,n){var i=Ft.scrollSpyContainers[Ft.scrollSpyContainers.indexOf(n)];i.spyCallbacks||(i.spyCallbacks=[]),i.spyCallbacks.push(e)},updateStates:function(){Ft.spySetState.forEach(function(e){return e()})},unmount:function(e,n){Ft.scrollSpyContainers.forEach(function(i){return i.spyCallbacks&&i.spyCallbacks.length&&i.spyCallbacks.indexOf(n)>-1&&i.spyCallbacks.splice(i.spyCallbacks.indexOf(n),1)}),Ft.spySetState&&Ft.spySetState.length&&Ft.spySetState.indexOf(e)>-1&&Ft.spySetState.splice(Ft.spySetState.indexOf(e),1),document.removeEventListener("scroll",Ft.scrollHandler)},update:function(){return Ft.scrollSpyContainers.forEach(function(e){return Ft.scrollHandler(e)})}};vd.default=Ft;var oc={},_d={};Object.defineProperty(_d,"__esModule",{value:!0});var iV=function(e,n){var i=e.indexOf("#")===0?e.substring(1):e,r=i?"#"+i:"",s=window&&window.location,o=r?s.pathname+s.search+r:s.pathname+s.search;n?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},rV=function(){return window.location.hash.replace(/^#/,"")},sV=function(e){return function(n){return e.contains?e!=n&&e.contains(n):!!(e.compareDocumentPosition(n)&16)}},oV=function(e){return getComputedStyle(e).position!=="static"},zg=function(e,n){for(var i=e.offsetTop,r=e.offsetParent;r&&!n(r);)i+=r.offsetTop,r=r.offsetParent;return{offsetTop:i,offsetParent:r}},aV=function(e,n,i){if(i)return e===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?n.offsetLeft:n.offsetLeft-e.offsetLeft;if(e===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(oV(e)){if(n.offsetParent!==e){var r=function(u){return u===e||u===document},s=zg(n,r),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return n.offsetTop}if(n.offsetParent===e.offsetParent)return n.offsetTop-e.offsetTop;var l=function(u){return u===document};return zg(n,l).offsetTop-zg(e,l).offsetTop};_d.default={updateHash:iV,getHash:rV,filterElementInContainer:sV,scrollOffset:aV};var pm={},ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var tx={};Object.defineProperty(tx,"__esModule",{value:!0});var lV=yd,cV=["mousedown","wheel","touchmove","keydown"];tx.default={subscribe:function(e){return typeof document<"u"&&cV.forEach(function(n){return(0,lV.addPassiveEventListener)(document,n,e)})}};var xd={};Object.defineProperty(xd,"__esModule",{value:!0});var ey={registered:{},scrollEvent:{register:function(e,n){ey.registered[e]=n},remove:function(e){ey.registered[e]=null}}};xd.default=ey;Object.defineProperty(pm,"__esModule",{value:!0});var uV=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dV=_d;mm(dV);var hV=ex,Fw=mm(hV),fV=tx,pV=mm(fV),mV=xd,vr=mm(mV);function mm(t){return t&&t.__esModule?t:{default:t}}var JR=function(e){return Fw.default[e.smooth]||Fw.default.defaultEasing},gV=function(e){return typeof e=="function"?e:function(){return e}},vV=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},ty=function(){return vV()||function(t,e,n){window.setTimeout(t,n||1e3/60,new Date().getTime())}}(),ZR=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},eP=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var i=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return i?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},tP=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var i=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return i?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},yV=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var i=document.body,r=document.documentElement;return Math.max(i.scrollWidth,i.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth)},_V=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var i=document.body,r=document.documentElement;return Math.max(i.scrollHeight,i.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)},xV=function t(e,n,i){var r=n.data;if(!n.ignoreCancelEvents&&r.cancel){vr.default.registered.end&&vr.default.registered.end(r.to,r.target,r.currentPositionY);return}if(r.delta=Math.round(r.targetPosition-r.startPosition),r.start===null&&(r.start=i),r.progress=i-r.start,r.percent=r.progress>=r.duration?1:e(r.progress/r.duration),r.currentPosition=r.startPosition+Math.ceil(r.delta*r.percent),r.containerElement&&r.containerElement!==document&&r.containerElement!==document.body?n.horizontal?r.containerElement.scrollLeft=r.currentPosition:r.containerElement.scrollTop=r.currentPosition:n.horizontal?window.scrollTo(r.currentPosition,0):window.scrollTo(0,r.currentPosition),r.percent<1){var s=t.bind(null,e,n);ty.call(window,s);return}vr.default.registered.end&&vr.default.registered.end(r.to,r.target,r.currentPosition)},nx=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},Ed=function(e,n,i,r){n.data=n.data||ZR(),window.clearTimeout(n.data.delayTimeout);var s=function(){n.data.cancel=!0};if(pV.default.subscribe(s),nx(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?eP(n):tP(n),n.data.targetPosition=n.absolute?e:e+n.data.startPosition,n.data.startPosition===n.data.targetPosition){vr.default.registered.end&&vr.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=gV(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=i,n.data.target=r;var o=JR(n),a=xV.bind(null,o,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){vr.default.registered.begin&&vr.default.registered.begin(n.data.to,n.data.target),ty.call(window,a)},n.delay);return}vr.default.registered.begin&&vr.default.registered.begin(n.data.to,n.data.target),ty.call(window,a)},gm=function(e){return e=uV({},e),e.data=e.data||ZR(),e.absolute=!0,e},EV=function(e){Ed(0,gm(e))},SV=function(e,n){Ed(e,gm(n))},wV=function(e){e=gm(e),nx(e),Ed(e.horizontal?yV(e):_V(e),e)},TV=function(e,n){n=gm(n),nx(n);var i=n.horizontal?eP(n):tP(n);Ed(e+i,n)};pm.default={animateTopScroll:Ed,getAnimationType:JR,scrollToTop:EV,scrollToBottom:wV,scrollTo:SV,scrollMore:TV};Object.defineProperty(oc,"__esModule",{value:!0});var bV=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},AV=_d,MV=ix(AV),CV=pm,RV=ix(CV),PV=xd,_h=ix(PV);function ix(t){return t&&t.__esModule?t:{default:t}}var xh={},Vw=void 0;oc.default={unmount:function(){xh={}},register:function(e,n){xh[e]=n},unregister:function(e){delete xh[e]},get:function(e){return xh[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return Vw=e},getActiveLink:function(){return Vw},scrollTo:function(e,n){var i=this.get(e);if(!i){console.warn("target Element not found");return}n=bV({},n,{absolute:!1});var r=n.containerId,s=n.container,o=void 0;r?o=document.getElementById(r):s&&s.nodeType?o=s:o=document,n.absolute=!0;var a=n.horizontal,l=MV.default.scrollOffset(o,i,a)+(n.offset||0);if(!n.smooth){_h.default.registered.begin&&_h.default.registered.begin(e,i),o===document?n.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,_h.default.registered.end&&_h.default.registered.end(e,i);return}RV.default.animateTopScroll(l,n,e,i)}};var nP={exports:{}},IV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NV=IV,LV=NV;function iP(){}function rP(){}rP.resetWarningCache=iP;var DV=function(){function t(i,r,s,o,a,l){if(l!==LV){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rP,resetWarningCache:iP};return n.PropTypes=n,n};nP.exports=DV();var vm=nP.exports,ym={};Object.defineProperty(ym,"__esModule",{value:!0});var kV=_d,jg=OV(kV);function OV(t){return t&&t.__esModule?t:{default:t}}var UV={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,n){this.containers[e]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,n=this.getHash();n?window.setTimeout(function(){e.scrollTo(n,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,n){var i=this.scroller,r=i.get(e);if(r&&(n||e!==i.getActiveLink())){var s=this.containers[e]||document;i.scrollTo(e,{container:s})}},getHash:function(){return jg.default.getHash()},changeHash:function(e,n){this.isInitialized()&&jg.default.getHash()!==e&&jg.default.updateHash(e,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};ym.default=UV;Object.defineProperty(gd,"__esModule",{value:!0});var Eh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},FV=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),VV=V,Bw=Sd(VV),BV=vd,Sh=Sd(BV),zV=oc,jV=Sd(zV),HV=vm,kt=Sd(HV),GV=ym,Ss=Sd(GV);function Sd(t){return t&&t.__esModule?t:{default:t}}function WV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $V(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zw={to:kt.default.string.isRequired,containerId:kt.default.string,container:kt.default.object,activeClass:kt.default.string,activeStyle:kt.default.object,spy:kt.default.bool,horizontal:kt.default.bool,smooth:kt.default.oneOfType([kt.default.bool,kt.default.string]),offset:kt.default.number,delay:kt.default.number,isDynamic:kt.default.bool,onClick:kt.default.func,duration:kt.default.oneOfType([kt.default.number,kt.default.func]),absolute:kt.default.bool,onSetActive:kt.default.func,onSetInactive:kt.default.func,ignoreCancelEvents:kt.default.bool,hashSpy:kt.default.bool,saveHashHistory:kt.default.bool,spyThrottle:kt.default.number};gd.default=function(t,e){var n=e||jV.default,i=function(s){qV(o,s);function o(a){WV(this,o);var l=$V(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return r.call(l),l.state={active:!1},l.beforeUnmountCallbacks=[],l}return FV(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,c=this.props.container;return l&&!c?document.getElementById(l):c&&c.nodeType?c:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();if(!Sh.default.isMounted(l)){var c=Sh.default.mount(l,this.props.spyThrottle);this.beforeUnmountCallbacks.push(c)}this.props.hashSpy&&(Ss.default.isMounted()||Ss.default.mount(n),Ss.default.mapContainer(this.props.to,l)),Sh.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){Sh.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(l){return l()})}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var c={};this.state&&this.state.active?c=Eh({},this.props.style,this.props.activeStyle):c=Eh({},this.props.style);var u=Eh({},this.props);for(var h in zw)u.hasOwnProperty(h)&&delete u[h];return u.className=l,u.style=c,u.onClick=this.handleClick,Bw.default.createElement(t,u)}}]),o}(Bw.default.PureComponent),r=function(){var o=this;this.scrollTo=function(a,l){n.scrollTo(a,Eh({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var c=o.getScrollSpyContainer();if(!(Ss.default.isMounted()&&!Ss.default.isInitialized())){var u=o.props.horizontal,h=o.props.to,f=null,g=void 0,_=void 0;if(u){var w=0,m=0,p=0;if(c.getBoundingClientRect){var E=c.getBoundingClientRect();p=E.left}if(!f||o.props.isDynamic){if(f=n.get(h),!f)return;var S=f.getBoundingClientRect();w=S.left-p+a,m=w+S.width}var M=a-o.props.offset;g=M>=Math.floor(w)&&M<Math.floor(m),_=M<Math.floor(w)||M>=Math.floor(m)}else{var N=0,P=0,T=0;if(c.getBoundingClientRect){var A=c.getBoundingClientRect();T=A.top}if(!f||o.props.isDynamic){if(f=n.get(h),!f)return;var R=f.getBoundingClientRect();N=R.top-T+l,P=N+R.height}var x=l-o.props.offset;g=x>=Math.floor(N)&&x<Math.floor(P),_=x<Math.floor(N)||x>=Math.floor(P)}var C=n.getActiveLink();if(_){if(h===C&&n.setActiveLink(void 0),o.props.hashSpy&&Ss.default.getHash()===h){var O=o.props.saveHashHistory,D=O===void 0?!1:O;Ss.default.changeHash("",D)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(h,f))}if(g&&(C!==h||o.state.active===!1)){n.setActiveLink(h);var B=o.props.saveHashHistory,te=B===void 0?!1:B;o.props.hashSpy&&Ss.default.changeHash(h,te),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(h,f))}}}};return i.propTypes=zw,i.defaultProps={offset:0},i};Object.defineProperty(Z_,"__esModule",{value:!0});var XV=V,jw=sP(XV),KV=gd,YV=sP(KV);function sP(t){return t&&t.__esModule?t:{default:t}}function QV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function JV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ZV=function(t){JV(e,t);function e(){var n,i,r,s;QV(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(i=(r=Hw(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),r),r.render=function(){return jw.default.createElement("a",r.props,r.props.children)},i),Hw(r,s)}return e}(jw.default.Component);Z_.default=(0,YV.default)(ZV);var rx={};Object.defineProperty(rx,"__esModule",{value:!0});var e4=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),t4=V,Gw=oP(t4),n4=gd,i4=oP(n4);function oP(t){return t&&t.__esModule?t:{default:t}}function r4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s4(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function o4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a4=function(t){o4(e,t);function e(){return r4(this,e),s4(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e4(e,[{key:"render",value:function(){return Gw.default.createElement("button",this.props,this.props.children)}}]),e}(Gw.default.Component);rx.default=(0,i4.default)(a4);var sx={},_m={};Object.defineProperty(_m,"__esModule",{value:!0});var l4=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c4=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u4=V,Ww=xm(u4),d4=SR;xm(d4);var h4=oc,$w=xm(h4),f4=vm,qw=xm(f4);function xm(t){return t&&t.__esModule?t:{default:t}}function p4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m4(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function g4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}_m.default=function(t){var e=function(n){g4(i,n);function i(r){p4(this,i);var s=m4(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,r));return s.childBindings={domNode:null},s}return c4(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;$w.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){$w.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return Ww.default.createElement(t,l4({},this.props,{parentBindings:this.childBindings}))}}]),i}(Ww.default.Component);return e.propTypes={name:qw.default.string,id:qw.default.string},e};Object.defineProperty(sx,"__esModule",{value:!0});var Xw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},v4=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y4=V,Kw=ox(y4),_4=_m,x4=ox(_4),E4=vm,Yw=ox(E4);function ox(t){return t&&t.__esModule?t:{default:t}}function S4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w4(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function T4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aP=function(t){T4(e,t);function e(){return S4(this,e),w4(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return v4(e,[{key:"render",value:function(){var i=this,r=Xw({},this.props);return delete r.name,r.parentBindings&&delete r.parentBindings,Kw.default.createElement("div",Xw({},r,{ref:function(o){i.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(Kw.default.Component);aP.propTypes={name:Yw.default.string,id:Yw.default.string};sx.default=(0,x4.default)(aP);var Hg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qw=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function Jw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wh=V,Co=vd,Gg=oc,Vt=vm,ws=ym,tT={to:Vt.string.isRequired,containerId:Vt.string,container:Vt.object,activeClass:Vt.string,spy:Vt.bool,smooth:Vt.oneOfType([Vt.bool,Vt.string]),offset:Vt.number,delay:Vt.number,isDynamic:Vt.bool,onClick:Vt.func,duration:Vt.oneOfType([Vt.number,Vt.func]),absolute:Vt.bool,onSetActive:Vt.func,onSetInactive:Vt.func,ignoreCancelEvents:Vt.bool,hashSpy:Vt.bool,spyThrottle:Vt.number},b4={Scroll:function(e,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var i=n||Gg,r=function(o){eT(a,o);function a(l){Jw(this,a);var c=Zw(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(c),c.state={active:!1},c}return Qw(a,[{key:"getScrollSpyContainer",value:function(){var c=this.props.containerId,u=this.props.container;return c?document.getElementById(c):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var c=this.getScrollSpyContainer();Co.isMounted(c)||Co.mount(c,this.props.spyThrottle),this.props.hashSpy&&(ws.isMounted()||ws.mount(i),ws.mapContainer(this.props.to,c)),this.props.spy&&Co.addStateHandler(this.stateHandler),Co.addSpyHandler(this.spyHandler,c),this.setState({container:c})}}},{key:"componentWillUnmount",value:function(){Co.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var c="";this.state&&this.state.active?c=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():c=this.props.className;var u=Hg({},this.props);for(var h in tT)u.hasOwnProperty(h)&&delete u[h];return u.className=c,u.onClick=this.handleClick,wh.createElement(e,u)}}]),a}(wh.Component),s=function(){var a=this;this.scrollTo=function(l,c){i.scrollTo(l,Hg({},a.state,c))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){i.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var c=a.getScrollSpyContainer();if(!(ws.isMounted()&&!ws.isInitialized())){var u=a.props.to,h=null,f=0,g=0,_=0;if(c.getBoundingClientRect){var w=c.getBoundingClientRect();_=w.top}if(!h||a.props.isDynamic){if(h=i.get(u),!h)return;var m=h.getBoundingClientRect();f=m.top-_+l,g=f+m.height}var p=l-a.props.offset,E=p>=Math.floor(f)&&p<Math.floor(g),S=p<Math.floor(f)||p>=Math.floor(g),M=i.getActiveLink();if(S)return u===M&&i.setActiveLink(void 0),a.props.hashSpy&&ws.getHash()===u&&ws.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),Co.updateStates();if(E&&M!==u)return i.setActiveLink(u),a.props.hashSpy&&ws.changeHash(u),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(u)),Co.updateStates()}}};return r.propTypes=tT,r.defaultProps={offset:0},r},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(i){eT(r,i);function r(s){Jw(this,r);var o=Zw(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s));return o.childBindings={domNode:null},o}return Qw(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Gg.unregister(this.props.name)}},{key:"registerElems",value:function(o){Gg.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return wh.createElement(e,Hg({},this.props,{parentBindings:this.childBindings}))}}]),r}(wh.Component);return n.propTypes={name:Vt.string,id:Vt.string},n}},A4=b4;Object.defineProperty($t,"__esModule",{value:!0});$t.Helpers=$t.ScrollElement=$t.ScrollLink=$t.animateScroll=$t.scrollSpy=$t.Events=$t.scroller=$t.Element=$t.Button=Ml=$t.Link=void 0;var M4=Z_,lP=Nr(M4),C4=rx,cP=Nr(C4),R4=sx,uP=Nr(R4),P4=oc,dP=Nr(P4),I4=xd,hP=Nr(I4),N4=vd,fP=Nr(N4),L4=pm,pP=Nr(L4),D4=gd,mP=Nr(D4),k4=_m,gP=Nr(k4),O4=A4,vP=Nr(O4);function Nr(t){return t&&t.__esModule?t:{default:t}}var Ml=$t.Link=lP.default;$t.Button=cP.default;$t.Element=uP.default;$t.scroller=dP.default;$t.Events=hP.default;$t.scrollSpy=fP.default;$t.animateScroll=pP.default;$t.ScrollLink=mP.default;$t.ScrollElement=gP.default;$t.Helpers=vP.default;$t.default={Link:lP.default,Button:cP.default,Element:uP.default,scroller:dP.default,Events:hP.default,scrollSpy:fP.default,animateScroll:pP.default,ScrollLink:mP.default,ScrollElement:gP.default,Helpers:vP.default};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ot=(t,e)=>{const n=V.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>V.createElement("svg",{ref:u,...U4,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:["lucide",`lucide-${F4(t)}`,a].join(" "),...c},[...e.map(([h,f])=>V.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=ot("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=ot("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ot("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=ot("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ot("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=ot("Codepen",[["polygon",{points:"12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2",key:"srzb37"}],["line",{x1:"12",x2:"12",y1:"22",y2:"15.5",key:"1t73f2"}],["polyline",{points:"22 8.5 12 15.5 2 8.5",key:"ajlxae"}],["polyline",{points:"2 15.5 12 8.5 22 15.5",key:"susrui"}],["line",{x1:"12",x2:"12",y1:"2",y2:"8.5",key:"2cldga"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=ot("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=ot("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=ot("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=ot("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ot("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=ot("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=ot("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=ot("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ot("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=ot("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=ot("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=ot("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=ot("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=ot("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=ot("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=ot("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=ot("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=ot("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=ot("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wP=V.createContext(null),Em=()=>{const t=V.useContext(wP);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},aB=({children:t})=>{const[e,n]=V.useState(()=>{const r=localStorage.getItem("theme");return r?r==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});V.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e?"dark":"light")},[e]);const i=()=>{n(r=>!r)};return v.jsx(wP.Provider,{value:{darkMode:e,toggleTheme:i},children:t})},cx=V.createContext({});function ac(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sm=V.createContext(null),wm=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class lB extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cB({children:t,isPresent:e}){const n=V.useId(),i=V.useRef(null),r=V.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=V.useContext(wm);return V.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=r.current;if(e||!i.current||!o||!a)return;i.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),v.jsx(lB,{isPresent:e,childRef:i,sizeRef:r,children:V.cloneElement(t,{ref:i})})}const uB=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o})=>{const a=ac(dB),l=V.useId(),c=V.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;i&&i()},[a,i]),u=V.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random(),c]:[n,c]);return V.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),V.useEffect(()=>{!n&&!a.size&&i&&i()},[n]),o==="popLayout"&&(t=v.jsx(cB,{isPresent:n,children:t})),v.jsx(Sm.Provider,{value:u,children:t})};function dB(){return new Map}function TP(t=!0){const e=V.useContext(Sm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=V.useId();V.useEffect(()=>{t&&r(s)},[t]);const o=V.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const Th=t=>t.key||"";function sT(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const ux=typeof window<"u",Tm=ux?V.useLayoutEffect:V.useEffect,dx=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=TP(o),c=V.useMemo(()=>sT(t),[t]),u=o&&!a?[]:c.map(Th),h=V.useRef(!0),f=V.useRef(c),g=ac(()=>new Map),[_,w]=V.useState(c),[m,p]=V.useState(c);Tm(()=>{h.current=!1,f.current=c;for(let M=0;M<m.length;M++){const N=Th(m[M]);u.includes(N)?g.delete(N):g.get(N)!==!0&&g.set(N,!1)}},[m,u.length,u.join("-")]);const E=[];if(c!==_){let M=[...c];for(let N=0;N<m.length;N++){const P=m[N],T=Th(P);u.includes(T)||(M.splice(N,0,P),E.push(P))}s==="wait"&&E.length&&(M=E),p(sT(M)),w(c);return}const{forceRender:S}=V.useContext(cx);return v.jsx(v.Fragment,{children:m.map(M=>{const N=Th(M),P=o&&!a?!1:c===m||u.includes(N),T=()=>{if(g.has(N))g.set(N,!0);else return;let A=!0;g.forEach(R=>{R||(A=!1)}),A&&(S==null||S(),p(f.current),o&&(l==null||l()),i&&i())};return v.jsx(uB,{isPresent:P,initial:!h.current||n?void 0:!1,custom:P?void 0:e,presenceAffectsLayout:r,mode:s,onExitComplete:P?void 0:T,children:M},N)})})},ni=t=>t;let hB=ni,ry=ni;function hx(t){let e;return()=>(e===void 0&&(e=t()),e)}const fa=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},is=t=>t*1e3,rs=t=>t/1e3,fB={skipAnimations:!1,useManualTiming:!1};function pB(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const g=h&&i?e:n;return u&&s.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const bh=["read","resolveKeyframes","update","preRender","render","postRender"],mB=40;function bP(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=bh.reduce((p,E)=>(p[E]=pB(s),p),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:f}=o,g=()=>{const p=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(p-r.timestamp,mB),1),r.timestamp=p,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),h.process(r),f.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(g))},_=()=>{n=!0,i=!0,r.isProcessing||t(g)};return{schedule:bh.reduce((p,E)=>{const S=o[E];return p[E]=(M,N=!1,P=!1)=>(n||_(),S.schedule(M,N,P)),p},{}),cancel:p=>{for(let E=0;E<bh.length;E++)o[bh[E]].cancel(p)},state:r,steps:o}}const{schedule:pt,cancel:ur,state:pn,steps:Wg}=bP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ni,!0),AP=V.createContext({strict:!1}),oT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gl={};for(const t in oT)Gl[t]={isEnabled:e=>oT[t].some(n=>!!e[n])};function gB(t){for(const e in t)Gl[e]={...Gl[e],...t[e]}}const vB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vB.has(t)}let MP=t=>!dp(t);function yB(t){t&&(MP=e=>e.startsWith("on")?!dp(e):t(e))}try{yB(require("@emotion/is-prop-valid").default)}catch{}function _B(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(MP(r)||n===!0&&dp(r)||!e&&!dp(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function xB(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const bm=V.createContext({});function $u(t){return typeof t=="string"||Array.isArray(t)}function Am(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],px=["initial",...fx];function Mm(t){return Am(t.animate)||px.some(e=>$u(t[e]))}function CP(t){return!!(Mm(t)||t.variants)}function EB(t,e){if(Mm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||$u(n)?n:void 0,animate:$u(i)?i:void 0}}return t.inherit!==!1?e:{}}function SB(t){const{initial:e,animate:n}=EB(t,V.useContext(bm));return V.useMemo(()=>({initial:e,animate:n}),[aT(e),aT(n)])}function aT(t){return Array.isArray(t)?t.join(" "):t}const wB=Symbol.for("motionComponentSymbol");function fl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TB(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):fl(n)&&(n.current=i))},[e])}const mx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bB="framerAppearId",RP="data-"+mx(bB),{schedule:gx,cancel:Ete}=bP(queueMicrotask,!1),PP=V.createContext({});function AB(t,e,n,i,r){var s,o;const{visualElement:a}=V.useContext(bm),l=V.useContext(AP),c=V.useContext(Sm),u=V.useContext(wm).reducedMotion,h=V.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=V.useContext(PP);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&MB(h.current,n,r,g);const _=V.useRef(!1);V.useInsertionEffect(()=>{f&&_.current&&f.update(n,c)});const w=n[RP],m=V.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return Tm(()=>{f&&(_.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),gx.render(f.render),m.current&&f.animationState&&f.animationState.animateChanges())}),V.useEffect(()=>{f&&(!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,w)}),m.current=!1))}),f}function MB(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:IP(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&fl(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function IP(t){if(t)return t.options.allowProjection!==!1?t.projection:IP(t.parent)}function CB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&gB(t);function a(c,u){let h;const f={...V.useContext(wm),...c,layoutId:RB(c)},{isStatic:g}=f,_=SB(c),w=i(c,g);if(!g&&ux){PB();const m=IB(f);h=m.MeasureLayout,_.visualElement=AB(r,w,f,e,m.ProjectionNode)}return v.jsxs(bm.Provider,{value:_,children:[h&&_.visualElement?v.jsx(h,{visualElement:_.visualElement,...f}):null,n(r,c,TB(w,_.visualElement,u),w,g,_.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=V.forwardRef(a);return l[wB]=r,l}function RB({layoutId:t}){const e=V.useContext(cx).id;return e&&t!==void 0?e+"-"+t:t}function PB(t,e){V.useContext(AP).strict}function IB(t){const{drag:e,layout:n}=Gl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const NB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vx(t){return typeof t!="string"||t.includes("-")?!1:!!(NB.indexOf(t)>-1||/[A-Z]/u.test(t))}function lT(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function yx(t,e,n,i){if(typeof e=="function"){const[r,s]=lT(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=lT(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const sy=t=>Array.isArray(t),LB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),DB=t=>sy(t)?t[t.length-1]||0:t,Wn=t=>!!(t&&t.getVelocity);function yf(t){const e=Wn(t)?t.get():t;return LB(e)?e.toValue():e}function kB({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:OB(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const NP=t=>(e,n)=>{const i=V.useContext(bm),r=V.useContext(Sm),s=()=>kB(t,e,i,r);return n?s():ac(s)};function OB(t,e,n,i){const r={},s=i(t,{});for(const f in s)r[f]=yf(s[f]);let{initial:o,animate:a}=t;const l=Mm(t),c=CP(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!Am(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const _=yx(t,f[g]);if(_){const{transitionEnd:w,transition:m,...p}=_;for(const E in p){let S=p[E];if(Array.isArray(S)){const M=u?S.length-1:0;S=S[M]}S!==null&&(r[E]=S)}for(const E in w)r[E]=w[E]}}}return r}const lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ba=new Set(lc),LP=t=>e=>typeof e=="string"&&e.startsWith(t),DP=LP("--"),UB=LP("var(--"),_x=t=>UB(t)?FB.test(t.split("/*")[0].trim()):!1,FB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Cr=(t,e,n)=>n>e?e:n<t?t:n,cc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qu={...cc,transform:t=>Cr(0,1,t)},Ah={...cc,default:1},wd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Is=wd("deg"),Tr=wd("%"),Ve=wd("px"),VB=wd("vh"),BB=wd("vw"),cT={...Tr,parse:t=>Tr.parse(t)/100,transform:t=>Tr.transform(t*100)},zB={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve},jB={rotate:Is,rotateX:Is,rotateY:Is,rotateZ:Is,scale:Ah,scaleX:Ah,scaleY:Ah,scaleZ:Ah,skew:Is,skewX:Is,skewY:Is,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:qu,originX:cT,originY:cT,originZ:Ve},uT={...cc,transform:Math.round},xx={...zB,...jB,zIndex:uT,size:Ve,fillOpacity:qu,strokeOpacity:qu,numOctaves:uT},HB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GB=lc.length;function WB(t,e,n){let i="",r=!0;for(let s=0;s<GB;s++){const o=lc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=kP(a,xx[o]);if(!l){r=!1;const u=HB[o]||o;i+=`${u}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Ex(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(ba.has(l)){o=!0;continue}else if(DP(l)){r[l]=c;continue}else{const u=kP(c,xx[l]);l.startsWith("origin")?(a=!0,s[l]=u):i[l]=u}}if(e.transform||(o||n?i.transform=WB(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;i.transformOrigin=`${l} ${c} ${u}`}}const $B={offset:"stroke-dashoffset",array:"stroke-dasharray"},qB={offset:"strokeDashoffset",array:"strokeDasharray"};function XB(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?$B:qB;t[s.offset]=Ve.transform(-i);const o=Ve.transform(e),a=Ve.transform(n);t[s.array]=`${o} ${a}`}function dT(t,e,n){return typeof t=="string"?t:Ve.transform(e+n*t)}function KB(t,e,n){const i=dT(e,t.x,t.width),r=dT(n,t.y,t.height);return`${i} ${r}`}function Sx(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(Ex(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:_}=t;f.transform&&(_&&(g.transform=f.transform),delete f.transform),_&&(r!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=KB(_,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),i!==void 0&&(f.scale=i),o!==void 0&&XB(f,o,a,l,!1)}const wx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),OP=()=>({...wx(),attrs:{}}),Tx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UP(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const FP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VP(t,e,n,i){UP(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(FP.has(r)?r:mx(r),e.attrs[r])}const hp={};function YB(t){Object.assign(hp,t)}function BP(t,{layout:e,layoutId:n}){return ba.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hp[t]||t==="opacity")}function bx(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Wn(r[o])||e.style&&Wn(e.style[o])||BP(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function zP(t,e,n){const i=bx(t,e,n);for(const r in t)if(Wn(t[r])||Wn(e[r])){const s=lc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}function QB(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const hT=["x","y","width","height","cx","cy","r"],JB={useVisualState:NP({scrapeMotionValuesFromProps:zP,createRenderState:OP,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(ba.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<hT.length;a++){const l=hT[a];t[l]!==e[l]&&(o=!0)}o&&pt.read(()=>{QB(n,i),pt.render(()=>{Sx(i,r,Tx(n.tagName),t.transformTemplate),VP(n,i)})})}})},ZB={useVisualState:NP({scrapeMotionValuesFromProps:bx,createRenderState:wx})};function jP(t,e,n){for(const i in e)!Wn(e[i])&&!BP(i,n)&&(t[i]=e[i])}function e5({transformTemplate:t},e){return V.useMemo(()=>{const n=wx();return Ex(n,e,t),Object.assign({},n.vars,n.style)},[e])}function t5(t,e){const n=t.style||{},i={};return jP(i,n,t),Object.assign(i,e5(t,e)),i}function n5(t,e){const n={},i=t5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function i5(t,e,n,i){const r=V.useMemo(()=>{const s=OP();return Sx(s,e,Tx(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};jP(s,t.style,t),r.style={...s,...r.style}}return r}function r5(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(vx(n)?i5:n5)(i,s,o,n),c=_B(i,typeof n=="string",t),u=n!==V.Fragment?{...c,...l,ref:r}:{},{children:h}=i,f=V.useMemo(()=>Wn(h)?h.get():h,[h]);return V.createElement(n,{...u,children:f})}}function s5(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...vx(i)?JB:ZB,preloadedFeatures:t,useRender:r5(r),createVisualElement:e,Component:i};return CB(o)}}function HP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Cm(t,e,n){const i=t.getProps();return yx(i,e,n!==void 0?n:i.custom,t)}const GP=hx(()=>window.ScrollTimeline!==void 0);class o5{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(GP()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class a5 extends o5{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Ax(t,e){return t?t[e]||t.default||t:void 0}const oy=2e4;function WP(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<oy;)e+=n,i=t.next(e);return e>=oy?1/0:e}function Mx(t){return typeof t=="function"}function fT(t,e){t.timeline=e,t.onfinish=null}const Cx=t=>Array.isArray(t)&&typeof t[0]=="number",l5={linearEasing:void 0};function c5(t,e){const n=hx(t);return()=>{var i;return(i=l5[e])!==null&&i!==void 0?i:n()}}const fp=c5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$P=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(fa(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function qP(t){return!!(typeof t=="function"&&fp()||!t||typeof t=="string"&&(t in ay||fp())||Cx(t)||Array.isArray(t)&&t.every(qP))}const Zc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,ay={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zc([0,.65,.55,1]),circOut:Zc([.55,0,1,.45]),backIn:Zc([.31,.01,.66,-.59]),backOut:Zc([.33,1.53,.69,.99])};function XP(t,e){if(t)return typeof t=="function"&&fp()?$P(t,e):Cx(t)?Zc(t):Array.isArray(t)?t.map(n=>XP(n,e)||ay.easeOut):ay[t]}const Yi={x:!1,y:!1};function KP(){return Yi.x||Yi.y}function Rx(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function YP(t,e){const n=Rx(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function pT(t){return e=>{e.pointerType==="touch"||KP()||t(e)}}function u5(t,e,n={}){const[i,r,s]=YP(t,n),o=pT(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=pT(h=>{c(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,r)});return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const QP=(t,e)=>e?t===e?!0:QP(t,e.parentElement):!1,Px=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,d5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function h5(t){return d5.has(t.tagName)||t.tabIndex!==-1}const eu=new WeakSet;function mT(t){return e=>{e.key==="Enter"&&t(e)}}function $g(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const f5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=mT(()=>{if(eu.has(n))return;$g(n,"down");const r=mT(()=>{$g(n,"up")}),s=()=>$g(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function gT(t){return Px(t)&&!KP()}function p5(t,e,n={}){const[i,r,s]=YP(t,n),o=a=>{const l=a.currentTarget;if(!gT(a)||eu.has(l))return;eu.add(l);const c=e(a),u=(g,_)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!gT(g)||!eu.has(l))&&(eu.delete(l),typeof c=="function"&&c(g,{success:_}))},h=g=>{u(g,n.useGlobalTarget||QP(l,g.target))},f=g=>{u(g,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",f,r)};return i.forEach(a=>{!h5(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",c=>f5(c,r),r)}),s}function m5(t){return t==="x"||t==="y"?Yi[t]?null:(Yi[t]=!0,()=>{Yi[t]=!1}):Yi.x||Yi.y?null:(Yi.x=Yi.y=!0,()=>{Yi.x=Yi.y=!1})}const JP=new Set(["width","height","top","left","right","bottom",...lc]);let _f;function g5(){_f=void 0}const br={now:()=>(_f===void 0&&br.set(pn.isProcessing||fB.useManualTiming?pn.timestamp:performance.now()),_f),set:t=>{_f=t,queueMicrotask(g5)}};function Ix(t,e){t.indexOf(e)===-1&&t.push(e)}function Nx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Lx{constructor(){this.subscriptions=[]}add(e){return Ix(this.subscriptions,e),()=>Nx(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Dx(t,e){return e?t*(1e3/e):0}const vT=30,v5=t=>!isNaN(parseFloat(t)),pu={current:void 0};class y5{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=br.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=br.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=v5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Lx);const i=this.events[e].add(n);return e==="change"?()=>{i(),pt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return pu.current&&pu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vT);return Dx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Er(t,e){return new y5(t,e)}function _5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Er(n))}function x5(t,e){const n=Cm(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=DB(s[o]);_5(t,o,a)}}function E5(t){return!!(Wn(t)&&t.add)}function ly(t,e){const n=t.getValue("willChange");if(E5(n))return n.add(e)}function ZP(t){return t.props[RP]}const eI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,S5=1e-7,w5=12;function T5(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=eI(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>S5&&++a<w5);return o}function Td(t,e,n,i){if(t===e&&n===i)return ni;const r=s=>T5(s,0,1,t,n);return s=>s===0||s===1?s:eI(r(s),e,i)}const tI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nI=t=>e=>1-t(1-e),iI=Td(.33,1.53,.69,.99),kx=nI(iI),rI=tI(kx),sI=t=>(t*=2)<1?.5*kx(t):.5*(2-Math.pow(2,-10*(t-1))),Ox=t=>1-Math.sin(Math.acos(t)),oI=nI(Ox),aI=tI(Ox),lI=t=>/^0[^.\s]+$/u.test(t);function b5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lI(t):!0}const mu=t=>Math.round(t*1e5)/1e5,Ux=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function A5(t){return t==null}const M5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fx=(t,e)=>n=>!!(typeof n=="string"&&M5.test(n)&&n.startsWith(t)||e&&!A5(n)&&Object.prototype.hasOwnProperty.call(n,e)),cI=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(Ux);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},C5=t=>Cr(0,255,t),qg={...cc,transform:t=>Math.round(C5(t))},qo={test:Fx("rgb","red"),parse:cI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+qg.transform(t)+", "+qg.transform(e)+", "+qg.transform(n)+", "+mu(qu.transform(i))+")"};function R5(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const cy={test:Fx("#"),parse:R5,transform:qo.transform},pl={test:Fx("hsl","hue"),parse:cI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Tr.transform(mu(e))+", "+Tr.transform(mu(n))+", "+mu(qu.transform(i))+")"},zn={test:t=>qo.test(t)||cy.test(t)||pl.test(t),parse:t=>qo.test(t)?qo.parse(t):pl.test(t)?pl.parse(t):cy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qo.transform(t):pl.transform(t)},P5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function I5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ux))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(P5))===null||n===void 0?void 0:n.length)||0)>0}const uI="number",dI="color",N5="var",L5="var(",yT="${}",D5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(D5,l=>(zn.test(l)?(i.color.push(s),r.push(dI),n.push(zn.parse(l))):l.startsWith(L5)?(i.var.push(s),r.push(N5),n.push(l)):(i.number.push(s),r.push(uI),n.push(parseFloat(l))),++s,yT)).split(yT);return{values:n,split:a,indexes:i,types:r}}function hI(t){return Xu(t).values}function fI(t){const{split:e,types:n}=Xu(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===uI?s+=mu(r[o]):a===dI?s+=zn.transform(r[o]):s+=r[o]}return s}}const k5=t=>typeof t=="number"?0:t;function O5(t){const e=hI(t);return fI(t)(e.map(k5))}const lo={test:I5,parse:hI,createTransformer:fI,getAnimatableNone:O5},U5=new Set(["brightness","contrast","saturate","opacity"]);function F5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Ux)||[];if(!i)return t;const r=n.replace(i,"");let s=U5.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const V5=/\b([a-z-]*)\(.*?\)/gu,uy={...lo,getAnimatableNone:t=>{const e=t.match(V5);return e?e.map(F5).join(" "):t}},B5={...xx,color:zn,backgroundColor:zn,outlineColor:zn,fill:zn,stroke:zn,borderColor:zn,borderTopColor:zn,borderRightColor:zn,borderBottomColor:zn,borderLeftColor:zn,filter:uy,WebkitFilter:uy},Vx=t=>B5[t];function pI(t,e){let n=Vx(t);return n!==uy&&(n=lo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const z5=new Set(["auto","none","0"]);function j5(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!z5.has(s)&&Xu(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=pI(n,r)}const _T=t=>t===cc||t===Ve,xT=(t,e)=>parseFloat(t.split(", ")[e]),ET=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return xT(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?xT(s[1],t):0}},H5=new Set(["x","y","z"]),G5=lc.filter(t=>!H5.has(t));function W5(t){const e=[];return G5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Wl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ET(4,13),y:ET(5,14)};Wl.translateX=Wl.x;Wl.translateY=Wl.y;const Zo=new Set;let dy=!1,hy=!1;function mI(){if(hy){const t=Array.from(Zo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=W5(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}hy=!1,dy=!1,Zo.forEach(t=>t.complete()),Zo.clear()}function gI(){Zo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hy=!0)})}function $5(){gI(),mI()}class Bx{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zo.add(this),dy||(dy=!0,pt.read(gI),pt.resolveKeyframes(mI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const vI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),q5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X5(t){const e=q5.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function yI(t,e,n=1){const[i,r]=X5(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return vI(o)?parseFloat(o):o}return _x(r)?yI(r,e,n+1):r}const _I=t=>e=>e.test(t),K5={test:t=>t==="auto",parse:t=>t},xI=[cc,Ve,Tr,Is,BB,VB,K5],ST=t=>xI.find(_I(t));class EI extends Bx{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),_x(c))){const u=yI(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!JP.has(i)||e.length!==2)return;const[r,s]=e,o=ST(r),a=ST(s);if(o!==a)if(_T(o)&&_T(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)b5(e[r])&&i.push(r);i.length&&j5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Wl[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const wT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(lo.test(t)||t==="0")&&!t.startsWith("url("));function Y5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Q5(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=wT(r,e),a=wT(s,e);return!o||!a?!1:Y5(t)||(n==="spring"||Mx(n))&&i}const J5=t=>t!==null;function Rm(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(J5),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const Z5=40;class SI{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=br.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Z5?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$5(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=br.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Q5(e,i,r,s))if(o)this.options.duration=0;else{l&&l(Rm(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const jt=(t,e,n)=>t+(e-t)*n;function Xg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ez({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=Xg(l,a,t+1/3),s=Xg(l,a,t),o=Xg(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function pp(t,e){return n=>n>0?e:t}const Kg=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},tz=[cy,qo,pl],nz=t=>tz.find(e=>e.test(t));function TT(t){const e=nz(t);if(!e)return!1;let n=e.parse(t);return e===pl&&(n=ez(n)),n}const bT=(t,e)=>{const n=TT(t),i=TT(e);if(!n||!i)return pp(t,e);const r={...n};return s=>(r.red=Kg(n.red,i.red,s),r.green=Kg(n.green,i.green,s),r.blue=Kg(n.blue,i.blue,s),r.alpha=jt(n.alpha,i.alpha,s),qo.transform(r))},iz=(t,e)=>n=>e(t(n)),bd=(...t)=>t.reduce(iz),fy=new Set(["none","hidden"]);function rz(t,e){return fy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function sz(t,e){return n=>jt(t,e,n)}function zx(t){return typeof t=="number"?sz:typeof t=="string"?_x(t)?pp:zn.test(t)?bT:lz:Array.isArray(t)?wI:typeof t=="object"?zn.test(t)?bT:oz:pp}function wI(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>zx(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function oz(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=zx(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function az(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const lz=(t,e)=>{const n=lo.createTransformer(e),i=Xu(t),r=Xu(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?fy.has(t)&&!r.values.length||fy.has(e)&&!i.values.length?rz(t,e):bd(wI(az(i,r),r.values),n):pp(t,e)};function TI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?jt(t,e,n):zx(t)(t,e)}const cz=5;function bI(t,e,n){const i=Math.max(e-cz,0);return Dx(n-t(i),e-i)}const qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yg=.001;function uz({duration:t=qt.duration,bounce:e=qt.bounce,velocity:n=qt.velocity,mass:i=qt.mass}){let r,s,o=1-e;o=Cr(qt.minDamping,qt.maxDamping,o),t=Cr(qt.minDuration,qt.maxDuration,rs(t)),o<1?(r=c=>{const u=c*o,h=u*t,f=u-n,g=py(c,o),_=Math.exp(-h);return Yg-f/g*_},s=c=>{const h=c*o*t,f=h*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,_=Math.exp(-h),w=py(Math.pow(c,2),o);return(-r(c)+Yg>0?-1:1)*((f-g)*_)/w}):(r=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-Yg+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=hz(r,s,a);if(t=is(t),isNaN(l))return{stiffness:qt.stiffness,damping:qt.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const dz=12;function hz(t,e,n){let i=n;for(let r=1;r<dz;r++)i=i-t(i)/e(i);return i}function py(t,e){return t*Math.sqrt(1-e*e)}const fz=["duration","bounce"],pz=["stiffness","damping","mass"];function AT(t,e){return e.some(n=>t[n]!==void 0)}function mz(t){let e={velocity:qt.velocity,stiffness:qt.stiffness,damping:qt.damping,mass:qt.mass,isResolvedFromDuration:!1,...t};if(!AT(t,pz)&&AT(t,fz))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Cr(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:qt.mass,stiffness:r,damping:s}}else{const n=uz(t);e={...e,...n,mass:qt.mass},e.isResolvedFromDuration=!0}return e}function AI(t=qt.visualDuration,e=qt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:g}=mz({...n,velocity:-rs(n.velocity||0)}),_=f||0,w=c/(2*Math.sqrt(l*u)),m=o-s,p=rs(Math.sqrt(l/u)),E=Math.abs(m)<5;i||(i=E?qt.restSpeed.granular:qt.restSpeed.default),r||(r=E?qt.restDelta.granular:qt.restDelta.default);let S;if(w<1){const N=py(p,w);S=P=>{const T=Math.exp(-w*p*P);return o-T*((_+w*p*m)/N*Math.sin(N*P)+m*Math.cos(N*P))}}else if(w===1)S=N=>o-Math.exp(-p*N)*(m+(_+p*m)*N);else{const N=p*Math.sqrt(w*w-1);S=P=>{const T=Math.exp(-w*p*P),A=Math.min(N*P,300);return o-T*((_+w*p*m)*Math.sinh(A)+N*m*Math.cosh(A))/N}}const M={calculatedDuration:g&&h||null,next:N=>{const P=S(N);if(g)a.done=N>=h;else{let T=0;w<1&&(T=N===0?is(_):bI(S,N,P));const A=Math.abs(T)<=i,R=Math.abs(o-P)<=r;a.done=A&&R}return a.value=a.done?o:P,a},toString:()=>{const N=Math.min(WP(M),oy),P=$P(T=>M.next(N*T).value,N,30);return N+"ms "+P}};return M}function MT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},g=A=>a!==void 0&&A<a||l!==void 0&&A>l,_=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let w=n*e;const m=h+w,p=o===void 0?m:o(m);p!==m&&(w=p-h);const E=A=>-w*Math.exp(-A/i),S=A=>p+E(A),M=A=>{const R=E(A),x=S(A);f.done=Math.abs(R)<=c,f.value=f.done?p:x};let N,P;const T=A=>{g(f.value)&&(N=A,P=AI({keyframes:[f.value,_(f.value)],velocity:bI(S,A,f.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:A=>{let R=!1;return!P&&N===void 0&&(R=!0,M(A),T(A)),N!==void 0&&A>=N?P.next(A-N):(!R&&M(A),f)}}}const gz=Td(.42,0,1,1),vz=Td(0,0,.58,1),MI=Td(.42,0,.58,1),yz=t=>Array.isArray(t)&&typeof t[0]!="number",CT={linear:ni,easeIn:gz,easeInOut:MI,easeOut:vz,circIn:Ox,circInOut:aI,circOut:oI,backIn:kx,backInOut:rI,backOut:iI,anticipate:sI},RT=t=>{if(Cx(t)){ry(t.length===4);const[e,n,i,r]=t;return Td(e,n,i,r)}else if(typeof t=="string")return ry(CT[t]!==void 0),CT[t];return t};function _z(t,e,n){const i=[],r=n||TI,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ni:e;a=bd(l,a)}i.push(a)}return i}function jx(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(ry(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=_z(e,i,r),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=fa(t[h],t[h+1],u);return a[h](f)};return n?u=>c(Cr(t[0],t[s-1],u)):c}function xz(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=fa(0,e,i);t.push(jt(n,1,r))}}function CI(t){const e=[0];return xz(e,t.length-1),e}function Ez(t,e){return t.map(n=>n*e)}function Sz(t,e){return t.map(()=>e||MI).splice(0,t.length-1)}function mp({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=yz(i)?i.map(RT):RT(i),s={done:!1,value:e[0]},o=Ez(n&&n.length===e.length?n:CI(e),t),a=jx(o,e,{ease:Array.isArray(r)?r:Sz(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const wz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>pt.update(e,!0),stop:()=>ur(e),now:()=>pn.isProcessing?pn.timestamp:br.now()}},Tz={decay:MT,inertia:MT,tween:mp,keyframes:mp,spring:AI},bz=t=>t/100;class Hx extends SI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Bx,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=Mx(n)?n:Tz[n]||mp;let l,c;a!==mp&&typeof e[0]!="number"&&(l=bd(bz,TI(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=WP(u));const{calculatedDuration:h}=u,f=h+r,g=f*(i+1)-r;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=i;if(this.startTime===null)return s.next(0);const{delay:f,repeat:g,repeatType:_,repeatDelay:w,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const p=this.currentTime-f*(this.speed>=0?1:-1),E=this.speed>=0?p<0:p>u;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,M=s;if(g){const A=Math.min(this.currentTime,u)/h;let R=Math.floor(A),x=A%1;!x&&A>=1&&(x=1),x===1&&R--,R=Math.min(R,g+1),!!(R%2)&&(_==="reverse"?(x=1-x,w&&(x-=w/h)):_==="mirror"&&(M=o)),S=Cr(0,1,x)*h}const N=E?{done:!1,value:l[0]}:M.next(S);a&&(N.value=a(N.value));let{done:P}=N;!E&&c!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return T&&r!==void 0&&(N.value=Rm(l,this.options,r)),m&&m(N.value),T&&this.finish(),N}get duration(){const{resolved:e}=this;return e?rs(e.calculatedDuration):0}get time(){return rs(this.currentTime)}set time(e){e=is(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=rs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=wz,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Az=new Set(["opacity","clipPath","filter","transform"]);function Mz(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=XP(a,r);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:i,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Cz=hx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),gp=10,Rz=2e4;function Pz(t){return Mx(t.type)||t.type==="spring"||!qP(t.ease)}function Iz(t,e){const n=new Hx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<Rz;)i=n.sample(s),r.push(i.value),s+=gp;return{times:void 0,keyframes:r,duration:s-gp,ease:"linear"}}const RI={anticipate:sI,backInOut:rI,circInOut:aI};function Nz(t){return t in RI}class PT extends SI{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new EI(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&fp()&&Nz(s)&&(s=RI[s]),Pz(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,element:_,...w}=this.options,m=Iz(e,w);e=m.keyframes,e.length===1&&(e[1]=e[0]),i=m.duration,r=m.times,s=m.ease,o="keyframes"}const u=Mz(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(fT(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(Rm(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return rs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return rs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=is(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ni;const{animation:i}=n;fT(i,e)}return ni}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:f,...g}=this.options,_=new Hx({...g,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),w=is(this.time);c.setWithVelocity(_.sample(w-gp).value,_.sample(w).value,gp)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Cz()&&i&&Az.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Lz={type:"spring",stiffness:500,damping:25,restSpeed:10},Dz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kz={type:"keyframes",duration:.8},Oz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Uz=(t,{keyframes:e})=>e.length>2?kz:ba.has(t)?t.startsWith("scale")?Dz(e[1]):Lz:Oz;function Fz({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Gx=(t,e,n,i={},r,s)=>o=>{const a=Ax(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-is(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};Fz(a)||(u={...u,...Uz(t,u)}),u.duration&&(u.duration=is(u.duration)),u.repeatDelay&&(u.repeatDelay=is(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const f=Rm(u.keyframes,a);if(f!==void 0)return pt.update(()=>{u.onUpdate(f),u.onComplete()}),new a5([])}return!s&&PT.supports(u)?new PT(u):new Hx(u)};function Vz({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function PI(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),g=l[h];if(g===void 0||u&&Vz(u,h))continue;const _={delay:n,...Ax(o||{},h)};let w=!1;if(window.MotionHandoffAnimation){const p=ZP(t);if(p){const E=window.MotionHandoffAnimation(p,h,pt);E!==null&&(_.startTime=E,w=!0)}}ly(t,h),f.start(Gx(h,f,g,t.shouldReduceMotion&&JP.has(h)?{type:!1}:_,t,w));const m=f.animation;m&&c.push(m)}return a&&Promise.all(c).then(()=>{pt.update(()=>{a&&x5(t,a)})}),c}function my(t,e,n={}){var i;const r=Cm(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(PI(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=s;return Bz(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function Bz(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(zz).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(my(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function zz(t,e){return t.sortNodePosition(e)}function jz(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>my(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=my(t,e,n);else{const r=typeof e=="function"?Cm(t,e,n.custom):e;i=Promise.all(PI(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const Hz=px.length;function II(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?II(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Hz;n++){const i=px[n],r=t.props[i];($u(r)||r===!1)&&(e[i]=r)}return e}const Gz=[...fx].reverse(),Wz=fx.length;function $z(t){return e=>Promise.all(e.map(({animation:n,options:i})=>jz(t,n,i)))}function qz(t){let e=$z(t),n=IT(),i=!0;const r=l=>(c,u)=>{var h;const f=Cm(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:_,...w}=f;c={...c,...w,..._}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=II(t.parent)||{},h=[],f=new Set;let g={},_=1/0;for(let m=0;m<Wz;m++){const p=Gz[m],E=n[p],S=c[p]!==void 0?c[p]:u[p],M=$u(S),N=p===l?E.isActive:null;N===!1&&(_=m);let P=S===u[p]&&S!==c[p]&&M;if(P&&i&&t.manuallyAnimateOnMount&&(P=!1),E.protectedKeys={...g},!E.isActive&&N===null||!S&&!E.prevProp||Am(S)||typeof S=="boolean")continue;const T=Xz(E.prevProp,S);let A=T||p===l&&E.isActive&&!P&&M||m>_&&M,R=!1;const x=Array.isArray(S)?S:[S];let C=x.reduce(r(p),{});N===!1&&(C={});const{prevResolvedValues:O={}}=E,D={...O,...C},B=ne=>{A=!0,f.has(ne)&&(R=!0,f.delete(ne)),E.needsAnimating[ne]=!0;const z=t.getValue(ne);z&&(z.liveStyle=!1)};for(const ne in D){const z=C[ne],W=O[ne];if(g.hasOwnProperty(ne))continue;let X=!1;sy(z)&&sy(W)?X=!HP(z,W):X=z!==W,X?z!=null?B(ne):f.add(ne):z!==void 0&&f.has(ne)?B(ne):E.protectedKeys[ne]=!0}E.prevProp=S,E.prevResolvedValues=C,E.isActive&&(g={...g,...C}),i&&t.blockInitialAnimation&&(A=!1),A&&(!(P&&T)||R)&&h.push(...x.map(ne=>({animation:ne,options:{type:p}})))}if(f.size){const m={};f.forEach(p=>{const E=t.getBaseTarget(p),S=t.getValue(p);S&&(S.liveStyle=!0),m[p]=E??null}),h.push({animation:m})}let w=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=IT(),i=!0}}}function Xz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!HP(e,t):!1}function Ro(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IT(){return{animate:Ro(!0),whileInView:Ro(),whileHover:Ro(),whileTap:Ro(),whileDrag:Ro(),whileFocus:Ro(),exit:Ro()}}class xo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Kz extends xo{constructor(e){super(e),e.animationState||(e.animationState=qz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Am(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Yz=0;class Qz extends xo{constructor(){super(...arguments),this.id=Yz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Jz={animation:{Feature:Kz},exit:{Feature:Qz}};function Ku(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ad(t){return{point:{x:t.pageX,y:t.pageY}}}const Zz=t=>e=>Px(e)&&t(e,Ad(e));function gu(t,e,n,i){return Ku(t,e,Zz(n),i)}const NT=(t,e)=>Math.abs(t-e);function ej(t,e){const n=NT(t.x,e.x),i=NT(t.y,e.y);return Math.sqrt(n**2+i**2)}class NI{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Jg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=ej(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:_}=h,{timestamp:w}=pn;this.history.push({..._,timestamp:w});const{onStart:m,onMove:p}=this.handlers;f||(m&&m(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Qg(f,this.transformPagePoint),pt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:_,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Jg(h.type==="pointercancel"?this.lastMoveEventInfo:Qg(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,m),_&&_(h,m)},!Px(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=Ad(e),a=Qg(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=pn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,Jg(a,this.history)),this.removeListeners=bd(gu(this.contextWindow,"pointermove",this.handlePointerMove),gu(this.contextWindow,"pointerup",this.handlePointerUp),gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ur(this.updatePoint)}}function Qg(t,e){return e?{point:e(t.point)}:t}function LT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jg({point:t},e){return{point:t,delta:LT(t,LI(e)),offset:LT(t,tj(e)),velocity:nj(e,.1)}}function tj(t){return t[0]}function LI(t){return t[t.length-1]}function nj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=LI(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>is(e)));)n--;if(!i)return{x:0,y:0};const s=rs(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const DI=1e-4,ij=1-DI,rj=1+DI,kI=.01,sj=0-kI,oj=0+kI;function Ri(t){return t.max-t.min}function aj(t,e,n){return Math.abs(t-e)<=n}function DT(t,e,n,i=.5){t.origin=i,t.originPoint=jt(e.min,e.max,t.origin),t.scale=Ri(n)/Ri(e),t.translate=jt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ij&&t.scale<=rj||isNaN(t.scale))&&(t.scale=1),(t.translate>=sj&&t.translate<=oj||isNaN(t.translate))&&(t.translate=0)}function vu(t,e,n,i){DT(t.x,e.x,n.x,i?i.originX:void 0),DT(t.y,e.y,n.y,i?i.originY:void 0)}function kT(t,e,n){t.min=n.min+e.min,t.max=t.min+Ri(e)}function lj(t,e,n){kT(t.x,e.x,n.x),kT(t.y,e.y,n.y)}function OT(t,e,n){t.min=e.min-n.min,t.max=t.min+Ri(e)}function yu(t,e,n){OT(t.x,e.x,n.x),OT(t.y,e.y,n.y)}function cj(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?jt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?jt(n,t,i.max):Math.min(t,n)),t}function UT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uj(t,{top:e,left:n,bottom:i,right:r}){return{x:UT(t.x,n,r),y:UT(t.y,e,i)}}function FT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function dj(t,e){return{x:FT(t.x,e.x),y:FT(t.y,e.y)}}function hj(t,e){let n=.5;const i=Ri(t),r=Ri(e);return r>i?n=fa(e.min,e.max-i,t.min):i>r&&(n=fa(t.min,t.max-r,e.min)),Cr(0,1,n)}function fj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gy=.35;function pj(t=gy){return t===!1?t=0:t===!0&&(t=gy),{x:VT(t,"left","right"),y:VT(t,"top","bottom")}}function VT(t,e,n){return{min:BT(t,e),max:BT(t,n)}}function BT(t,e){return typeof t=="number"?t:t[e]||0}const zT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:zT(),y:zT()}),jT=()=>({min:0,max:0}),Yt=()=>({x:jT(),y:jT()});function ki(t){return[t("x"),t("y")]}function OI({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function mj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Zg(t){return t===void 0||t===1}function vy({scale:t,scaleX:e,scaleY:n}){return!Zg(t)||!Zg(e)||!Zg(n)}function Uo(t){return vy(t)||UI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function UI(t){return HT(t.x)||HT(t.y)}function HT(t){return t&&t!=="0%"}function vp(t,e,n){const i=t-n,r=e*i;return n+r}function GT(t,e,n,i,r){return r!==void 0&&(t=vp(t,r,i)),vp(t,n,i)+e}function yy(t,e=0,n=1,i,r){t.min=GT(t.min,e,n,i,r),t.max=GT(t.max,e,n,i,r)}function FI(t,{x:e,y:n}){yy(t.x,e.translate,e.scale,e.originPoint),yy(t.y,n.translate,n.scale,n.originPoint)}const WT=.999999999999,$T=1.0000000000001;function vj(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&vl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,FI(t,o)),i&&Uo(s.latestValues)&&vl(t,s.latestValues))}e.x<$T&&e.x>WT&&(e.x=1),e.y<$T&&e.y>WT&&(e.y=1)}function gl(t,e){t.min=t.min+e,t.max=t.max+e}function qT(t,e,n,i,r=.5){const s=jt(t.min,t.max,r);yy(t,e,n,s,i)}function vl(t,e){qT(t.x,e.x,e.scaleX,e.scale,e.originX),qT(t.y,e.y,e.scaleY,e.scale,e.originY)}function VI(t,e){return OI(gj(t.getBoundingClientRect(),e))}function yj(t,e,n){const i=VI(t,n),{scroll:r}=e;return r&&(gl(i.x,r.offset.x),gl(i.y,r.offset.y)),i}const BI=({current:t})=>t?t.ownerDocument.defaultView:null,_j=new WeakMap;class xj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ad(u).point)},s=(u,h)=>{const{drag:f,dragPropagation:g,onDragStart:_}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m5(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ki(m=>{let p=this.getAxisMotionValue(m).get()||0;if(Tr.test(p)){const{projection:E}=this.visualElement;if(E&&E.layout){const S=E.layout.layoutBox[m];S&&(p=Ri(S)*(parseFloat(p)/100))}}this.originPoint[m]=p}),_&&pt.postRender(()=>_(u,h)),ly(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:_,onDrag:w}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:m}=h;if(g&&this.currentDirection===null){this.currentDirection=Ej(m),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",h.point,m),this.updateAxis("y",h.point,m),this.visualElement.render(),w&&w(u,h)},a=(u,h)=>this.stop(u,h),l=()=>ki(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new NI(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:BI(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&pt.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Mh(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=cj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&fl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=uj(r.layoutBox,n):this.constraints=!1,this.elastic=pj(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ki(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fj(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=yj(i,r.root,this.visualElement.getTransformPagePoint());let o=dj(r.layout.layoutBox,s);if(n){const a=n(mj(o));this.hasMutatedConstraints=!!a,a&&(o=OI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ki(u=>{if(!Mh(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=r?200:1e6,g=r?40:1e7,_={type:"inertia",velocity:i?e[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ly(this.visualElement,e),i.start(Gx(e,i,0,n,this.visualElement,!1))}stopAnimation(){ki(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ki(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ki(n=>{const{drag:i}=this.getProps();if(!Mh(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-jt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!fl(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ki(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=hj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ki(o=>{if(!Mh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(jt(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;_j.set(this.visualElement,this);const e=this.visualElement.current,n=gu(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();fl(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),pt.read(i);const o=Ku(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ki(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=gy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Mh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ej(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Sj extends xo{constructor(e){super(e),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new xj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const XT=t=>(e,n)=>{t&&pt.postRender(()=>t(e,n))};class wj extends xo{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(e){this.session=new NI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:XT(e),onStart:XT(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&pt.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=gu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Uc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=KT(t,e.target.x),i=KT(t,e.target.y);return`${n}% ${i}%`}},Tj={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=lo.parse(t);if(r.length>5)return i;const s=lo.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=jt(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class bj extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;YB(Aj),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||pt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zI(t){const[e,n]=TP(),i=V.useContext(cx);return v.jsx(bj,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(PP),isPresent:e,safeToRemove:n})}const Aj={borderRadius:{...Uc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uc,borderTopRightRadius:Uc,borderBottomLeftRadius:Uc,borderBottomRightRadius:Uc,boxShadow:Tj};function Mj(t,e,n){const i=Wn(t)?t:Er(t);return i.start(Gx("",i,e,n)),i.animation}function Cj(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Rj=(t,e)=>t.depth-e.depth;class Pj{constructor(){this.children=[],this.isDirty=!1}add(e){Ix(this.children,e),this.isDirty=!0}remove(e){Nx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Rj),this.isDirty=!1,this.children.forEach(e)}}function Ij(t,e){const n=br.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(ur(i),t(s-e))};return pt.read(i,!0),()=>ur(i)}const jI=["TopLeft","TopRight","BottomLeft","BottomRight"],Nj=jI.length,YT=t=>typeof t=="string"?parseFloat(t):t,QT=t=>typeof t=="number"||Ve.test(t);function Lj(t,e,n,i,r,s){r?(t.opacity=jt(0,n.opacity!==void 0?n.opacity:1,Dj(i)),t.opacityExit=jt(e.opacity!==void 0?e.opacity:1,0,kj(i))):s&&(t.opacity=jt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<Nj;o++){const a=`border${jI[o]}Radius`;let l=JT(e,a),c=JT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||QT(l)===QT(c)?(t[a]=Math.max(jt(YT(l),YT(c),i),0),(Tr.test(c)||Tr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=jt(e.rotate||0,n.rotate||0,i))}function JT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Dj=HI(0,.5,oI),kj=HI(.5,.95,ni);function HI(t,e,n){return i=>i<t?0:i>e?1:n(fa(t,e,i))}function ZT(t,e){t.min=e.min,t.max=e.max}function Li(t,e){ZT(t.x,e.x),ZT(t.y,e.y)}function e1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function t1(t,e,n,i,r){return t-=e,t=vp(t,1/n,i),r!==void 0&&(t=vp(t,1/r,i)),t}function Oj(t,e=0,n=1,i=.5,r,s=t,o=t){if(Tr.test(e)&&(e=parseFloat(e),e=jt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=jt(s.min,s.max,i);t===s&&(a-=e),t.min=t1(t.min,e,n,a,r),t.max=t1(t.max,e,n,a,r)}function n1(t,e,[n,i,r],s,o){Oj(t,e[n],e[i],e[r],e.scale,s,o)}const Uj=["x","scaleX","originX"],Fj=["y","scaleY","originY"];function i1(t,e,n,i){n1(t.x,e,Uj,n?n.x:void 0,i?i.x:void 0),n1(t.y,e,Fj,n?n.y:void 0,i?i.y:void 0)}function r1(t){return t.translate===0&&t.scale===1}function GI(t){return r1(t.x)&&r1(t.y)}function s1(t,e){return t.min===e.min&&t.max===e.max}function Vj(t,e){return s1(t.x,e.x)&&s1(t.y,e.y)}function o1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WI(t,e){return o1(t.x,e.x)&&o1(t.y,e.y)}function a1(t){return Ri(t.x)/Ri(t.y)}function l1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Bj{constructor(){this.members=[]}add(e){Ix(this.members,e),e.scheduleRender()}remove(e){if(Nx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zj(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:_}=n;c&&(i=`perspective(${c}px) ${i}`),u&&(i+=`rotate(${u}deg) `),h&&(i+=`rotateX(${h}deg) `),f&&(i+=`rotateY(${f}deg) `),g&&(i+=`skewX(${g}deg) `),_&&(i+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Fo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},tu=typeof window<"u"&&window.MotionDebug!==void 0,ev=["","X","Y","Z"],jj={visibility:"hidden"},c1=1e3;let Hj=0;function tv(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function $I(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ZP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pt,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&$I(i)}function qI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Hj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tu&&(Fo.totalNodes=Fo.resolvedTargetDeltas=Fo.recalculatedProjection=0),this.nodes.forEach($j),this.nodes.forEach(Qj),this.nodes.forEach(Jj),this.nodes.forEach(qj),tu&&window.MotionDebug.record(Fo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Lx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Cj(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Ij(f,250),xf.hasAnimatedSinceResize&&(xf.hasAnimatedSinceResize=!1,this.nodes.forEach(d1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||iH,{onLayoutAnimationStart:m,onLayoutAnimationComplete:p}=u.getProps(),E=!this.targetLayout||!WI(this.targetLayout,_)||g,S=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||f&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const M={...Ax(w,"layout"),onPlay:m,onComplete:p};(u.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else f||d1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ur(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$I(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u1);return}this.isUpdating||this.nodes.forEach(Kj),this.isUpdating=!1,this.nodes.forEach(Yj),this.nodes.forEach(Gj),this.nodes.forEach(Wj),this.clearAllSnapshots();const a=br.now();pn.delta=Cr(0,1e3/60,a-pn.timestamp),pn.timestamp=a,pn.isProcessing=!0,Wg.update.process(pn),Wg.preRender.process(pn),Wg.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xj),this.sharedNodes.forEach(eH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!GI(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Uo(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),rH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Yt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(sH))){const{scroll:u}=this.root;u&&(gl(l.x,u.offset.x),gl(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Yt();if(Li(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Li(l,o),gl(l.x,h.offset.x),gl(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Yt();Li(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&vl(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Uo(u.latestValues)&&vl(l,u.latestValues)}return Uo(this.latestValues)&&vl(l,this.latestValues),l}removeTransform(o){const a=Yt();Li(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Uo(c.latestValues))continue;vy(c.latestValues)&&c.updateSnapshot();const u=Yt(),h=c.measurePageBox();Li(u,h),i1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Uo(this.latestValues)&&i1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),yu(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),FI(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),yu(this.relativeTargetOrigin,this.target,g.target),Li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tu&&Fo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vy(this.parent.latestValues)||UI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Li(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;vj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Yt());const{target:_}=a;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e1(this.prevProjectionDelta.x,this.projectionDelta.x),e1(this.prevProjectionDelta.y,this.projectionDelta.y)),vu(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!l1(this.projectionDelta.x,this.prevProjectionDelta.x)||!l1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),tu&&Fo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Yt(),g=l?l.source:void 0,_=this.layout?this.layout.source:void 0,w=g!==_,m=this.getStack(),p=!m||m.members.length<=1,E=!!(w&&!p&&this.options.crossfade===!0&&!this.path.some(nH));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const N=M/1e3;h1(h.x,o.x,N),h1(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yu(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tH(this.relativeTarget,this.relativeTargetOrigin,f,N),S&&Vj(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Yt()),Li(S,this.relativeTarget)),w&&(this.animationValues=u,Lj(u,c,this.latestValues,N,E,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ur(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pt.update(()=>{xf.hasAnimatedSinceResize=!0,this.currentAnimation=Mj(0,c1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&XI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Yt();const h=Ri(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ri(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Li(a,l),vl(a,u),vu(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Bj),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&tv("z",o,c,this.animationValues);for(let u=0;u<ev.length;u++)tv(`rotate${ev[u]}`,o,c,this.animationValues),tv(`skew${ev[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return jj;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=yf(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=yf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Uo(this.latestValues)&&(w.transform=u?u({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=zj(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:g,y:_}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${_.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in hp){if(f[w]===void 0)continue;const{correct:m,applyTo:p}=hp[w],E=c.transform==="none"?f[w]:m(f[w],h);if(p){const S=p.length;for(let M=0;M<S;M++)c[p[M]]=E}else c[w]=E}return this.options.layoutId&&(c.pointerEvents=h===this?yf(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(u1),this.root.sharedNodes.clear()}}}function Gj(t){t.updateLayout()}function Wj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ki(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Ri(f);f.min=i[h].min,f.max=f.min+g}):XI(s,n.layoutBox,i)&&ki(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Ri(i[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=ml();vu(a,i,n.layoutBox);const l=ml();o?vu(l,t.applyTransform(r,!0),n.measuredBox):vu(l,i,n.layoutBox);const c=!GI(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const _=Yt();yu(_,n.layoutBox,f.layoutBox);const w=Yt();yu(w,i,g.layoutBox),WI(_,w)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function $j(t){tu&&Fo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Xj(t){t.clearSnapshot()}function u1(t){t.clearMeasurements()}function Kj(t){t.isLayoutDirty=!1}function Yj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function d1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Qj(t){t.resolveTargetDelta()}function Jj(t){t.calcProjection()}function Zj(t){t.resetSkewAndRotation()}function eH(t){t.removeLeadSnapshot()}function h1(t,e,n){t.translate=jt(e.translate,0,n),t.scale=jt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function f1(t,e,n,i){t.min=jt(e.min,n.min,i),t.max=jt(e.max,n.max,i)}function tH(t,e,n,i){f1(t.x,e.x,n.x,i),f1(t.y,e.y,n.y,i)}function nH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iH={duration:.45,ease:[.4,0,.1,1]},p1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),m1=p1("applewebkit/")&&!p1("chrome/")?Math.round:ni;function g1(t){t.min=m1(t.min),t.max=m1(t.max)}function rH(t){g1(t.x),g1(t.y)}function XI(t,e,n){return t==="position"||t==="preserve-aspect"&&!aj(a1(e),a1(n),.2)}function sH(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const oH=qI({attachResizeListener:(t,e)=>Ku(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nv={current:void 0},KI=qI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!nv.current){const t=new oH({});t.mount(window),t.setOptions({layoutScroll:!0}),nv.current=t}return nv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aH={pan:{Feature:wj},drag:{Feature:Sj,ProjectionNode:KI,MeasureLayout:zI}};function v1(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&pt.postRender(()=>s(e,Ad(e)))}class lH extends xo{mount(){const{current:e}=this.node;e&&(this.unmount=u5(e,n=>(v1(this.node,n,"Start"),i=>v1(this.node,i,"End"))))}unmount(){}}class cH extends xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bd(Ku(this.node.current,"focus",()=>this.onFocus()),Ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function y1(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&pt.postRender(()=>s(e,Ad(e)))}class uH extends xo{mount(){const{current:e}=this.node;e&&(this.unmount=p5(e,n=>(y1(this.node,n,"Start"),(i,{success:r})=>y1(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _y=new WeakMap,iv=new WeakMap,dH=t=>{const e=_y.get(t.target);e&&e(t)},hH=t=>{t.forEach(dH)};function fH({root:t,...e}){const n=t||document;iv.has(n)||iv.set(n,{});const i=iv.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(hH,{root:t,...e})),i[r]}function pH(t,e,n){const i=fH(e);return _y.set(t,n),i.observe(t),()=>{_y.delete(t),i.unobserve(t)}}const mH={some:0,all:1};class gH extends xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:mH[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return pH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vH(e,n))&&this.startObserver()}unmount(){}}function vH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yH={inView:{Feature:gH},tap:{Feature:uH},focus:{Feature:cH},hover:{Feature:lH}},_H={layout:{ProjectionNode:KI,MeasureLayout:zI}},xy={current:null},YI={current:!1};function xH(){if(YI.current=!0,!!ux)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xy.current=t.matches;t.addListener(e),e()}else xy.current=!1}const EH=[...xI,zn,lo],SH=t=>EH.find(_I(t)),_1=new WeakMap;function wH(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Wn(r))t.addValue(i,r);else if(Wn(s))t.addValue(i,Er(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Er(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const x1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TH{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=br.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,pt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Mm(n),this.isVariantNode=CP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const _=f[g];l[g]!==void 0&&Wn(_)&&_.set(l[g],!1)}}mount(e){this.current=e,_1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),YI.current||xH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_1.delete(this.current),this.projection&&this.projection.unmount(),ur(this.notifyUpdate),ur(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ba.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&pt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gl){const n=Gl[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<x1.length;i++){const r=x1[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=wH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Er(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(vI(r)||lI(r))?r=parseFloat(r):!SH(r)&&lo.test(n)&&(r=pI(e,n)),this.setBaseTarget(e,Wn(r)?r.get():r)),Wn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=yx(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Wn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Lx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class QI extends TH{constructor(){super(...arguments),this.KeyframeResolver=EI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bH(t){return window.getComputedStyle(t)}class AH extends QI{constructor(){super(...arguments),this.type="html",this.renderInstance=UP}readValueFromInstance(e,n){if(ba.has(n)){const i=Vx(n);return i&&i.default||0}else{const i=bH(e),r=(DP(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return VI(e,n)}build(e,n,i){Ex(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return bx(e,n,i)}}class MH extends QI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ba.has(n)){const i=Vx(n);return i&&i.default||0}return n=FP.has(n)?n:mx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return zP(e,n,i)}build(e,n,i){Sx(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){VP(e,n,i,r)}mount(e){this.isSVGTag=Tx(e.tagName),super.mount(e)}}const CH=(t,e)=>vx(t)?new MH(e):new AH(e,{allowProjection:t!==V.Fragment}),RH=s5({...Jz,...yH,...aH,..._H},CH),_e=xB(RH);function JI(t,e){let n;const i=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;n!==o&&t(o),n=o};return pt.update(i,!0),()=>ur(i)}const Ef=new WeakMap;let Ns;function PH(t,e){if(e){const{inlineSize:n,blockSize:i}=e[0];return{width:n,height:i}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function IH({target:t,contentRect:e,borderBoxSize:n}){var i;(i=Ef.get(t))===null||i===void 0||i.forEach(r=>{r({target:t,contentSize:e,get size(){return PH(t,n)}})})}function NH(t){t.forEach(IH)}function LH(){typeof ResizeObserver>"u"||(Ns=new ResizeObserver(NH))}function DH(t,e){Ns||LH();const n=Rx(t);return n.forEach(i=>{let r=Ef.get(i);r||(r=new Set,Ef.set(i,r)),r.add(e),Ns==null||Ns.observe(i)}),()=>{n.forEach(i=>{const r=Ef.get(i);r==null||r.delete(e),r!=null&&r.size||Ns==null||Ns.unobserve(i)})}}const Sf=new Set;let _u;function kH(){_u=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Sf.forEach(n=>n(e))},window.addEventListener("resize",_u)}function OH(t){return Sf.add(t),_u||kH(),()=>{Sf.delete(t),!Sf.size&&_u&&(_u=void 0)}}function UH(t,e){return typeof t=="function"?OH(t):DH(t,e)}const FH=50,E1=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),VH=()=>({time:0,x:E1(),y:E1()}),BH={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function S1(t,e,n,i){const r=n[e],{length:s,position:o}=BH[e],a=r.current,l=n.time;r.current=t[`scroll${o}`],r.scrollLength=t[`scroll${s}`]-t[`client${s}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=fa(0,r.scrollLength,r.current);const c=i-l;r.velocity=c>FH?0:Dx(r.current-a,c)}function zH(t,e,n){S1(t,"x",e,n),S1(t,"y",e,n),e.time=n}function jH(t,e){const n={x:0,y:0};let i=t;for(;i&&i!==e;)if(i instanceof HTMLElement)n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const s=i.getBoundingClientRect();n.x+=r.left-s.left,n.y+=r.top-s.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:s}=i.getBBox();n.x+=r,n.y+=s;let o=null,a=i.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=i.parentNode;i=o}else break;return n}const Ey={start:0,center:.5,end:1};function w1(t,e,n=0){let i=0;if(t in Ey&&(t=Ey[t]),typeof t=="string"){const r=parseFloat(t);t.endsWith("px")?i=r:t.endsWith("%")?t=r/100:t.endsWith("vw")?i=r/100*document.documentElement.clientWidth:t.endsWith("vh")?i=r/100*document.documentElement.clientHeight:t=r}return typeof t=="number"&&(i=e*t),n+i}const HH=[0,0];function GH(t,e,n,i){let r=Array.isArray(t)?t:HH,s=0,o=0;return typeof t=="number"?r=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?r=t.split(" "):r=[t,Ey[t]?t:"0"]),s=w1(r[0],n,i),o=w1(r[1],e),s-o}const WH={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},$H={x:0,y:0};function qH(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function XH(t,e,n){const{offset:i=WH.All}=n,{target:r=t,axis:s="y"}=n,o=s==="y"?"height":"width",a=r!==t?jH(r,t):$H,l=r===t?{width:t.scrollWidth,height:t.scrollHeight}:qH(r),c={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let u=!e[s].interpolate;const h=i.length;for(let f=0;f<h;f++){const g=GH(i[f],c[o],l[o],a[s]);!u&&g!==e[s].interpolatorOffsets[f]&&(u=!0),e[s].offset[f]=g}u&&(e[s].interpolate=jx(e[s].offset,CI(i),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=Cr(0,1,e[s].interpolate(e[s].current))}function KH(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let i=e;for(;i&&i!==t;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function YH(t,e,n,i={}){return{measure:()=>KH(t,i.target,n),update:r=>{zH(t,n,r),(i.offset||i.target)&&XH(t,n,i)},notify:()=>e(n)}}const Fc=new WeakMap,T1=new WeakMap,rv=new WeakMap,b1=t=>t===document.documentElement?window:t;function Wx(t,{container:e=document.documentElement,...n}={}){let i=rv.get(e);i||(i=new Set,rv.set(e,i));const r=VH(),s=YH(e,t,r,n);if(i.add(s),!Fc.has(e)){const a=()=>{for(const f of i)f.measure()},l=()=>{for(const f of i)f.update(pn.timestamp)},c=()=>{for(const f of i)f.notify()},u=()=>{pt.read(a,!1,!0),pt.read(l,!1,!0),pt.update(c,!1,!0)};Fc.set(e,u);const h=b1(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&T1.set(e,UH(e,u)),h.addEventListener("scroll",u,{passive:!0})}const o=Fc.get(e);return pt.read(o,!1,!0),()=>{var a;ur(o);const l=rv.get(e);if(!l||(l.delete(s),l.size))return;const c=Fc.get(e);Fc.delete(e),c&&(b1(e).removeEventListener("scroll",c),(a=T1.get(e))===null||a===void 0||a(),window.removeEventListener("resize",c))}}function QH({source:t,container:e,axis:n="y"}){t&&(e=t);const i={value:0},r=Wx(s=>{i.value=s[n].progress*100},{container:e,axis:n});return{currentTime:i,cancel:r}}const sv=new Map;function ZI({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),sv.has(e)||sv.set(e,{});const i=sv.get(e);return i[n]||(i[n]=GP()?new ScrollTimeline({source:e,axis:n}):QH({source:e,axis:n})),i[n]}function JH(t){return t.length===2}function e2(t){return t&&(t.target||t.offset)}function ZH(t,e){return JH(t)||e2(e)?Wx(n=>{t(n[e.axis].progress,n)},e):JI(t,ZI(e))}function e6(t,e){if(t.flatten(),e2(e))return t.pause(),Wx(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=ZI(e);return t.attachTimeline?t.attachTimeline(n,i=>(i.pause(),JI(r=>{i.time=i.duration*r},n))):ni}}function t6(t,{axis:e="y",...n}={}){const i={axis:e,...n};return typeof t=="function"?ZH(t,i):e6(t,i)}function A1(t,e){hB(!!(!e||e.current))}const n6=()=>({scrollX:Er(0),scrollY:Er(0),scrollXProgress:Er(0),scrollYProgress:Er(0)});function t2({container:t,target:e,layoutEffect:n=!0,...i}={}){const r=ac(n6);return(n?Tm:V.useEffect)(()=>(A1("target",e),A1("container",t),t6((o,{x:a,y:l})=>{r.scrollX.set(a.current),r.scrollXProgress.set(a.progress),r.scrollY.set(l.current),r.scrollYProgress.set(l.progress)},{...i,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(i.offset)]),r}function i6(t){const e=ac(()=>Er(t)),{isStatic:n}=V.useContext(wm);if(n){const[,i]=V.useState(t);V.useEffect(()=>e.on("change",i),[])}return e}function n2(t,e){const n=i6(e()),i=()=>n.set(e());return i(),Tm(()=>{const r=()=>pt.preRender(i,!1,!0),s=t.map(o=>o.on("change",r));return()=>{s.forEach(o=>o()),ur(i)}}),n}const r6=t=>t&&typeof t=="object"&&t.mix,s6=t=>r6(t)?t.mix:void 0;function o6(...t){const e=!Array.isArray(t[0]),n=e?0:-1,i=t[0+n],r=t[1+n],s=t[2+n],o=t[3+n],a=jx(r,s,{mixer:s6(s[0]),...o});return e?a(i):a}function a6(t){pu.current=[],t();const e=n2(pu.current,t);return pu.current=void 0,e}function yp(t,e,n,i){if(typeof t=="function")return a6(t);const r=typeof e=="function"?e:o6(e,n,i);return Array.isArray(t)?M1(t,r):M1([t],([s])=>r(s))}function M1(t,e){const n=ac(()=>[]);return n2(t,()=>{n.length=0;const i=t.length;for(let r=0;r<i;r++)n[r]=t[r].get();return e(n)})}const l6={some:0,all:1};function c6(t,e,{root:n,margin:i,amount:r="some"}={}){const s=Rx(t),o=new WeakMap,a=c=>{c.forEach(u=>{const h=o.get(u.target);if(u.isIntersecting!==!!h)if(u.isIntersecting){const f=e(u);typeof f=="function"?o.set(u.target,f):l.unobserve(u.target)}else typeof h=="function"&&(h(u),o.delete(u.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:i,threshold:typeof r=="number"?r:l6[r]});return s.forEach(c=>l.observe(c)),()=>l.disconnect()}function Eo(t,{root:e,margin:n,amount:i,once:r=!1}={}){const[s,o]=V.useState(!1);return V.useEffect(()=>{if(!t.current||r&&s)return;const a=()=>(o(!0),r?void 0:()=>o(!1)),l={root:e&&e.current||void 0,margin:n,amount:i};return c6(t.current,a,l)},[e,t,n,r,i]),s}const C1=[{name:"Home",to:"hero",offset:0},{name:"About",to:"about",offset:-80},{name:"Skills",to:"skills",offset:-80},{name:"Services",to:"services",offset:-80},{name:"Projects",to:"projects",offset:-80},{name:"Blogs",to:"/blog",flag:"blog"},{name:"Contact",to:"contact",offset:-80}],u6=()=>{const[t,e]=V.useState(!1),[n,i]=V.useState(!1),{darkMode:r,toggleTheme:s}=Em(),o=Ai(dm),a=Ta();return V.useEffect(()=>{const l=()=>{const c=window.scrollY>20;c!==n&&i(c)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[n]),v.jsx("header",{className:`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${n||t?"py-4 bg-white/80 dark:bg-[#0A192F]/80 backdrop-blur-lg shadow-lg":"py-6 bg-transparent"}`,children:v.jsxs("nav",{className:"w-full max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"flex flex-wrap items-center justify-between w-full",children:[v.jsx(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:v.jsxs(Ml,{to:"hero",spy:!0,smooth:!0,duration:500,className:"relative group cursor-pointer",children:[v.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5]",children:o==null?void 0:o.logoText}),v.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] transition-all duration-300 group-hover:w-full"})]})}),v.jsxs("div",{className:"hidden lg:flex items-center space-x-8",children:[v.jsx("div",{className:"flex items-center space-x-8",children:C1.map((l,c)=>v.jsx(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:c*.1},children:l.flag==="blog"?v.jsxs("span",{onClick:()=>a(l.to),className:"relative group cursor-pointer text-gray-600 dark:text-gray-300 hover:text-[#00F5A0] transition-colors",children:[l.name,v.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#00F5A0] transition-all duration-300 group-hover:w-full"})]}):v.jsxs(Ml,{to:l.to,spy:!0,smooth:!0,offset:l.offset,duration:500,className:"relative group cursor-pointer",children:[v.jsx("span",{className:"text-gray-600 dark:text-gray-300 group-hover:text-[#00F5A0] transition-colors",children:l.name}),v.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#00F5A0] transition-all duration-300 group-hover:w-full"})]})},l.name))}),v.jsxs(_e.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"flex items-center space-x-4",children:[v.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors","aria-label":"Toggle theme",children:v.jsx(_e.div,{initial:!1,animate:{rotate:r?180:0},transition:{duration:.3},children:r?v.jsx(rT,{className:"w-5 h-5 text-[#00F5A0]"}):v.jsx(iT,{className:"w-5 h-5 text-gray-600"})})}),v.jsxs("a",{href:o.resume,className:"group relative px-6 py-2.5 overflow-hidden rounded-full bg-transparent border-2 border-[#00F5A0] text-[#00F5A0] font-medium transition-colors hover:text-white",target:"_blank",rel:"noopener noreferrer",children:[v.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] transform translate-x-full group-hover:translate-x-0 transition-transform duration-300"}),v.jsxs("span",{className:"relative flex items-center",children:["Resume ",v.jsx(nT,{className:"ml-2 w-4 h-4"})]})]})]})]}),v.jsxs("div",{className:"lg:hidden flex items-center space-x-4",children:[v.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors","aria-label":"Toggle theme",children:v.jsx(_e.div,{initial:!1,animate:{rotate:r?180:0},transition:{duration:.3},children:r?v.jsx(rT,{className:"w-5 h-5 text-[#00F5A0]"}):v.jsx(iT,{className:"w-5 h-5 text-gray-600"})})}),v.jsx("button",{onClick:()=>e(!t),className:"p-2 focus:outline-none","aria-label":"Toggle menu",children:t?v.jsx(oB,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"}):v.jsx(Z4,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})]})]}),v.jsx(dx,{children:t&&v.jsx(_e.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"lg:hidden overflow-hidden",children:v.jsxs("div",{className:"py-6 space-y-4",children:[C1.map((l,c)=>v.jsx(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:c*.1},children:l.flag==="blog"?v.jsx("span",{onClick:()=>{a(l.to),e(!1)},className:"block px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-[#00F5A0] transition-colors cursor-pointer",children:l.name}):v.jsx(Ml,{to:l.to,spy:!0,smooth:!0,offset:l.offset,duration:500,onClick:()=>e(!1),className:"block px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-[#00F5A0] transition-colors",children:l.name})},l.name)),v.jsx(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.5},className:"px-4 pt-4",children:v.jsxs("a",{href:o.resume,className:"group relative inline-flex items-center px-6 py-2.5 overflow-hidden rounded-full bg-transparent border-2 border-[#00F5A0] text-[#00F5A0] font-medium transition-colors hover:text-white",target:"_blank",rel:"noopener noreferrer",children:[v.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] transform translate-x-full group-hover:translate-x-0 transition-transform duration-300"}),v.jsxs("span",{className:"relative flex items-center",children:["Resume ",v.jsx(nT,{className:"ml-2 w-4 h-4"})]})]})})]})})})]})})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const $x="161",d6=0,R1=1,h6=2,i2=1,f6=2,zr=3,co=0,pi=1,Wr=2,to=0,Cl=1,Sy=2,P1=3,I1=4,p6=5,jo=100,m6=101,g6=102,N1=103,L1=104,v6=200,y6=201,_6=202,x6=203,wy=204,Ty=205,E6=206,S6=207,w6=208,T6=209,b6=210,A6=211,M6=212,C6=213,R6=214,P6=0,I6=1,N6=2,_p=3,L6=4,D6=5,k6=6,O6=7,r2=0,U6=1,F6=2,no=0,V6=1,B6=2,z6=3,j6=4,H6=5,G6=6,s2=300,$l=301,ql=302,by=303,Ay=304,Pm=306,My=1e3,nr=1001,Cy=1002,Zn=1003,D1=1004,Vc=1005,ai=1006,ov=1007,Xo=1008,io=1009,W6=1010,$6=1011,qx=1012,o2=1013,Ws=1014,$r=1015,Yu=1016,a2=1017,l2=1018,ea=1020,q6=1021,ir=1023,X6=1024,K6=1025,ta=1026,Xl=1027,Y6=1028,c2=1029,Q6=1030,u2=1031,d2=1033,av=33776,lv=33777,cv=33778,uv=33779,k1=35840,O1=35841,U1=35842,F1=35843,h2=36196,V1=37492,B1=37496,z1=37808,j1=37809,H1=37810,G1=37811,W1=37812,$1=37813,q1=37814,X1=37815,K1=37816,Y1=37817,Q1=37818,J1=37819,Z1=37820,eb=37821,dv=36492,tb=36494,nb=36495,J6=36283,ib=36284,rb=36285,sb=36286,f2=3e3,na=3001,Z6=3200,eG=3201,tG=0,nG=1,Vi="",Mn="srgb",fs="srgb-linear",Xx="display-p3",Im="display-p3-linear",xp="linear",Lt="srgb",Ep="rec709",Sp="p3",Ua=7680,ob=519,iG=512,rG=513,sG=514,p2=515,oG=516,aG=517,lG=518,cG=519,ab=35044,lb="300 es",Ry=1035,Kr=2e3,wp=2001;class uc{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const Fn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],hv=Math.PI/180,Py=180/Math.PI;function Md(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Fn[t&255]+Fn[t>>8&255]+Fn[t>>16&255]+Fn[t>>24&255]+"-"+Fn[e&255]+Fn[e>>8&255]+"-"+Fn[e>>16&15|64]+Fn[e>>24&255]+"-"+Fn[n&63|128]+Fn[n>>8&255]+"-"+Fn[n>>16&255]+Fn[n>>24&255]+Fn[i&255]+Fn[i>>8&255]+Fn[i>>16&255]+Fn[i>>24&255]).toLowerCase()}function ci(t,e,n){return Math.max(e,Math.min(n,t))}function uG(t,e){return(t%e+e)%e}function fv(t,e,n){return(1-n)*t+n*e}function cb(t){return(t&t-1)===0&&t!==0}function Iy(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Bc(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function oi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class vt{constructor(e=0,n=0){vt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(ci(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class it{constructor(e,n,i,r,s,o,a,l,c){it.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c)}set(e,n,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],h=i[7],f=i[2],g=i[5],_=i[8],w=r[0],m=r[3],p=r[6],E=r[1],S=r[4],M=r[7],N=r[2],P=r[5],T=r[8];return s[0]=o*w+a*E+l*N,s[3]=o*m+a*S+l*P,s[6]=o*p+a*M+l*T,s[1]=c*w+u*E+h*N,s[4]=c*m+u*S+h*P,s[7]=c*p+u*M+h*T,s[2]=f*w+g*E+_*N,s[5]=f*m+g*S+_*P,s[8]=f*p+g*M+_*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,f=a*l-u*s,g=c*s-o*l,_=n*h+i*f+r*g;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=h*w,e[1]=(r*c-u*i)*w,e[2]=(a*i-r*o)*w,e[3]=f*w,e[4]=(u*n-r*l)*w,e[5]=(r*s-a*n)*w,e[6]=g*w,e[7]=(i*l-c*n)*w,e[8]=(o*n-i*s)*w,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(pv.makeScale(e,n)),this}rotate(e){return this.premultiply(pv.makeRotation(-e)),this}translate(e,n){return this.premultiply(pv.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const pv=new it;function m2(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Tp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function dG(){const t=Tp("canvas");return t.style.display="block",t}const ub={};function Rl(t){t in ub||(ub[t]=!0,console.warn(t))}const db=new it().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),hb=new it().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ch={[fs]:{transfer:xp,primaries:Ep,toReference:t=>t,fromReference:t=>t},[Mn]:{transfer:Lt,primaries:Ep,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Im]:{transfer:xp,primaries:Sp,toReference:t=>t.applyMatrix3(hb),fromReference:t=>t.applyMatrix3(db)},[Xx]:{transfer:Lt,primaries:Sp,toReference:t=>t.convertSRGBToLinear().applyMatrix3(hb),fromReference:t=>t.applyMatrix3(db).convertLinearToSRGB()}},hG=new Set([fs,Im]),wt={enabled:!0,_workingColorSpace:fs,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!hG.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=Ch[e].toReference,r=Ch[n].fromReference;return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Ch[t].primaries},getTransfer:function(t){return t===Vi?xp:Ch[t].transfer}};function Pl(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function mv(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Fa;class g2{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Fa===void 0&&(Fa=Tp("canvas")),Fa.width=e.width,Fa.height=e.height;const i=Fa.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Fa}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Tp("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Pl(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Pl(n[i]/255)*255):n[i]=Pl(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let fG=0;class v2{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:fG++}),this.uuid=Md(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(gv(r[o].image)):s.push(gv(r[o]))}else s=gv(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function gv(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?g2.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let pG=0;class mi extends uc{constructor(e=mi.DEFAULT_IMAGE,n=mi.DEFAULT_MAPPING,i=nr,r=nr,s=ai,o=Xo,a=ir,l=io,c=mi.DEFAULT_ANISOTROPY,u=Vi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:pG++}),this.uuid=Md(),this.name="",this.source=new v2(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new vt(0,0),this.repeat=new vt(1,1),this.center=new vt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new it,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Rl("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===na?Mn:Vi),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==s2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case My:e.x=e.x-Math.floor(e.x);break;case nr:e.x=e.x<0?0:1;break;case Cy:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case My:e.y=e.y-Math.floor(e.y);break;case nr:e.y=e.y<0?0:1;break;case Cy:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Rl("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Mn?na:f2}set encoding(e){Rl("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===na?Mn:Vi}}mi.DEFAULT_IMAGE=null;mi.DEFAULT_MAPPING=s2;mi.DEFAULT_ANISOTROPY=1;class Pn{constructor(e=0,n=0,i=0,r=1){Pn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],u=l[4],h=l[8],f=l[1],g=l[5],_=l[9],w=l[2],m=l[6],p=l[10];if(Math.abs(u-f)<.01&&Math.abs(h-w)<.01&&Math.abs(_-m)<.01){if(Math.abs(u+f)<.1&&Math.abs(h+w)<.1&&Math.abs(_+m)<.1&&Math.abs(c+g+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(c+1)/2,M=(g+1)/2,N=(p+1)/2,P=(u+f)/4,T=(h+w)/4,A=(_+m)/4;return S>M&&S>N?S<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(S),r=P/i,s=T/i):M>N?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=P/r,s=A/r):N<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(N),i=T/s,r=A/s),this.set(i,r,s,n),this}let E=Math.sqrt((m-_)*(m-_)+(h-w)*(h-w)+(f-u)*(f-u));return Math.abs(E)<.001&&(E=1),this.x=(m-_)/E,this.y=(h-w)/E,this.z=(f-u)/E,this.w=Math.acos((c+g+p-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mG extends uc{constructor(e=1,n=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Pn(0,0,e,n),this.scissorTest=!1,this.viewport=new Pn(0,0,e,n);const r={width:e,height:n,depth:1};i.encoding!==void 0&&(Rl("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===na?Mn:Vi),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ai,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new mi(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new v2(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class pa extends mG{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class y2 extends mi{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Zn,this.minFilter=Zn,this.wrapR=nr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gG extends mi{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Zn,this.minFilter=Zn,this.wrapR=nr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Cd{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],h=i[r+3];const f=s[o+0],g=s[o+1],_=s[o+2],w=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=h;return}if(a===1){e[n+0]=f,e[n+1]=g,e[n+2]=_,e[n+3]=w;return}if(h!==w||l!==f||c!==g||u!==_){let m=1-a;const p=l*f+c*g+u*_+h*w,E=p>=0?1:-1,S=1-p*p;if(S>Number.EPSILON){const N=Math.sqrt(S),P=Math.atan2(N,p*E);m=Math.sin(m*P)/N,a=Math.sin(a*P)/N}const M=a*E;if(l=l*m+f*M,c=c*m+g*M,u=u*m+_*M,h=h*m+w*M,m===1-a){const N=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=N,c*=N,u*=N,h*=N}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=h}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],h=s[o],f=s[o+1],g=s[o+2],_=s[o+3];return e[n]=a*_+u*h+l*g-c*f,e[n+1]=l*_+u*f+c*h-a*g,e[n+2]=c*_+u*g+a*f-l*h,e[n+3]=u*_-a*h-l*f-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),h=a(s/2),f=l(i/2),g=l(r/2),_=l(s/2);switch(o){case"XYZ":this._x=f*u*h+c*g*_,this._y=c*g*h-f*u*_,this._z=c*u*_+f*g*h,this._w=c*u*h-f*g*_;break;case"YXZ":this._x=f*u*h+c*g*_,this._y=c*g*h-f*u*_,this._z=c*u*_-f*g*h,this._w=c*u*h+f*g*_;break;case"ZXY":this._x=f*u*h-c*g*_,this._y=c*g*h+f*u*_,this._z=c*u*_+f*g*h,this._w=c*u*h-f*g*_;break;case"ZYX":this._x=f*u*h-c*g*_,this._y=c*g*h+f*u*_,this._z=c*u*_-f*g*h,this._w=c*u*h+f*g*_;break;case"YZX":this._x=f*u*h+c*g*_,this._y=c*g*h+f*u*_,this._z=c*u*_-f*g*h,this._w=c*u*h-f*g*_;break;case"XZY":this._x=f*u*h-c*g*_,this._y=c*g*h-f*u*_,this._z=c*u*_+f*g*h,this._w=c*u*h+f*g*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],h=n[10],f=i+a+h;if(f>0){const g=.5/Math.sqrt(f+1);this._w=.25/g,this._x=(u-l)*g,this._y=(s-c)*g,this._z=(o-r)*g}else if(i>a&&i>h){const g=2*Math.sqrt(1+i-a-h);this._w=(u-l)/g,this._x=.25*g,this._y=(r+o)/g,this._z=(s+c)/g}else if(a>h){const g=2*Math.sqrt(1+a-i-h);this._w=(s-c)/g,this._x=(r+o)/g,this._y=.25*g,this._z=(l+u)/g}else{const g=2*Math.sqrt(1+h-i-a);this._w=(o-r)/g,this._x=(s+c)/g,this._y=(l+u)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ci(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-n;return this._w=g*o+n*this._w,this._x=g*i+n*this._x,this._y=g*r+n*this._y,this._z=g*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=o*h+this._w*f,this._x=i*h+this._x*f,this._y=r*h+this._y*f,this._z=s*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(s),i*Math.cos(s),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Y{constructor(e=0,n=0,i=0){Y.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(fb.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(fb.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),u=2*(a*n-s*r),h=2*(s*i-o*n);return this.x=n+l*c+o*h-a*u,this.y=i+l*u+a*c-s*h,this.z=r+l*h+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return vv.copy(this).projectOnVector(e),this.sub(vv)}reflect(e){return this.sub(vv.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(ci(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const vv=new Y,fb=new Cd;class Rd{constructor(e=new Y(1/0,1/0,1/0),n=new Y(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(qi.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(qi.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=qi.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,qi):qi.fromBufferAttribute(s,o),qi.applyMatrix4(e.matrixWorld),this.expandByPoint(qi);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Rh.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Rh.copy(i.boundingBox)),Rh.applyMatrix4(e.matrixWorld),this.union(Rh)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,qi),qi.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(zc),Ph.subVectors(this.max,zc),Va.subVectors(e.a,zc),Ba.subVectors(e.b,zc),za.subVectors(e.c,zc),Ts.subVectors(Ba,Va),bs.subVectors(za,Ba),Po.subVectors(Va,za);let n=[0,-Ts.z,Ts.y,0,-bs.z,bs.y,0,-Po.z,Po.y,Ts.z,0,-Ts.x,bs.z,0,-bs.x,Po.z,0,-Po.x,-Ts.y,Ts.x,0,-bs.y,bs.x,0,-Po.y,Po.x,0];return!yv(n,Va,Ba,za,Ph)||(n=[1,0,0,0,1,0,0,0,1],!yv(n,Va,Ba,za,Ph))?!1:(Ih.crossVectors(Ts,bs),n=[Ih.x,Ih.y,Ih.z],yv(n,Va,Ba,za,Ph))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qi).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(qi).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Or[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Or[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Or[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Or[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Or[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Or[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Or[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Or[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Or),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Or=[new Y,new Y,new Y,new Y,new Y,new Y,new Y,new Y],qi=new Y,Rh=new Rd,Va=new Y,Ba=new Y,za=new Y,Ts=new Y,bs=new Y,Po=new Y,zc=new Y,Ph=new Y,Ih=new Y,Io=new Y;function yv(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){Io.fromArray(t,s);const a=r.x*Math.abs(Io.x)+r.y*Math.abs(Io.y)+r.z*Math.abs(Io.z),l=e.dot(Io),c=n.dot(Io),u=i.dot(Io);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const vG=new Rd,jc=new Y,_v=new Y;class Nm{constructor(e=new Y,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):vG.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;jc.subVectors(e,this.center);const n=jc.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(jc,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(_v.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(jc.copy(e.center).add(_v)),this.expandByPoint(jc.copy(e.center).sub(_v))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ur=new Y,xv=new Y,Nh=new Y,As=new Y,Ev=new Y,Lh=new Y,Sv=new Y;class _2{constructor(e=new Y,n=new Y(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ur)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ur.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ur.copy(this.origin).addScaledVector(this.direction,n),Ur.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){xv.copy(e).add(n).multiplyScalar(.5),Nh.copy(n).sub(e).normalize(),As.copy(this.origin).sub(xv);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Nh),a=As.dot(this.direction),l=-As.dot(Nh),c=As.lengthSq(),u=Math.abs(1-o*o);let h,f,g,_;if(u>0)if(h=o*l-a,f=o*a-l,_=s*u,h>=0)if(f>=-_)if(f<=_){const w=1/u;h*=w,f*=w,g=h*(h+o*f+2*a)+f*(o*h+f+2*l)+c}else f=s,h=Math.max(0,-(o*f+a)),g=-h*h+f*(f+2*l)+c;else f=-s,h=Math.max(0,-(o*f+a)),g=-h*h+f*(f+2*l)+c;else f<=-_?(h=Math.max(0,-(-o*s+a)),f=h>0?-s:Math.min(Math.max(-s,-l),s),g=-h*h+f*(f+2*l)+c):f<=_?(h=0,f=Math.min(Math.max(-s,-l),s),g=f*(f+2*l)+c):(h=Math.max(0,-(o*s+a)),f=h>0?s:Math.min(Math.max(-s,-l),s),g=-h*h+f*(f+2*l)+c);else f=o>0?-s:s,h=Math.max(0,-(o*f+a)),g=-h*h+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(xv).addScaledVector(Nh,f),g}intersectSphere(e,n){Ur.subVectors(e.center,this.origin);const i=Ur.dot(this.direction),r=Ur.dot(Ur)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,r=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,r=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-f.z)*h,l=(e.max.z-f.z)*h):(a=(e.max.z-f.z)*h,l=(e.min.z-f.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Ur)!==null}intersectTriangle(e,n,i,r,s){Ev.subVectors(n,e),Lh.subVectors(i,e),Sv.crossVectors(Ev,Lh);let o=this.direction.dot(Sv),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;As.subVectors(this.origin,e);const l=a*this.direction.dot(Lh.crossVectors(As,Lh));if(l<0)return null;const c=a*this.direction.dot(Ev.cross(As));if(c<0||l+c>o)return null;const u=-a*As.dot(Sv);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _n{constructor(e,n,i,r,s,o,a,l,c,u,h,f,g,_,w,m){_n.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c,u,h,f,g,_,w,m)}set(e,n,i,r,s,o,a,l,c,u,h,f,g,_,w,m){const p=this.elements;return p[0]=e,p[4]=n,p[8]=i,p[12]=r,p[1]=s,p[5]=o,p[9]=a,p[13]=l,p[2]=c,p[6]=u,p[10]=h,p[14]=f,p[3]=g,p[7]=_,p[11]=w,p[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _n().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/ja.setFromMatrixColumn(e,0).length(),s=1/ja.setFromMatrixColumn(e,1).length(),o=1/ja.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const f=o*u,g=o*h,_=a*u,w=a*h;n[0]=l*u,n[4]=-l*h,n[8]=c,n[1]=g+_*c,n[5]=f-w*c,n[9]=-a*l,n[2]=w-f*c,n[6]=_+g*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*u,g=l*h,_=c*u,w=c*h;n[0]=f+w*a,n[4]=_*a-g,n[8]=o*c,n[1]=o*h,n[5]=o*u,n[9]=-a,n[2]=g*a-_,n[6]=w+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*u,g=l*h,_=c*u,w=c*h;n[0]=f-w*a,n[4]=-o*h,n[8]=_+g*a,n[1]=g+_*a,n[5]=o*u,n[9]=w-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*u,g=o*h,_=a*u,w=a*h;n[0]=l*u,n[4]=_*c-g,n[8]=f*c+w,n[1]=l*h,n[5]=w*c+f,n[9]=g*c-_,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,g=o*c,_=a*l,w=a*c;n[0]=l*u,n[4]=w-f*h,n[8]=_*h+g,n[1]=h,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=g*h+_,n[10]=f-w*h}else if(e.order==="XZY"){const f=o*l,g=o*c,_=a*l,w=a*c;n[0]=l*u,n[4]=-h,n[8]=c*u,n[1]=f*h+w,n[5]=o*u,n[9]=g*h-_,n[2]=_*h-g,n[6]=a*u,n[10]=w*h+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(yG,e,_G)}lookAt(e,n,i){const r=this.elements;return xi.subVectors(e,n),xi.lengthSq()===0&&(xi.z=1),xi.normalize(),Ms.crossVectors(i,xi),Ms.lengthSq()===0&&(Math.abs(i.z)===1?xi.x+=1e-4:xi.z+=1e-4,xi.normalize(),Ms.crossVectors(i,xi)),Ms.normalize(),Dh.crossVectors(xi,Ms),r[0]=Ms.x,r[4]=Dh.x,r[8]=xi.x,r[1]=Ms.y,r[5]=Dh.y,r[9]=xi.y,r[2]=Ms.z,r[6]=Dh.z,r[10]=xi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],h=i[5],f=i[9],g=i[13],_=i[2],w=i[6],m=i[10],p=i[14],E=i[3],S=i[7],M=i[11],N=i[15],P=r[0],T=r[4],A=r[8],R=r[12],x=r[1],C=r[5],O=r[9],D=r[13],B=r[2],te=r[6],Z=r[10],ne=r[14],z=r[3],W=r[7],X=r[11],ie=r[15];return s[0]=o*P+a*x+l*B+c*z,s[4]=o*T+a*C+l*te+c*W,s[8]=o*A+a*O+l*Z+c*X,s[12]=o*R+a*D+l*ne+c*ie,s[1]=u*P+h*x+f*B+g*z,s[5]=u*T+h*C+f*te+g*W,s[9]=u*A+h*O+f*Z+g*X,s[13]=u*R+h*D+f*ne+g*ie,s[2]=_*P+w*x+m*B+p*z,s[6]=_*T+w*C+m*te+p*W,s[10]=_*A+w*O+m*Z+p*X,s[14]=_*R+w*D+m*ne+p*ie,s[3]=E*P+S*x+M*B+N*z,s[7]=E*T+S*C+M*te+N*W,s[11]=E*A+S*O+M*Z+N*X,s[15]=E*R+S*D+M*ne+N*ie,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],f=e[10],g=e[14],_=e[3],w=e[7],m=e[11],p=e[15];return _*(+s*l*h-r*c*h-s*a*f+i*c*f+r*a*g-i*l*g)+w*(+n*l*g-n*c*f+s*o*f-r*o*g+r*c*u-s*l*u)+m*(+n*c*h-n*a*g-s*o*h+i*o*g+s*a*u-i*c*u)+p*(-r*a*u-n*l*h+n*a*f+r*o*h-i*o*f+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],f=e[10],g=e[11],_=e[12],w=e[13],m=e[14],p=e[15],E=h*m*c-w*f*c+w*l*g-a*m*g-h*l*p+a*f*p,S=_*f*c-u*m*c-_*l*g+o*m*g+u*l*p-o*f*p,M=u*w*c-_*h*c+_*a*g-o*w*g-u*a*p+o*h*p,N=_*h*l-u*w*l-_*a*f+o*w*f+u*a*m-o*h*m,P=n*E+i*S+r*M+s*N;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/P;return e[0]=E*T,e[1]=(w*f*s-h*m*s-w*r*g+i*m*g+h*r*p-i*f*p)*T,e[2]=(a*m*s-w*l*s+w*r*c-i*m*c-a*r*p+i*l*p)*T,e[3]=(h*l*s-a*f*s-h*r*c+i*f*c+a*r*g-i*l*g)*T,e[4]=S*T,e[5]=(u*m*s-_*f*s+_*r*g-n*m*g-u*r*p+n*f*p)*T,e[6]=(_*l*s-o*m*s-_*r*c+n*m*c+o*r*p-n*l*p)*T,e[7]=(o*f*s-u*l*s+u*r*c-n*f*c-o*r*g+n*l*g)*T,e[8]=M*T,e[9]=(_*h*s-u*w*s-_*i*g+n*w*g+u*i*p-n*h*p)*T,e[10]=(o*w*s-_*a*s+_*i*c-n*w*c-o*i*p+n*a*p)*T,e[11]=(u*a*s-o*h*s-u*i*c+n*h*c+o*i*g-n*a*g)*T,e[12]=N*T,e[13]=(u*w*r-_*h*r+_*i*f-n*w*f-u*i*m+n*h*m)*T,e[14]=(_*a*r-o*w*r-_*i*l+n*w*l+o*i*m-n*a*m)*T,e[15]=(o*h*r-u*a*r+u*i*l-n*h*l-o*i*f+n*a*f)*T,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,h=a+a,f=s*c,g=s*u,_=s*h,w=o*u,m=o*h,p=a*h,E=l*c,S=l*u,M=l*h,N=i.x,P=i.y,T=i.z;return r[0]=(1-(w+p))*N,r[1]=(g+M)*N,r[2]=(_-S)*N,r[3]=0,r[4]=(g-M)*P,r[5]=(1-(f+p))*P,r[6]=(m+E)*P,r[7]=0,r[8]=(_+S)*T,r[9]=(m-E)*T,r[10]=(1-(f+w))*T,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=ja.set(r[0],r[1],r[2]).length();const o=ja.set(r[4],r[5],r[6]).length(),a=ja.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Xi.copy(this);const c=1/s,u=1/o,h=1/a;return Xi.elements[0]*=c,Xi.elements[1]*=c,Xi.elements[2]*=c,Xi.elements[4]*=u,Xi.elements[5]*=u,Xi.elements[6]*=u,Xi.elements[8]*=h,Xi.elements[9]*=h,Xi.elements[10]*=h,n.setFromRotationMatrix(Xi),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o,a=Kr){const l=this.elements,c=2*s/(n-e),u=2*s/(i-r),h=(n+e)/(n-e),f=(i+r)/(i-r);let g,_;if(a===Kr)g=-(o+s)/(o-s),_=-2*o*s/(o-s);else if(a===wp)g=-o/(o-s),_=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=g,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,i,r,s,o,a=Kr){const l=this.elements,c=1/(n-e),u=1/(i-r),h=1/(o-s),f=(n+e)*c,g=(i+r)*u;let _,w;if(a===Kr)_=(o+s)*h,w=-2*h;else if(a===wp)_=s*h,w=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-g,l[2]=0,l[6]=0,l[10]=w,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const ja=new Y,Xi=new _n,yG=new Y(0,0,0),_G=new Y(1,1,1),Ms=new Y,Dh=new Y,xi=new Y,pb=new _n,mb=new Cd;class Lm{constructor(e=0,n=0,i=0,r=Lm.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],f=r[6],g=r[10];switch(n){case"XYZ":this._y=Math.asin(ci(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ci(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(ci(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,g),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ci(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ci(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-ci(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return pb.makeRotationFromQuaternion(e),this.setFromRotationMatrix(pb,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return mb.setFromEuler(this),this.setFromQuaternion(mb,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Lm.DEFAULT_ORDER="XYZ";class x2{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let xG=0;const gb=new Y,Ha=new Cd,Fr=new _n,kh=new Y,Hc=new Y,EG=new Y,SG=new Cd,vb=new Y(1,0,0),yb=new Y(0,1,0),_b=new Y(0,0,1),wG={type:"added"},TG={type:"removed"};class gi extends uc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:xG++}),this.uuid=Md(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=gi.DEFAULT_UP.clone();const e=new Y,n=new Lm,i=new Cd,r=new Y(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new _n},normalMatrix:{value:new it}}),this.matrix=new _n,this.matrixWorld=new _n,this.matrixAutoUpdate=gi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=gi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new x2,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Ha.setFromAxisAngle(e,n),this.quaternion.multiply(Ha),this}rotateOnWorldAxis(e,n){return Ha.setFromAxisAngle(e,n),this.quaternion.premultiply(Ha),this}rotateX(e){return this.rotateOnAxis(vb,e)}rotateY(e){return this.rotateOnAxis(yb,e)}rotateZ(e){return this.rotateOnAxis(_b,e)}translateOnAxis(e,n){return gb.copy(e).applyQuaternion(this.quaternion),this.position.add(gb.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(vb,e)}translateY(e){return this.translateOnAxis(yb,e)}translateZ(e){return this.translateOnAxis(_b,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Fr.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?kh.copy(e):kh.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Hc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fr.lookAt(Hc,kh,this.up):Fr.lookAt(kh,Hc,this.up),this.quaternion.setFromRotationMatrix(Fr),r&&(Fr.extractRotation(r.matrixWorld),Ha.setFromRotationMatrix(Fr),this.quaternion.premultiply(Ha.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(wG)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(TG)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Fr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Fr.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fr),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hc,e,EG),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hc,SG,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const s=n[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),f=o(e.skeletons),g=o(e.animations),_=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),h.length>0&&(i.shapes=h),f.length>0&&(i.skeletons=f),g.length>0&&(i.animations=g),_.length>0&&(i.nodes=_)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}gi.DEFAULT_UP=new Y(0,1,0);gi.DEFAULT_MATRIX_AUTO_UPDATE=!0;gi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ki=new Y,Vr=new Y,wv=new Y,Br=new Y,Ga=new Y,Wa=new Y,xb=new Y,Tv=new Y,bv=new Y,Av=new Y;class xr{constructor(e=new Y,n=new Y,i=new Y){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Ki.subVectors(e,n),r.cross(Ki);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Ki.subVectors(r,n),Vr.subVectors(i,n),wv.subVectors(e,n);const o=Ki.dot(Ki),a=Ki.dot(Vr),l=Ki.dot(wv),c=Vr.dot(Vr),u=Vr.dot(wv),h=o*c-a*a;if(h===0)return s.set(0,0,0),null;const f=1/h,g=(c*l-a*u)*f,_=(o*u-a*l)*f;return s.set(1-g-_,_,g)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Br)===null?!1:Br.x>=0&&Br.y>=0&&Br.x+Br.y<=1}static getInterpolation(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,Br)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Br.x),l.addScaledVector(o,Br.y),l.addScaledVector(a,Br.z),l)}static isFrontFacing(e,n,i,r){return Ki.subVectors(i,n),Vr.subVectors(e,n),Ki.cross(Vr).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ki.subVectors(this.c,this.b),Vr.subVectors(this.a,this.b),Ki.cross(Vr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return xr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return xr.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,s){return xr.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return xr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return xr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;Ga.subVectors(r,i),Wa.subVectors(s,i),Tv.subVectors(e,i);const l=Ga.dot(Tv),c=Wa.dot(Tv);if(l<=0&&c<=0)return n.copy(i);bv.subVectors(e,r);const u=Ga.dot(bv),h=Wa.dot(bv);if(u>=0&&h<=u)return n.copy(r);const f=l*h-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(i).addScaledVector(Ga,o);Av.subVectors(e,s);const g=Ga.dot(Av),_=Wa.dot(Av);if(_>=0&&g<=_)return n.copy(s);const w=g*c-l*_;if(w<=0&&c>=0&&_<=0)return a=c/(c-_),n.copy(i).addScaledVector(Wa,a);const m=u*_-g*h;if(m<=0&&h-u>=0&&g-_>=0)return xb.subVectors(s,r),a=(h-u)/(h-u+(g-_)),n.copy(r).addScaledVector(xb,a);const p=1/(m+w+f);return o=w*p,a=f*p,n.copy(i).addScaledVector(Ga,o).addScaledVector(Wa,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const E2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Cs={h:0,s:0,l:0},Oh={h:0,s:0,l:0};function Mv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Et{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Mn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wt.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=wt.workingColorSpace){return this.r=e,this.g=n,this.b=i,wt.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=wt.workingColorSpace){if(e=uG(e,1),n=ci(n,0,1),i=ci(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=Mv(o,s,e+1/3),this.g=Mv(o,s,e),this.b=Mv(o,s,e-1/3)}return wt.toWorkingColorSpace(this,r),this}setStyle(e,n=Mn){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Mn){const i=E2[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Pl(e.r),this.g=Pl(e.g),this.b=Pl(e.b),this}copyLinearToSRGB(e){return this.r=mv(e.r),this.g=mv(e.g),this.b=mv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Mn){return wt.fromWorkingColorSpace(Vn.copy(this),e),Math.round(ci(Vn.r*255,0,255))*65536+Math.round(ci(Vn.g*255,0,255))*256+Math.round(ci(Vn.b*255,0,255))}getHexString(e=Mn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=wt.workingColorSpace){wt.fromWorkingColorSpace(Vn.copy(this),n);const i=Vn.r,r=Vn.g,s=Vn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=wt.workingColorSpace){return wt.fromWorkingColorSpace(Vn.copy(this),n),e.r=Vn.r,e.g=Vn.g,e.b=Vn.b,e}getStyle(e=Mn){wt.fromWorkingColorSpace(Vn.copy(this),e);const n=Vn.r,i=Vn.g,r=Vn.b;return e!==Mn?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(Cs),this.setHSL(Cs.h+e,Cs.s+n,Cs.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Cs),e.getHSL(Oh);const i=fv(Cs.h,Oh.h,n),r=fv(Cs.s,Oh.s,n),s=fv(Cs.l,Oh.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Vn=new Et;Et.NAMES=E2;let bG=0;class Pd extends uc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bG++}),this.uuid=Md(),this.name="",this.type="Material",this.blending=Cl,this.side=co,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=wy,this.blendDst=Ty,this.blendEquation=jo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Et(0,0,0),this.blendAlpha=0,this.depthFunc=_p,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ob,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ua,this.stencilZFail=Ua,this.stencilZPass=Ua,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Cl&&(i.blending=this.blending),this.side!==co&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==wy&&(i.blendSrc=this.blendSrc),this.blendDst!==Ty&&(i.blendDst=this.blendDst),this.blendEquation!==jo&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==_p&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==ob&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ua&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Ua&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Ua&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class S2 extends Pd{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=r2,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const tn=new Y,Uh=new vt;class lr{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=ab,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=$r,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Rl("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Uh.fromBufferAttribute(this,n),Uh.applyMatrix3(e),this.setXY(n,Uh.x,Uh.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)tn.fromBufferAttribute(this,n),tn.applyMatrix3(e),this.setXYZ(n,tn.x,tn.y,tn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)tn.fromBufferAttribute(this,n),tn.applyMatrix4(e),this.setXYZ(n,tn.x,tn.y,tn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)tn.fromBufferAttribute(this,n),tn.applyNormalMatrix(e),this.setXYZ(n,tn.x,tn.y,tn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)tn.fromBufferAttribute(this,n),tn.transformDirection(e),this.setXYZ(n,tn.x,tn.y,tn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Bc(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=oi(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Bc(n,this.array)),n}setX(e,n){return this.normalized&&(n=oi(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Bc(n,this.array)),n}setY(e,n){return this.normalized&&(n=oi(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Bc(n,this.array)),n}setZ(e,n){return this.normalized&&(n=oi(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Bc(n,this.array)),n}setW(e,n){return this.normalized&&(n=oi(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=oi(n,this.array),i=oi(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=oi(n,this.array),i=oi(i,this.array),r=oi(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=oi(n,this.array),i=oi(i,this.array),r=oi(r,this.array),s=oi(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ab&&(e.usage=this.usage),e}}class w2 extends lr{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class T2 extends lr{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class ia extends lr{constructor(e,n,i){super(new Float32Array(e),n,i)}}let AG=0;const Di=new _n,Cv=new gi,$a=new Y,Ei=new Rd,Gc=new Rd,fn=new Y;class vs extends uc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:AG++}),this.uuid=Md(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(m2(e)?T2:w2)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new it().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Di.makeRotationFromQuaternion(e),this.applyMatrix4(Di),this}rotateX(e){return Di.makeRotationX(e),this.applyMatrix4(Di),this}rotateY(e){return Di.makeRotationY(e),this.applyMatrix4(Di),this}rotateZ(e){return Di.makeRotationZ(e),this.applyMatrix4(Di),this}translate(e,n,i){return Di.makeTranslation(e,n,i),this.applyMatrix4(Di),this}scale(e,n,i){return Di.makeScale(e,n,i),this.applyMatrix4(Di),this}lookAt(e){return Cv.lookAt(e),Cv.updateMatrix(),this.applyMatrix4(Cv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($a).negate(),this.translate($a.x,$a.y,$a.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ia(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Rd);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Y(-1/0,-1/0,-1/0),new Y(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];Ei.setFromBufferAttribute(s),this.morphTargetsRelative?(fn.addVectors(this.boundingBox.min,Ei.min),this.boundingBox.expandByPoint(fn),fn.addVectors(this.boundingBox.max,Ei.max),this.boundingBox.expandByPoint(fn)):(this.boundingBox.expandByPoint(Ei.min),this.boundingBox.expandByPoint(Ei.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Nm);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Y,1/0);return}if(e){const i=this.boundingSphere.center;if(Ei.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Gc.setFromBufferAttribute(a),this.morphTargetsRelative?(fn.addVectors(Ei.min,Gc.min),Ei.expandByPoint(fn),fn.addVectors(Ei.max,Gc.max),Ei.expandByPoint(fn)):(Ei.expandByPoint(Gc.min),Ei.expandByPoint(Gc.max))}Ei.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)fn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(fn));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)fn.fromBufferAttribute(a,c),l&&($a.fromBufferAttribute(e,c),fn.add($a)),r=Math.max(r,i.distanceToSquared(fn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,s=n.normal.array,o=n.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new lr(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let x=0;x<a;x++)c[x]=new Y,u[x]=new Y;const h=new Y,f=new Y,g=new Y,_=new vt,w=new vt,m=new vt,p=new Y,E=new Y;function S(x,C,O){h.fromArray(r,x*3),f.fromArray(r,C*3),g.fromArray(r,O*3),_.fromArray(o,x*2),w.fromArray(o,C*2),m.fromArray(o,O*2),f.sub(h),g.sub(h),w.sub(_),m.sub(_);const D=1/(w.x*m.y-m.x*w.y);isFinite(D)&&(p.copy(f).multiplyScalar(m.y).addScaledVector(g,-w.y).multiplyScalar(D),E.copy(g).multiplyScalar(w.x).addScaledVector(f,-m.x).multiplyScalar(D),c[x].add(p),c[C].add(p),c[O].add(p),u[x].add(E),u[C].add(E),u[O].add(E))}let M=this.groups;M.length===0&&(M=[{start:0,count:i.length}]);for(let x=0,C=M.length;x<C;++x){const O=M[x],D=O.start,B=O.count;for(let te=D,Z=D+B;te<Z;te+=3)S(i[te+0],i[te+1],i[te+2])}const N=new Y,P=new Y,T=new Y,A=new Y;function R(x){T.fromArray(s,x*3),A.copy(T);const C=c[x];N.copy(C),N.sub(T.multiplyScalar(T.dot(C))).normalize(),P.crossVectors(A,C);const D=P.dot(u[x])<0?-1:1;l[x*4]=N.x,l[x*4+1]=N.y,l[x*4+2]=N.z,l[x*4+3]=D}for(let x=0,C=M.length;x<C;++x){const O=M[x],D=O.start,B=O.count;for(let te=D,Z=D+B;te<Z;te+=3)R(i[te+0]),R(i[te+1]),R(i[te+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new lr(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let f=0,g=i.count;f<g;f++)i.setXYZ(f,0,0,0);const r=new Y,s=new Y,o=new Y,a=new Y,l=new Y,c=new Y,u=new Y,h=new Y;if(e)for(let f=0,g=e.count;f<g;f+=3){const _=e.getX(f+0),w=e.getX(f+1),m=e.getX(f+2);r.fromBufferAttribute(n,_),s.fromBufferAttribute(n,w),o.fromBufferAttribute(n,m),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),a.fromBufferAttribute(i,_),l.fromBufferAttribute(i,w),c.fromBufferAttribute(i,m),a.add(u),l.add(u),c.add(u),i.setXYZ(_,a.x,a.y,a.z),i.setXYZ(w,l.x,l.y,l.z),i.setXYZ(m,c.x,c.y,c.z)}else for(let f=0,g=n.count;f<g;f+=3)r.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,s),h.subVectors(r,s),u.cross(h),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)fn.fromBufferAttribute(e,n),fn.normalize(),e.setXYZ(n,fn.x,fn.y,fn.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,f=new c.constructor(l.length*u);let g=0,_=0;for(let w=0,m=l.length;w<m;w++){a.isInterleavedBufferAttribute?g=l[w]*a.data.stride+a.offset:g=l[w]*u;for(let p=0;p<u;p++)f[_++]=c[g++]}return new lr(f,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new vs,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const f=c[u],g=e(f,i);l.push(g)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,f=c.length;h<f;h++){const g=c[h];u.push(g.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let f=0,g=h.length;f<g;f++)u.push(h[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Eb=new _n,No=new _2,Fh=new Nm,Sb=new Y,qa=new Y,Xa=new Y,Ka=new Y,Rv=new Y,Vh=new Y,Bh=new vt,zh=new vt,jh=new vt,wb=new Y,Tb=new Y,bb=new Y,Hh=new Y,Gh=new Y;class Yr extends gi{constructor(e=new vs,n=new S2){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Vh.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(Rv.fromBufferAttribute(h,e),o?Vh.addScaledVector(Rv,u):Vh.addScaledVector(Rv.sub(n),u))}n.add(Vh)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Fh.copy(i.boundingSphere),Fh.applyMatrix4(s),No.copy(e.ray).recast(e.near),!(Fh.containsPoint(No.origin)===!1&&(No.intersectSphere(Fh,Sb)===null||No.origin.distanceToSquared(Sb)>(e.far-e.near)**2))&&(Eb.copy(s).invert(),No.copy(e.ray).applyMatrix4(Eb),!(i.boundingBox!==null&&No.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,No)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,f=s.groups,g=s.drawRange;if(a!==null)if(Array.isArray(o))for(let _=0,w=f.length;_<w;_++){const m=f[_],p=o[m.materialIndex],E=Math.max(m.start,g.start),S=Math.min(a.count,Math.min(m.start+m.count,g.start+g.count));for(let M=E,N=S;M<N;M+=3){const P=a.getX(M),T=a.getX(M+1),A=a.getX(M+2);r=Wh(this,p,e,i,c,u,h,P,T,A),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=m.materialIndex,n.push(r))}}else{const _=Math.max(0,g.start),w=Math.min(a.count,g.start+g.count);for(let m=_,p=w;m<p;m+=3){const E=a.getX(m),S=a.getX(m+1),M=a.getX(m+2);r=Wh(this,o,e,i,c,u,h,E,S,M),r&&(r.faceIndex=Math.floor(m/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let _=0,w=f.length;_<w;_++){const m=f[_],p=o[m.materialIndex],E=Math.max(m.start,g.start),S=Math.min(l.count,Math.min(m.start+m.count,g.start+g.count));for(let M=E,N=S;M<N;M+=3){const P=M,T=M+1,A=M+2;r=Wh(this,p,e,i,c,u,h,P,T,A),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=m.materialIndex,n.push(r))}}else{const _=Math.max(0,g.start),w=Math.min(l.count,g.start+g.count);for(let m=_,p=w;m<p;m+=3){const E=m,S=m+1,M=m+2;r=Wh(this,o,e,i,c,u,h,E,S,M),r&&(r.faceIndex=Math.floor(m/3),n.push(r))}}}}function MG(t,e,n,i,r,s,o,a){let l;if(e.side===pi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===co,a),l===null)return null;Gh.copy(a),Gh.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Gh);return c<n.near||c>n.far?null:{distance:c,point:Gh.clone(),object:t}}function Wh(t,e,n,i,r,s,o,a,l,c){t.getVertexPosition(a,qa),t.getVertexPosition(l,Xa),t.getVertexPosition(c,Ka);const u=MG(t,e,n,i,qa,Xa,Ka,Hh);if(u){r&&(Bh.fromBufferAttribute(r,a),zh.fromBufferAttribute(r,l),jh.fromBufferAttribute(r,c),u.uv=xr.getInterpolation(Hh,qa,Xa,Ka,Bh,zh,jh,new vt)),s&&(Bh.fromBufferAttribute(s,a),zh.fromBufferAttribute(s,l),jh.fromBufferAttribute(s,c),u.uv1=xr.getInterpolation(Hh,qa,Xa,Ka,Bh,zh,jh,new vt),u.uv2=u.uv1),o&&(wb.fromBufferAttribute(o,a),Tb.fromBufferAttribute(o,l),bb.fromBufferAttribute(o,c),u.normal=xr.getInterpolation(Hh,qa,Xa,Ka,wb,Tb,bb,new Y),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new Y,materialIndex:0};xr.getNormal(qa,Xa,Ka,h.normal),u.face=h}return u}class Id extends vs{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let f=0,g=0;_("z","y","x",-1,-1,i,n,e,o,s,0),_("z","y","x",1,-1,i,n,-e,o,s,1),_("x","z","y",1,1,e,i,n,r,o,2),_("x","z","y",1,-1,e,i,-n,r,o,3),_("x","y","z",1,-1,e,n,i,r,s,4),_("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new ia(c,3)),this.setAttribute("normal",new ia(u,3)),this.setAttribute("uv",new ia(h,2));function _(w,m,p,E,S,M,N,P,T,A,R){const x=M/T,C=N/A,O=M/2,D=N/2,B=P/2,te=T+1,Z=A+1;let ne=0,z=0;const W=new Y;for(let X=0;X<Z;X++){const ie=X*C-D;for(let se=0;se<te;se++){const Se=se*x-O;W[w]=Se*E,W[m]=ie*S,W[p]=B,c.push(W.x,W.y,W.z),W[w]=0,W[m]=0,W[p]=P>0?1:-1,u.push(W.x,W.y,W.z),h.push(se/T),h.push(1-X/A),ne+=1}}for(let X=0;X<A;X++)for(let ie=0;ie<T;ie++){const se=f+ie+te*X,Se=f+ie+te*(X+1),J=f+(ie+1)+te*(X+1),re=f+(ie+1)+te*X;l.push(se,Se,re),l.push(Se,J,re),z+=6}a.addGroup(g,z,R),g+=z,f+=ne}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Id(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Kl(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function Qn(t){const e={};for(let n=0;n<t.length;n++){const i=Kl(t[n]);for(const r in i)e[r]=i[r]}return e}function CG(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function b2(t){return t.getRenderTarget()===null?t.outputColorSpace:wt.workingColorSpace}const RG={clone:Kl,merge:Qn};var PG=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,IG=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class uo extends Pd{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=PG,this.fragmentShader=IG,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Kl(e.uniforms),this.uniformsGroups=CG(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class A2 extends gi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _n,this.projectionMatrix=new _n,this.projectionMatrixInverse=new _n,this.coordinateSystem=Kr}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Rs=new Y,Ab=new vt,Mb=new vt;class Fi extends A2{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Py*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(hv*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Py*2*Math.atan(Math.tan(hv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Rs.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Rs.x,Rs.y).multiplyScalar(-e/Rs.z),Rs.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Rs.x,Rs.y).multiplyScalar(-e/Rs.z)}getViewSize(e,n){return this.getViewBounds(e,Ab,Mb),n.subVectors(Mb,Ab)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(hv*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ya=-90,Qa=1;class NG extends gi{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Fi(Ya,Qa,e,n);r.layers=this.layers,this.add(r);const s=new Fi(Ya,Qa,e,n);s.layers=this.layers,this.add(s);const o=new Fi(Ya,Qa,e,n);o.layers=this.layers,this.add(o);const a=new Fi(Ya,Qa,e,n);a.layers=this.layers,this.add(a);const l=new Fi(Ya,Qa,e,n);l.layers=this.layers,this.add(l);const c=new Fi(Ya,Qa,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Kr)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===wp)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,h=e.getRenderTarget(),f=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const w=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,a),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=w,e.setRenderTarget(i,5,r),e.render(n,u),e.setRenderTarget(h,f,g),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class M2 extends mi{constructor(e,n,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:$l,super(e,n,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class LG extends pa{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];n.encoding!==void 0&&(Rl("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===na?Mn:Vi),this.texture=new M2(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ai}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Id(5,5,5),s=new uo({name:"CubemapFromEquirect",uniforms:Kl(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:pi,blending:to});s.uniforms.tEquirect.value=n;const o=new Yr(r,s),a=n.minFilter;return n.minFilter===Xo&&(n.minFilter=ai),new NG(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}const Pv=new Y,DG=new Y,kG=new it;class Vo{constructor(e=new Y(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Pv.subVectors(i,n).cross(DG.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Pv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||kG.getNormalMatrix(e),r=this.coplanarPoint(Pv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Lo=new Nm,$h=new Y;class C2{constructor(e=new Vo,n=new Vo,i=new Vo,r=new Vo,s=new Vo,o=new Vo){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Kr){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],h=r[6],f=r[7],g=r[8],_=r[9],w=r[10],m=r[11],p=r[12],E=r[13],S=r[14],M=r[15];if(i[0].setComponents(l-s,f-c,m-g,M-p).normalize(),i[1].setComponents(l+s,f+c,m+g,M+p).normalize(),i[2].setComponents(l+o,f+u,m+_,M+E).normalize(),i[3].setComponents(l-o,f-u,m-_,M-E).normalize(),i[4].setComponents(l-a,f-h,m-w,M-S).normalize(),n===Kr)i[5].setComponents(l+a,f+h,m+w,M+S).normalize();else if(n===wp)i[5].setComponents(a,h,w,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Lo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Lo.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Lo)}intersectsSprite(e){return Lo.center.set(0,0,0),Lo.radius=.7071067811865476,Lo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Lo)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if($h.x=r.normal.x>0?e.max.x:e.min.x,$h.y=r.normal.y>0?e.max.y:e.min.y,$h.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint($h)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function R2(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function OG(t,e){const n=e.isWebGL2,i=new WeakMap;function r(c,u){const h=c.array,f=c.usage,g=h.byteLength,_=t.createBuffer();t.bindBuffer(u,_),t.bufferData(u,h,f),c.onUploadCallback();let w;if(h instanceof Float32Array)w=t.FLOAT;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)w=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else w=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)w=t.SHORT;else if(h instanceof Uint32Array)w=t.UNSIGNED_INT;else if(h instanceof Int32Array)w=t.INT;else if(h instanceof Int8Array)w=t.BYTE;else if(h instanceof Uint8Array)w=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)w=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:_,type:w,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version,size:g}}function s(c,u,h){const f=u.array,g=u._updateRange,_=u.updateRanges;if(t.bindBuffer(h,c),g.count===-1&&_.length===0&&t.bufferSubData(h,0,f),_.length!==0){for(let w=0,m=_.length;w<m;w++){const p=_[w];n?t.bufferSubData(h,p.start*f.BYTES_PER_ELEMENT,f,p.start,p.count):t.bufferSubData(h,p.start*f.BYTES_PER_ELEMENT,f.subarray(p.start,p.start+p.count))}u.clearUpdateRanges()}g.count!==-1&&(n?t.bufferSubData(h,g.offset*f.BYTES_PER_ELEMENT,f,g.offset,g.count):t.bufferSubData(h,g.offset*f.BYTES_PER_ELEMENT,f.subarray(g.offset,g.offset+g.count)),g.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(t.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=i.get(c);(!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=i.get(c);if(h===void 0)i.set(c,r(c,u));else if(h.version<c.version){if(h.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(h.buffer,c,u),h.version=c.version}}return{get:o,remove:a,update:l}}class Dm extends vs{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,h=e/a,f=n/l,g=[],_=[],w=[],m=[];for(let p=0;p<u;p++){const E=p*f-o;for(let S=0;S<c;S++){const M=S*h-s;_.push(M,-E,0),w.push(0,0,1),m.push(S/a),m.push(1-p/l)}}for(let p=0;p<l;p++)for(let E=0;E<a;E++){const S=E+c*p,M=E+c*(p+1),N=E+1+c*(p+1),P=E+1+c*p;g.push(S,M,P),g.push(M,N,P)}this.setIndex(g),this.setAttribute("position",new ia(_,3)),this.setAttribute("normal",new ia(w,3)),this.setAttribute("uv",new ia(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dm(e.width,e.height,e.widthSegments,e.heightSegments)}}var UG=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,FG=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,VG=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,BG=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zG=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,jG=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,HG=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,GG=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,WG=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$G=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,qG=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,XG=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,KG=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,YG=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,QG=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,JG=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,ZG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,e9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,t9=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,n9=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,i9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,r9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,s9=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,o9=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,a9=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,l9=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,c9=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,u9=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,d9=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,h9=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,f9="gl_FragColor = linearToOutputTexel( gl_FragColor );",p9=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,m9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,g9=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,v9=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,y9=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,_9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,x9=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,E9=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,S9=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,w9=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,T9=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,b9=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,A9=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,M9=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,C9=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,R9=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,P9=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,I9=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,N9=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,L9=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,D9=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,k9=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,O9=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,U9=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,F9=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,V9=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,B9=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,z9=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,j9=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,H9=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,G9=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,W9=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,$9=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,q9=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,X9=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,K9=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Y9=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Q9=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,J9=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Z9=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,eW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,tW=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,nW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,iW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,sW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,oW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,aW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,lW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,cW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,uW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,dW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,hW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,fW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,pW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,mW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,gW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,yW=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,_W=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,xW=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,EW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,SW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,wW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,TW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,bW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,AW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,MW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,CW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,RW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,PW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,IW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,NW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,LW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,DW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,kW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const OW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,UW=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,FW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,VW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,BW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zW=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,HW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,GW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,WW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,$W=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,qW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,XW=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,KW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,YW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,QW=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,JW=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZW=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,t8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n8=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,i8=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,r8=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,s8=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,o8=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,a8=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l8=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,c8=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,u8=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,d8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,h8=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,f8=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,p8=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,m8=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,et={alphahash_fragment:UG,alphahash_pars_fragment:FG,alphamap_fragment:VG,alphamap_pars_fragment:BG,alphatest_fragment:zG,alphatest_pars_fragment:jG,aomap_fragment:HG,aomap_pars_fragment:GG,batching_pars_vertex:WG,batching_vertex:$G,begin_vertex:qG,beginnormal_vertex:XG,bsdfs:KG,iridescence_fragment:YG,bumpmap_pars_fragment:QG,clipping_planes_fragment:JG,clipping_planes_pars_fragment:ZG,clipping_planes_pars_vertex:e9,clipping_planes_vertex:t9,color_fragment:n9,color_pars_fragment:i9,color_pars_vertex:r9,color_vertex:s9,common:o9,cube_uv_reflection_fragment:a9,defaultnormal_vertex:l9,displacementmap_pars_vertex:c9,displacementmap_vertex:u9,emissivemap_fragment:d9,emissivemap_pars_fragment:h9,colorspace_fragment:f9,colorspace_pars_fragment:p9,envmap_fragment:m9,envmap_common_pars_fragment:g9,envmap_pars_fragment:v9,envmap_pars_vertex:y9,envmap_physical_pars_fragment:P9,envmap_vertex:_9,fog_vertex:x9,fog_pars_vertex:E9,fog_fragment:S9,fog_pars_fragment:w9,gradientmap_pars_fragment:T9,lightmap_fragment:b9,lightmap_pars_fragment:A9,lights_lambert_fragment:M9,lights_lambert_pars_fragment:C9,lights_pars_begin:R9,lights_toon_fragment:I9,lights_toon_pars_fragment:N9,lights_phong_fragment:L9,lights_phong_pars_fragment:D9,lights_physical_fragment:k9,lights_physical_pars_fragment:O9,lights_fragment_begin:U9,lights_fragment_maps:F9,lights_fragment_end:V9,logdepthbuf_fragment:B9,logdepthbuf_pars_fragment:z9,logdepthbuf_pars_vertex:j9,logdepthbuf_vertex:H9,map_fragment:G9,map_pars_fragment:W9,map_particle_fragment:$9,map_particle_pars_fragment:q9,metalnessmap_fragment:X9,metalnessmap_pars_fragment:K9,morphcolor_vertex:Y9,morphnormal_vertex:Q9,morphtarget_pars_vertex:J9,morphtarget_vertex:Z9,normal_fragment_begin:eW,normal_fragment_maps:tW,normal_pars_fragment:nW,normal_pars_vertex:iW,normal_vertex:rW,normalmap_pars_fragment:sW,clearcoat_normal_fragment_begin:oW,clearcoat_normal_fragment_maps:aW,clearcoat_pars_fragment:lW,iridescence_pars_fragment:cW,opaque_fragment:uW,packing:dW,premultiplied_alpha_fragment:hW,project_vertex:fW,dithering_fragment:pW,dithering_pars_fragment:mW,roughnessmap_fragment:gW,roughnessmap_pars_fragment:vW,shadowmap_pars_fragment:yW,shadowmap_pars_vertex:_W,shadowmap_vertex:xW,shadowmask_pars_fragment:EW,skinbase_vertex:SW,skinning_pars_vertex:wW,skinning_vertex:TW,skinnormal_vertex:bW,specularmap_fragment:AW,specularmap_pars_fragment:MW,tonemapping_fragment:CW,tonemapping_pars_fragment:RW,transmission_fragment:PW,transmission_pars_fragment:IW,uv_pars_fragment:NW,uv_pars_vertex:LW,uv_vertex:DW,worldpos_vertex:kW,background_vert:OW,background_frag:UW,backgroundCube_vert:FW,backgroundCube_frag:VW,cube_vert:BW,cube_frag:zW,depth_vert:jW,depth_frag:HW,distanceRGBA_vert:GW,distanceRGBA_frag:WW,equirect_vert:$W,equirect_frag:qW,linedashed_vert:XW,linedashed_frag:KW,meshbasic_vert:YW,meshbasic_frag:QW,meshlambert_vert:JW,meshlambert_frag:ZW,meshmatcap_vert:e8,meshmatcap_frag:t8,meshnormal_vert:n8,meshnormal_frag:i8,meshphong_vert:r8,meshphong_frag:s8,meshphysical_vert:o8,meshphysical_frag:a8,meshtoon_vert:l8,meshtoon_frag:c8,points_vert:u8,points_frag:d8,shadow_vert:h8,shadow_frag:f8,sprite_vert:p8,sprite_frag:m8},ve={common:{diffuse:{value:new Et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new it},alphaMap:{value:null},alphaMapTransform:{value:new it},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new it}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new it}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new it}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new it},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new it},normalScale:{value:new vt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new it},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new it}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new it}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new it}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new it},alphaTest:{value:0},uvTransform:{value:new it}},sprite:{diffuse:{value:new Et(16777215)},opacity:{value:1},center:{value:new vt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new it},alphaMap:{value:null},alphaMapTransform:{value:new it},alphaTest:{value:0}}},yr={basic:{uniforms:Qn([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.fog]),vertexShader:et.meshbasic_vert,fragmentShader:et.meshbasic_frag},lambert:{uniforms:Qn([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,ve.lights,{emissive:{value:new Et(0)}}]),vertexShader:et.meshlambert_vert,fragmentShader:et.meshlambert_frag},phong:{uniforms:Qn([ve.common,ve.specularmap,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,ve.lights,{emissive:{value:new Et(0)},specular:{value:new Et(1118481)},shininess:{value:30}}]),vertexShader:et.meshphong_vert,fragmentShader:et.meshphong_frag},standard:{uniforms:Qn([ve.common,ve.envmap,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.roughnessmap,ve.metalnessmap,ve.fog,ve.lights,{emissive:{value:new Et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:et.meshphysical_vert,fragmentShader:et.meshphysical_frag},toon:{uniforms:Qn([ve.common,ve.aomap,ve.lightmap,ve.emissivemap,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.gradientmap,ve.fog,ve.lights,{emissive:{value:new Et(0)}}]),vertexShader:et.meshtoon_vert,fragmentShader:et.meshtoon_frag},matcap:{uniforms:Qn([ve.common,ve.bumpmap,ve.normalmap,ve.displacementmap,ve.fog,{matcap:{value:null}}]),vertexShader:et.meshmatcap_vert,fragmentShader:et.meshmatcap_frag},points:{uniforms:Qn([ve.points,ve.fog]),vertexShader:et.points_vert,fragmentShader:et.points_frag},dashed:{uniforms:Qn([ve.common,ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:et.linedashed_vert,fragmentShader:et.linedashed_frag},depth:{uniforms:Qn([ve.common,ve.displacementmap]),vertexShader:et.depth_vert,fragmentShader:et.depth_frag},normal:{uniforms:Qn([ve.common,ve.bumpmap,ve.normalmap,ve.displacementmap,{opacity:{value:1}}]),vertexShader:et.meshnormal_vert,fragmentShader:et.meshnormal_frag},sprite:{uniforms:Qn([ve.sprite,ve.fog]),vertexShader:et.sprite_vert,fragmentShader:et.sprite_frag},background:{uniforms:{uvTransform:{value:new it},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:et.background_vert,fragmentShader:et.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:et.backgroundCube_vert,fragmentShader:et.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:et.cube_vert,fragmentShader:et.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:et.equirect_vert,fragmentShader:et.equirect_frag},distanceRGBA:{uniforms:Qn([ve.common,ve.displacementmap,{referencePosition:{value:new Y},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:et.distanceRGBA_vert,fragmentShader:et.distanceRGBA_frag},shadow:{uniforms:Qn([ve.lights,ve.fog,{color:{value:new Et(0)},opacity:{value:1}}]),vertexShader:et.shadow_vert,fragmentShader:et.shadow_frag}};yr.physical={uniforms:Qn([yr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new it},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new it},clearcoatNormalScale:{value:new vt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new it},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new it},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new it},sheen:{value:0},sheenColor:{value:new Et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new it},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new it},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new it},transmissionSamplerSize:{value:new vt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new it},attenuationDistance:{value:0},attenuationColor:{value:new Et(0)},specularColor:{value:new Et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new it},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new it},anisotropyVector:{value:new vt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new it}}]),vertexShader:et.meshphysical_vert,fragmentShader:et.meshphysical_frag};const qh={r:0,b:0,g:0};function g8(t,e,n,i,r,s,o){const a=new Et(0);let l=s===!0?0:1,c,u,h=null,f=0,g=null;function _(m,p){let E=!1,S=p.isScene===!0?p.background:null;S&&S.isTexture&&(S=(p.backgroundBlurriness>0?n:e).get(S)),S===null?w(a,l):S&&S.isColor&&(w(S,1),E=!0);const M=t.xr.getEnvironmentBlendMode();M==="additive"?i.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||E)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Pm)?(u===void 0&&(u=new Yr(new Id(1,1,1),new uo({name:"BackgroundCubeMaterial",uniforms:Kl(yr.backgroundCube.uniforms),vertexShader:yr.backgroundCube.vertexShader,fragmentShader:yr.backgroundCube.fragmentShader,side:pi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(N,P,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=p.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,u.material.toneMapped=wt.getTransfer(S.colorSpace)!==Lt,(h!==S||f!==S.version||g!==t.toneMapping)&&(u.material.needsUpdate=!0,h=S,f=S.version,g=t.toneMapping),u.layers.enableAll(),m.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new Yr(new Dm(2,2),new uo({name:"BackgroundMaterial",uniforms:Kl(yr.background.uniforms),vertexShader:yr.background.vertexShader,fragmentShader:yr.background.fragmentShader,side:co,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,c.material.toneMapped=wt.getTransfer(S.colorSpace)!==Lt,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||f!==S.version||g!==t.toneMapping)&&(c.material.needsUpdate=!0,h=S,f=S.version,g=t.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null))}function w(m,p){m.getRGB(qh,b2(t)),i.buffers.color.setClear(qh.r,qh.g,qh.b,p,o)}return{getClearColor:function(){return a},setClearColor:function(m,p=1){a.set(m),l=p,w(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(m){l=m,w(a,l)},render:_}}function v8(t,e,n,i){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=m(null);let c=l,u=!1;function h(B,te,Z,ne,z){let W=!1;if(o){const X=w(ne,Z,te);c!==X&&(c=X,g(c.object)),W=p(B,ne,Z,z),W&&E(B,ne,Z,z)}else{const X=te.wireframe===!0;(c.geometry!==ne.id||c.program!==Z.id||c.wireframe!==X)&&(c.geometry=ne.id,c.program=Z.id,c.wireframe=X,W=!0)}z!==null&&n.update(z,t.ELEMENT_ARRAY_BUFFER),(W||u)&&(u=!1,A(B,te,Z,ne),z!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(z).buffer))}function f(){return i.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function g(B){return i.isWebGL2?t.bindVertexArray(B):s.bindVertexArrayOES(B)}function _(B){return i.isWebGL2?t.deleteVertexArray(B):s.deleteVertexArrayOES(B)}function w(B,te,Z){const ne=Z.wireframe===!0;let z=a[B.id];z===void 0&&(z={},a[B.id]=z);let W=z[te.id];W===void 0&&(W={},z[te.id]=W);let X=W[ne];return X===void 0&&(X=m(f()),W[ne]=X),X}function m(B){const te=[],Z=[],ne=[];for(let z=0;z<r;z++)te[z]=0,Z[z]=0,ne[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:te,enabledAttributes:Z,attributeDivisors:ne,object:B,attributes:{},index:null}}function p(B,te,Z,ne){const z=c.attributes,W=te.attributes;let X=0;const ie=Z.getAttributes();for(const se in ie)if(ie[se].location>=0){const J=z[se];let re=W[se];if(re===void 0&&(se==="instanceMatrix"&&B.instanceMatrix&&(re=B.instanceMatrix),se==="instanceColor"&&B.instanceColor&&(re=B.instanceColor)),J===void 0||J.attribute!==re||re&&J.data!==re.data)return!0;X++}return c.attributesNum!==X||c.index!==ne}function E(B,te,Z,ne){const z={},W=te.attributes;let X=0;const ie=Z.getAttributes();for(const se in ie)if(ie[se].location>=0){let J=W[se];J===void 0&&(se==="instanceMatrix"&&B.instanceMatrix&&(J=B.instanceMatrix),se==="instanceColor"&&B.instanceColor&&(J=B.instanceColor));const re={};re.attribute=J,J&&J.data&&(re.data=J.data),z[se]=re,X++}c.attributes=z,c.attributesNum=X,c.index=ne}function S(){const B=c.newAttributes;for(let te=0,Z=B.length;te<Z;te++)B[te]=0}function M(B){N(B,0)}function N(B,te){const Z=c.newAttributes,ne=c.enabledAttributes,z=c.attributeDivisors;Z[B]=1,ne[B]===0&&(t.enableVertexAttribArray(B),ne[B]=1),z[B]!==te&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,te),z[B]=te)}function P(){const B=c.newAttributes,te=c.enabledAttributes;for(let Z=0,ne=te.length;Z<ne;Z++)te[Z]!==B[Z]&&(t.disableVertexAttribArray(Z),te[Z]=0)}function T(B,te,Z,ne,z,W,X){X===!0?t.vertexAttribIPointer(B,te,Z,z,W):t.vertexAttribPointer(B,te,Z,ne,z,W)}function A(B,te,Z,ne){if(i.isWebGL2===!1&&(B.isInstancedMesh||ne.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const z=ne.attributes,W=Z.getAttributes(),X=te.defaultAttributeValues;for(const ie in W){const se=W[ie];if(se.location>=0){let Se=z[ie];if(Se===void 0&&(ie==="instanceMatrix"&&B.instanceMatrix&&(Se=B.instanceMatrix),ie==="instanceColor"&&B.instanceColor&&(Se=B.instanceColor)),Se!==void 0){const J=Se.normalized,re=Se.itemSize,xe=n.get(Se);if(xe===void 0)continue;const Me=xe.buffer,Oe=xe.type,Ce=xe.bytesPerElement,st=i.isWebGL2===!0&&(Oe===t.INT||Oe===t.UNSIGNED_INT||Se.gpuType===o2);if(Se.isInterleavedBufferAttribute){const He=Se.data,G=He.stride,Kt=Se.offset;if(He.isInstancedInterleavedBuffer){for(let Ne=0;Ne<se.locationSize;Ne++)N(se.location+Ne,He.meshPerAttribute);B.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=He.meshPerAttribute*He.count)}else for(let Ne=0;Ne<se.locationSize;Ne++)M(se.location+Ne);t.bindBuffer(t.ARRAY_BUFFER,Me);for(let Ne=0;Ne<se.locationSize;Ne++)T(se.location+Ne,re/se.locationSize,Oe,J,G*Ce,(Kt+re/se.locationSize*Ne)*Ce,st)}else{if(Se.isInstancedBufferAttribute){for(let He=0;He<se.locationSize;He++)N(se.location+He,Se.meshPerAttribute);B.isInstancedMesh!==!0&&ne._maxInstanceCount===void 0&&(ne._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let He=0;He<se.locationSize;He++)M(se.location+He);t.bindBuffer(t.ARRAY_BUFFER,Me);for(let He=0;He<se.locationSize;He++)T(se.location+He,re/se.locationSize,Oe,J,re*Ce,re/se.locationSize*He*Ce,st)}}else if(X!==void 0){const J=X[ie];if(J!==void 0)switch(J.length){case 2:t.vertexAttrib2fv(se.location,J);break;case 3:t.vertexAttrib3fv(se.location,J);break;case 4:t.vertexAttrib4fv(se.location,J);break;default:t.vertexAttrib1fv(se.location,J)}}}}P()}function R(){O();for(const B in a){const te=a[B];for(const Z in te){const ne=te[Z];for(const z in ne)_(ne[z].object),delete ne[z];delete te[Z]}delete a[B]}}function x(B){if(a[B.id]===void 0)return;const te=a[B.id];for(const Z in te){const ne=te[Z];for(const z in ne)_(ne[z].object),delete ne[z];delete te[Z]}delete a[B.id]}function C(B){for(const te in a){const Z=a[te];if(Z[B.id]===void 0)continue;const ne=Z[B.id];for(const z in ne)_(ne[z].object),delete ne[z];delete Z[B.id]}}function O(){D(),u=!0,c!==l&&(c=l,g(c.object))}function D(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:O,resetDefaultState:D,dispose:R,releaseStatesOfGeometry:x,releaseStatesOfProgram:C,initAttributes:S,enableAttribute:M,disableUnusedAttributes:P}}function y8(t,e,n,i){const r=i.isWebGL2;let s;function o(u){s=u}function a(u,h){t.drawArrays(s,u,h),n.update(h,s,1)}function l(u,h,f){if(f===0)return;let g,_;if(r)g=t,_="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),_="drawArraysInstancedANGLE",g===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[_](s,u,h,f),n.update(h,s,f)}function c(u,h,f){if(f===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let _=0;_<f;_++)this.render(u[_],h[_]);else{g.multiDrawArraysWEBGL(s,u,0,h,0,f);let _=0;for(let w=0;w<f;w++)_+=h[w];n.update(_,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function _8(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),_=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),w=t.getParameter(t.MAX_VERTEX_ATTRIBS),m=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),p=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=f>0,M=o||e.has("OES_texture_float"),N=S&&M,P=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:f,maxTextureSize:g,maxCubemapSize:_,maxAttributes:w,maxVertexUniforms:m,maxVaryings:p,maxFragmentUniforms:E,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:N,maxSamples:P}}function x8(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new Vo,a=new it,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const g=h.length!==0||f||i!==0||r;return r=f,i=h.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,f){n=u(h,f,0)},this.setState=function(h,f,g){const _=h.clippingPlanes,w=h.clipIntersection,m=h.clipShadows,p=t.get(h);if(!r||_===null||_.length===0||s&&!m)s?u(null):c();else{const E=s?0:i,S=E*4;let M=p.clippingState||null;l.value=M,M=u(_,f,S,g);for(let N=0;N!==S;++N)M[N]=n[N];p.clippingState=M,this.numIntersection=w?this.numPlanes:0,this.numPlanes+=E}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(h,f,g,_){const w=h!==null?h.length:0;let m=null;if(w!==0){if(m=l.value,_!==!0||m===null){const p=g+w*4,E=f.matrixWorldInverse;a.getNormalMatrix(E),(m===null||m.length<p)&&(m=new Float32Array(p));for(let S=0,M=g;S!==w;++S,M+=4)o.copy(h[S]).applyMatrix4(E,a),o.normal.toArray(m,M),m[M+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=w,e.numIntersection=0,m}}function E8(t){let e=new WeakMap;function n(o,a){return a===by?o.mapping=$l:a===Ay&&(o.mapping=ql),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===by||a===Ay)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new LG(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",r),n(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class S8 extends A2{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const yl=4,Cb=[.125,.215,.35,.446,.526,.582],Ho=20,Iv=new S8,Rb=new Et;let Nv=null,Lv=0,Dv=0;const Bo=(1+Math.sqrt(5))/2,Ja=1/Bo,Pb=[new Y(1,1,1),new Y(-1,1,1),new Y(1,1,-1),new Y(-1,1,-1),new Y(0,Bo,Ja),new Y(0,Bo,-Ja),new Y(Ja,0,Bo),new Y(-Ja,0,Bo),new Y(Bo,Ja,0),new Y(-Bo,Ja,0)];class Ib{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){Nv=this._renderer.getRenderTarget(),Lv=this._renderer.getActiveCubeFace(),Dv=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Db(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Lb(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Nv,Lv,Dv),e.scissorTest=!1,Xh(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===$l||e.mapping===ql?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Nv=this._renderer.getRenderTarget(),Lv=this._renderer.getActiveCubeFace(),Dv=this._renderer.getActiveMipmapLevel();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:ai,minFilter:ai,generateMipmaps:!1,type:Yu,format:ir,colorSpace:fs,depthBuffer:!1},r=Nb(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Nb(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=w8(s)),this._blurMaterial=T8(s,e,n)}return r}_compileMaterial(e){const n=new Yr(this._lodPlanes[0],e);this._renderer.compile(n,Iv)}_sceneToCubeUV(e,n,i,r){const a=new Fi(90,1,n,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(Rb),u.toneMapping=no,u.autoClear=!1;const g=new S2({name:"PMREM.Background",side:pi,depthWrite:!1,depthTest:!1}),_=new Yr(new Id,g);let w=!1;const m=e.background;m?m.isColor&&(g.color.copy(m),e.background=null,w=!0):(g.color.copy(Rb),w=!0);for(let p=0;p<6;p++){const E=p%3;E===0?(a.up.set(0,l[p],0),a.lookAt(c[p],0,0)):E===1?(a.up.set(0,0,l[p]),a.lookAt(0,c[p],0)):(a.up.set(0,l[p],0),a.lookAt(0,0,c[p]));const S=this._cubeSize;Xh(r,E*S,p>2?S:0,S,S),u.setRenderTarget(r),w&&u.render(_,a),u.render(e,a)}_.geometry.dispose(),_.material.dispose(),u.toneMapping=f,u.autoClear=h,e.background=m}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===$l||e.mapping===ql;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Db()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Lb());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Yr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Xh(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,Iv)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=Pb[(r-1)%Pb.length];this._blur(e,r-1,r,s,o)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new Yr(this._lodPlanes[r],c),f=c.uniforms,g=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Ho-1),w=s/_,m=isFinite(s)?1+Math.floor(u*w):Ho;m>Ho&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Ho}`);const p=[];let E=0;for(let T=0;T<Ho;++T){const A=T/w,R=Math.exp(-A*A/2);p.push(R),T===0?E+=R:T<m&&(E+=2*R)}for(let T=0;T<p.length;T++)p[T]=p[T]/E;f.envMap.value=e.texture,f.samples.value=m,f.weights.value=p,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:S}=this;f.dTheta.value=_,f.mipInt.value=S-i;const M=this._sizeLods[r],N=3*M*(r>S-yl?r-S+yl:0),P=4*(this._cubeSize-M);Xh(n,N,P,3*M,2*M),l.setRenderTarget(n),l.render(h,Iv)}}function w8(t){const e=[],n=[],i=[];let r=t;const s=t-yl+1+Cb.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-yl?l=Cb[o-t+yl-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,h=1+c,f=[u,u,h,u,h,h,u,u,h,h,u,h],g=6,_=6,w=3,m=2,p=1,E=new Float32Array(w*_*g),S=new Float32Array(m*_*g),M=new Float32Array(p*_*g);for(let P=0;P<g;P++){const T=P%3*2/3-1,A=P>2?0:-1,R=[T,A,0,T+2/3,A,0,T+2/3,A+1,0,T,A,0,T+2/3,A+1,0,T,A+1,0];E.set(R,w*_*P),S.set(f,m*_*P);const x=[P,P,P,P,P,P];M.set(x,p*_*P)}const N=new vs;N.setAttribute("position",new lr(E,w)),N.setAttribute("uv",new lr(S,m)),N.setAttribute("faceIndex",new lr(M,p)),e.push(N),r>yl&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function Nb(t,e,n){const i=new pa(t,e,n);return i.texture.mapping=Pm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Xh(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function T8(t,e,n){const i=new Float32Array(Ho),r=new Y(0,1,0);return new uo({name:"SphericalGaussianBlur",defines:{n:Ho,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Kx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function Lb(){return new uo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Kx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function Db(){return new uo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Kx(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:to,depthTest:!1,depthWrite:!1})}function Kx(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function b8(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===by||l===Ay,u=l===$l||l===ql;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return n===null&&(n=new Ib(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&r(h)){n===null&&(n=new Ib(t));const f=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function A8(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function M8(t,e,n,i){const r={},s=new WeakMap;function o(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const _ in f.attributes)e.remove(f.attributes[_]);for(const _ in f.morphAttributes){const w=f.morphAttributes[_];for(let m=0,p=w.length;m<p;m++)e.remove(w[m])}f.removeEventListener("dispose",o),delete r[f.id];const g=s.get(f);g&&(e.remove(g),s.delete(f)),i.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(h,f){return r[f.id]===!0||(f.addEventListener("dispose",o),r[f.id]=!0,n.memory.geometries++),f}function l(h){const f=h.attributes;for(const _ in f)e.update(f[_],t.ARRAY_BUFFER);const g=h.morphAttributes;for(const _ in g){const w=g[_];for(let m=0,p=w.length;m<p;m++)e.update(w[m],t.ARRAY_BUFFER)}}function c(h){const f=[],g=h.index,_=h.attributes.position;let w=0;if(g!==null){const E=g.array;w=g.version;for(let S=0,M=E.length;S<M;S+=3){const N=E[S+0],P=E[S+1],T=E[S+2];f.push(N,P,P,T,T,N)}}else if(_!==void 0){const E=_.array;w=_.version;for(let S=0,M=E.length/3-1;S<M;S+=3){const N=S+0,P=S+1,T=S+2;f.push(N,P,P,T,T,N)}}else return;const m=new(m2(f)?T2:w2)(f,1);m.version=w;const p=s.get(h);p&&e.remove(p),s.set(h,m)}function u(h){const f=s.get(h);if(f){const g=h.index;g!==null&&f.version<g.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function C8(t,e,n,i){const r=i.isWebGL2;let s;function o(g){s=g}let a,l;function c(g){a=g.type,l=g.bytesPerElement}function u(g,_){t.drawElements(s,_,a,g*l),n.update(_,s,1)}function h(g,_,w){if(w===0)return;let m,p;if(r)m=t,p="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),p="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[p](s,_,a,g*l,w),n.update(_,s,w)}function f(g,_,w){if(w===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let p=0;p<w;p++)this.render(g[p]/l,_[p]);else{m.multiDrawElementsWEBGL(s,_,0,a,g,0,w);let p=0;for(let E=0;E<w;E++)p+=_[E];n.update(p,s,1)}}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h,this.renderMultiDraw=f}function R8(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function P8(t,e){return t[0]-e[0]}function I8(t,e){return Math.abs(e[1])-Math.abs(t[1])}function N8(t,e,n){const i={},r=new Float32Array(8),s=new WeakMap,o=new Pn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const _=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,w=_!==void 0?_.length:0;let m=s.get(u);if(m===void 0||m.count!==w){let te=function(){D.dispose(),s.delete(u),u.removeEventListener("dispose",te)};var g=te;m!==void 0&&m.texture.dispose();const S=u.morphAttributes.position!==void 0,M=u.morphAttributes.normal!==void 0,N=u.morphAttributes.color!==void 0,P=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],A=u.morphAttributes.color||[];let R=0;S===!0&&(R=1),M===!0&&(R=2),N===!0&&(R=3);let x=u.attributes.position.count*R,C=1;x>e.maxTextureSize&&(C=Math.ceil(x/e.maxTextureSize),x=e.maxTextureSize);const O=new Float32Array(x*C*4*w),D=new y2(O,x,C,w);D.type=$r,D.needsUpdate=!0;const B=R*4;for(let Z=0;Z<w;Z++){const ne=P[Z],z=T[Z],W=A[Z],X=x*C*4*Z;for(let ie=0;ie<ne.count;ie++){const se=ie*B;S===!0&&(o.fromBufferAttribute(ne,ie),O[X+se+0]=o.x,O[X+se+1]=o.y,O[X+se+2]=o.z,O[X+se+3]=0),M===!0&&(o.fromBufferAttribute(z,ie),O[X+se+4]=o.x,O[X+se+5]=o.y,O[X+se+6]=o.z,O[X+se+7]=0),N===!0&&(o.fromBufferAttribute(W,ie),O[X+se+8]=o.x,O[X+se+9]=o.y,O[X+se+10]=o.z,O[X+se+11]=W.itemSize===4?o.w:1)}}m={count:w,texture:D,size:new vt(x,C)},s.set(u,m),u.addEventListener("dispose",te)}let p=0;for(let S=0;S<f.length;S++)p+=f[S];const E=u.morphTargetsRelative?1:1-p;h.getUniforms().setValue(t,"morphTargetBaseInfluence",E),h.getUniforms().setValue(t,"morphTargetInfluences",f),h.getUniforms().setValue(t,"morphTargetsTexture",m.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}else{const _=f===void 0?0:f.length;let w=i[u.id];if(w===void 0||w.length!==_){w=[];for(let M=0;M<_;M++)w[M]=[M,0];i[u.id]=w}for(let M=0;M<_;M++){const N=w[M];N[0]=M,N[1]=f[M]}w.sort(I8);for(let M=0;M<8;M++)M<_&&w[M][1]?(a[M][0]=w[M][0],a[M][1]=w[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(P8);const m=u.morphAttributes.position,p=u.morphAttributes.normal;let E=0;for(let M=0;M<8;M++){const N=a[M],P=N[0],T=N[1];P!==Number.MAX_SAFE_INTEGER&&T?(m&&u.getAttribute("morphTarget"+M)!==m[P]&&u.setAttribute("morphTarget"+M,m[P]),p&&u.getAttribute("morphNormal"+M)!==p[P]&&u.setAttribute("morphNormal"+M,p[P]),r[M]=T,E+=T):(m&&u.hasAttribute("morphTarget"+M)===!0&&u.deleteAttribute("morphTarget"+M),p&&u.hasAttribute("morphNormal"+M)===!0&&u.deleteAttribute("morphNormal"+M),r[M]=0)}const S=u.morphTargetsRelative?1:1-E;h.getUniforms().setValue(t,"morphTargetBaseInfluence",S),h.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function L8(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,h=e.get(l,u);if(r.get(h)!==c&&(e.update(h),r.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;r.get(f)!==c&&(f.update(),r.set(f,c))}return h}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class P2 extends mi{constructor(e,n,i,r,s,o,a,l,c,u){if(u=u!==void 0?u:ta,u!==ta&&u!==Xl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===ta&&(i=Ws),i===void 0&&u===Xl&&(i=ea),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Zn,this.minFilter=l!==void 0?l:Zn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const I2=new mi,N2=new P2(1,1);N2.compareFunction=p2;const L2=new y2,D2=new gG,k2=new M2,kb=[],Ob=[],Ub=new Float32Array(16),Fb=new Float32Array(9),Vb=new Float32Array(4);function dc(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=kb[r];if(s===void 0&&(s=new Float32Array(r),kb[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function un(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function dn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function km(t,e){let n=Ob[e];n===void 0&&(n=new Int32Array(e),Ob[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function D8(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function k8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(un(n,e))return;t.uniform2fv(this.addr,e),dn(n,e)}}function O8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(un(n,e))return;t.uniform3fv(this.addr,e),dn(n,e)}}function U8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(un(n,e))return;t.uniform4fv(this.addr,e),dn(n,e)}}function F8(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(un(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),dn(n,e)}else{if(un(n,i))return;Vb.set(i),t.uniformMatrix2fv(this.addr,!1,Vb),dn(n,i)}}function V8(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(un(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),dn(n,e)}else{if(un(n,i))return;Fb.set(i),t.uniformMatrix3fv(this.addr,!1,Fb),dn(n,i)}}function B8(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(un(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),dn(n,e)}else{if(un(n,i))return;Ub.set(i),t.uniformMatrix4fv(this.addr,!1,Ub),dn(n,i)}}function z8(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function j8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(un(n,e))return;t.uniform2iv(this.addr,e),dn(n,e)}}function H8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(un(n,e))return;t.uniform3iv(this.addr,e),dn(n,e)}}function G8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(un(n,e))return;t.uniform4iv(this.addr,e),dn(n,e)}}function W8(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function $8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(un(n,e))return;t.uniform2uiv(this.addr,e),dn(n,e)}}function q8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(un(n,e))return;t.uniform3uiv(this.addr,e),dn(n,e)}}function X8(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(un(n,e))return;t.uniform4uiv(this.addr,e),dn(n,e)}}function K8(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);const s=this.type===t.SAMPLER_2D_SHADOW?N2:I2;n.setTexture2D(e||s,r)}function Y8(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||D2,r)}function Q8(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||k2,r)}function J8(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||L2,r)}function Z8(t){switch(t){case 5126:return D8;case 35664:return k8;case 35665:return O8;case 35666:return U8;case 35674:return F8;case 35675:return V8;case 35676:return B8;case 5124:case 35670:return z8;case 35667:case 35671:return j8;case 35668:case 35672:return H8;case 35669:case 35673:return G8;case 5125:return W8;case 36294:return $8;case 36295:return q8;case 36296:return X8;case 35678:case 36198:case 36298:case 36306:case 35682:return K8;case 35679:case 36299:case 36307:return Y8;case 35680:case 36300:case 36308:case 36293:return Q8;case 36289:case 36303:case 36311:case 36292:return J8}}function e7(t,e){t.uniform1fv(this.addr,e)}function t7(t,e){const n=dc(e,this.size,2);t.uniform2fv(this.addr,n)}function n7(t,e){const n=dc(e,this.size,3);t.uniform3fv(this.addr,n)}function i7(t,e){const n=dc(e,this.size,4);t.uniform4fv(this.addr,n)}function r7(t,e){const n=dc(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function s7(t,e){const n=dc(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function o7(t,e){const n=dc(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function a7(t,e){t.uniform1iv(this.addr,e)}function l7(t,e){t.uniform2iv(this.addr,e)}function c7(t,e){t.uniform3iv(this.addr,e)}function u7(t,e){t.uniform4iv(this.addr,e)}function d7(t,e){t.uniform1uiv(this.addr,e)}function h7(t,e){t.uniform2uiv(this.addr,e)}function f7(t,e){t.uniform3uiv(this.addr,e)}function p7(t,e){t.uniform4uiv(this.addr,e)}function m7(t,e,n){const i=this.cache,r=e.length,s=km(n,r);un(i,s)||(t.uniform1iv(this.addr,s),dn(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||I2,s[o])}function g7(t,e,n){const i=this.cache,r=e.length,s=km(n,r);un(i,s)||(t.uniform1iv(this.addr,s),dn(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||D2,s[o])}function v7(t,e,n){const i=this.cache,r=e.length,s=km(n,r);un(i,s)||(t.uniform1iv(this.addr,s),dn(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||k2,s[o])}function y7(t,e,n){const i=this.cache,r=e.length,s=km(n,r);un(i,s)||(t.uniform1iv(this.addr,s),dn(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||L2,s[o])}function _7(t){switch(t){case 5126:return e7;case 35664:return t7;case 35665:return n7;case 35666:return i7;case 35674:return r7;case 35675:return s7;case 35676:return o7;case 5124:case 35670:return a7;case 35667:case 35671:return l7;case 35668:case 35672:return c7;case 35669:case 35673:return u7;case 5125:return d7;case 36294:return h7;case 36295:return f7;case 36296:return p7;case 35678:case 36198:case 36298:case 36306:case 35682:return m7;case 35679:case 36299:case 36307:return g7;case 35680:case 36300:case 36308:case 36293:return v7;case 36289:case 36303:case 36311:case 36292:return y7}}class x7{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=Z8(n.type)}}class E7{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=_7(n.type)}}class S7{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const kv=/(\w+)(\])?(\[|\.)?/g;function Bb(t,e){t.seq.push(e),t.map[e.id]=e}function w7(t,e,n){const i=t.name,r=i.length;for(kv.lastIndex=0;;){const s=kv.exec(i),o=kv.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){Bb(n,c===void 0?new x7(a,t,e):new E7(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new S7(a),Bb(n,h)),n=h}}}class wf{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);w7(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function zb(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const T7=37297;let b7=0;function A7(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}function M7(t){const e=wt.getPrimaries(wt.workingColorSpace),n=wt.getPrimaries(t);let i;switch(e===n?i="":e===Sp&&n===Ep?i="LinearDisplayP3ToLinearSRGB":e===Ep&&n===Sp&&(i="LinearSRGBToLinearDisplayP3"),t){case fs:case Im:return[i,"LinearTransferOETF"];case Mn:case Xx:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[i,"LinearTransferOETF"]}}function jb(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+r+`

`+A7(t.getShaderSource(e),o)}else return r}function C7(t,e){const n=M7(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function R7(t,e){let n;switch(e){case V6:n="Linear";break;case B6:n="Reinhard";break;case z6:n="OptimizedCineon";break;case j6:n="ACESFilmic";break;case G6:n="AgX";break;case H6:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function P7(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.alphaToCoverage||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(_l).join(`
`)}function I7(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(_l).join(`
`)}function N7(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function L7(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function _l(t){return t!==""}function Hb(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Gb(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const D7=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ny(t){return t.replace(D7,O7)}const k7=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function O7(t,e){let n=et[e];if(n===void 0){const i=k7.get(e);if(i!==void 0)n=et[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Ny(n)}const U7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Wb(t){return t.replace(U7,F7)}function F7(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function $b(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	`;return t.isWebGL2&&(e+=`precision ${t.precision} sampler3D;
		precision ${t.precision} sampler2DArray;
		precision ${t.precision} sampler2DShadow;
		precision ${t.precision} samplerCubeShadow;
		precision ${t.precision} sampler2DArrayShadow;
		precision ${t.precision} isampler2D;
		precision ${t.precision} isampler3D;
		precision ${t.precision} isamplerCube;
		precision ${t.precision} isampler2DArray;
		precision ${t.precision} usampler2D;
		precision ${t.precision} usampler3D;
		precision ${t.precision} usamplerCube;
		precision ${t.precision} usampler2DArray;
		`),t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function V7(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===i2?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===f6?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===zr&&(e="SHADOWMAP_TYPE_VSM"),e}function B7(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case $l:case ql:e="ENVMAP_TYPE_CUBE";break;case Pm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function z7(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ql:e="ENVMAP_MODE_REFRACTION";break}return e}function j7(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case r2:e="ENVMAP_BLENDING_MULTIPLY";break;case U6:e="ENVMAP_BLENDING_MIX";break;case F6:e="ENVMAP_BLENDING_ADD";break}return e}function H7(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function G7(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=V7(n),c=B7(n),u=z7(n),h=j7(n),f=H7(n),g=n.isWebGL2?"":P7(n),_=I7(n),w=N7(s),m=r.createProgram();let p,E,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,w].filter(_l).join(`
`),p.length>0&&(p+=`
`),E=[g,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,w].filter(_l).join(`
`),E.length>0&&(E+=`
`)):(p=[$b(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,w,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(_l).join(`
`),E=[g,$b(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,w,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==no?"#define TONE_MAPPING":"",n.toneMapping!==no?et.tonemapping_pars_fragment:"",n.toneMapping!==no?R7("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",et.colorspace_pars_fragment,C7("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(_l).join(`
`)),o=Ny(o),o=Hb(o,n),o=Gb(o,n),a=Ny(a),a=Hb(a,n),a=Gb(a,n),o=Wb(o),a=Wb(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,p=[_,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+p,E=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===lb?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===lb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const M=S+p+o,N=S+E+a,P=zb(r,r.VERTEX_SHADER,M),T=zb(r,r.FRAGMENT_SHADER,N);r.attachShader(m,P),r.attachShader(m,T),n.index0AttributeName!==void 0?r.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m);function A(O){if(t.debug.checkShaderErrors){const D=r.getProgramInfoLog(m).trim(),B=r.getShaderInfoLog(P).trim(),te=r.getShaderInfoLog(T).trim();let Z=!0,ne=!0;if(r.getProgramParameter(m,r.LINK_STATUS)===!1)if(Z=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,m,P,T);else{const z=jb(r,P,"vertex"),W=jb(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+D+`
`+z+`
`+W)}else D!==""?console.warn("THREE.WebGLProgram: Program Info Log:",D):(B===""||te==="")&&(ne=!1);ne&&(O.diagnostics={runnable:Z,programLog:D,vertexShader:{log:B,prefix:p},fragmentShader:{log:te,prefix:E}})}r.deleteShader(P),r.deleteShader(T),R=new wf(r,m),x=L7(r,m)}let R;this.getUniforms=function(){return R===void 0&&A(this),R};let x;this.getAttributes=function(){return x===void 0&&A(this),x};let C=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return C===!1&&(C=r.getProgramParameter(m,T7)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=b7++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=P,this.fragmentShader=T,this}let W7=0;class $7{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new q7(e),n.set(e,i)),i}}class q7{constructor(e){this.id=W7++,this.code=e,this.usedTimes=0}}function X7(t,e,n,i,r,s,o){const a=new x2,l=new $7,c=new Set,u=[],h=r.isWebGL2,f=r.logarithmicDepthBuffer,g=r.vertexTextures;let _=r.precision;const w={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(x){return c.add(x),x===0?"uv":`uv${x}`}function p(x,C,O,D,B){const te=D.fog,Z=B.geometry,ne=x.isMeshStandardMaterial?D.environment:null,z=(x.isMeshStandardMaterial?n:e).get(x.envMap||ne),W=z&&z.mapping===Pm?z.image.height:null,X=w[x.type];x.precision!==null&&(_=r.getMaxPrecision(x.precision),_!==x.precision&&console.warn("THREE.WebGLProgram.getParameters:",x.precision,"not supported, using",_,"instead."));const ie=Z.morphAttributes.position||Z.morphAttributes.normal||Z.morphAttributes.color,se=ie!==void 0?ie.length:0;let Se=0;Z.morphAttributes.position!==void 0&&(Se=1),Z.morphAttributes.normal!==void 0&&(Se=2),Z.morphAttributes.color!==void 0&&(Se=3);let J,re,xe,Me;if(X){const _t=yr[X];J=_t.vertexShader,re=_t.fragmentShader}else J=x.vertexShader,re=x.fragmentShader,l.update(x),xe=l.getVertexShaderID(x),Me=l.getFragmentShaderID(x);const Oe=t.getRenderTarget(),Ce=B.isInstancedMesh===!0,st=B.isBatchedMesh===!0,He=!!x.map,G=!!x.matcap,Kt=!!z,Ne=!!x.aoMap,ze=!!x.lightMap,Pe=!!x.bumpMap,Pt=!!x.normalMap,Xe=!!x.displacementMap,U=!!x.emissiveMap,I=!!x.metalnessMap,q=!!x.roughnessMap,de=x.anisotropy>0,oe=x.clearcoat>0,ce=x.iridescence>0,Ae=x.sheen>0,he=x.transmission>0,ye=de&&!!x.anisotropyMap,ke=oe&&!!x.clearcoatMap,Ke=oe&&!!x.clearcoatNormalMap,ae=oe&&!!x.clearcoatRoughnessMap,mt=ce&&!!x.iridescenceMap,qe=ce&&!!x.iridescenceThicknessMap,Ge=Ae&&!!x.sheenColorMap,Le=Ae&&!!x.sheenRoughnessMap,be=!!x.specularMap,Ye=!!x.specularColorMap,ft=!!x.specularIntensityMap,yt=he&&!!x.transmissionMap,tt=he&&!!x.thicknessMap,gt=!!x.gradientMap,F=!!x.alphaMap,pe=x.alphaTest>0,me=!!x.alphaHash,we=!!x.extensions;let De=no;x.toneMapped&&(Oe===null||Oe.isXRRenderTarget===!0)&&(De=t.toneMapping);const ct={isWebGL2:h,shaderID:X,shaderType:x.type,shaderName:x.name,vertexShader:J,fragmentShader:re,defines:x.defines,customVertexShaderID:xe,customFragmentShaderID:Me,isRawShaderMaterial:x.isRawShaderMaterial===!0,glslVersion:x.glslVersion,precision:_,batching:st,instancing:Ce,instancingColor:Ce&&B.instanceColor!==null,supportsVertexTextures:g,outputColorSpace:Oe===null?t.outputColorSpace:Oe.isXRRenderTarget===!0?Oe.texture.colorSpace:fs,alphaToCoverage:!!x.alphaToCoverage,map:He,matcap:G,envMap:Kt,envMapMode:Kt&&z.mapping,envMapCubeUVHeight:W,aoMap:Ne,lightMap:ze,bumpMap:Pe,normalMap:Pt,displacementMap:g&&Xe,emissiveMap:U,normalMapObjectSpace:Pt&&x.normalMapType===nG,normalMapTangentSpace:Pt&&x.normalMapType===tG,metalnessMap:I,roughnessMap:q,anisotropy:de,anisotropyMap:ye,clearcoat:oe,clearcoatMap:ke,clearcoatNormalMap:Ke,clearcoatRoughnessMap:ae,iridescence:ce,iridescenceMap:mt,iridescenceThicknessMap:qe,sheen:Ae,sheenColorMap:Ge,sheenRoughnessMap:Le,specularMap:be,specularColorMap:Ye,specularIntensityMap:ft,transmission:he,transmissionMap:yt,thicknessMap:tt,gradientMap:gt,opaque:x.transparent===!1&&x.blending===Cl&&x.alphaToCoverage===!1,alphaMap:F,alphaTest:pe,alphaHash:me,combine:x.combine,mapUv:He&&m(x.map.channel),aoMapUv:Ne&&m(x.aoMap.channel),lightMapUv:ze&&m(x.lightMap.channel),bumpMapUv:Pe&&m(x.bumpMap.channel),normalMapUv:Pt&&m(x.normalMap.channel),displacementMapUv:Xe&&m(x.displacementMap.channel),emissiveMapUv:U&&m(x.emissiveMap.channel),metalnessMapUv:I&&m(x.metalnessMap.channel),roughnessMapUv:q&&m(x.roughnessMap.channel),anisotropyMapUv:ye&&m(x.anisotropyMap.channel),clearcoatMapUv:ke&&m(x.clearcoatMap.channel),clearcoatNormalMapUv:Ke&&m(x.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ae&&m(x.clearcoatRoughnessMap.channel),iridescenceMapUv:mt&&m(x.iridescenceMap.channel),iridescenceThicknessMapUv:qe&&m(x.iridescenceThicknessMap.channel),sheenColorMapUv:Ge&&m(x.sheenColorMap.channel),sheenRoughnessMapUv:Le&&m(x.sheenRoughnessMap.channel),specularMapUv:be&&m(x.specularMap.channel),specularColorMapUv:Ye&&m(x.specularColorMap.channel),specularIntensityMapUv:ft&&m(x.specularIntensityMap.channel),transmissionMapUv:yt&&m(x.transmissionMap.channel),thicknessMapUv:tt&&m(x.thicknessMap.channel),alphaMapUv:F&&m(x.alphaMap.channel),vertexTangents:!!Z.attributes.tangent&&(Pt||de),vertexColors:x.vertexColors,vertexAlphas:x.vertexColors===!0&&!!Z.attributes.color&&Z.attributes.color.itemSize===4,pointsUvs:B.isPoints===!0&&!!Z.attributes.uv&&(He||F),fog:!!te,useFog:x.fog===!0,fogExp2:!!te&&te.isFogExp2,flatShading:x.flatShading===!0,sizeAttenuation:x.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:B.isSkinnedMesh===!0,morphTargets:Z.morphAttributes.position!==void 0,morphNormals:Z.morphAttributes.normal!==void 0,morphColors:Z.morphAttributes.color!==void 0,morphTargetsCount:se,morphTextureStride:Se,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:x.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:De,useLegacyLights:t._useLegacyLights,decodeVideoTexture:He&&x.map.isVideoTexture===!0&&wt.getTransfer(x.map.colorSpace)===Lt,premultipliedAlpha:x.premultipliedAlpha,doubleSided:x.side===Wr,flipSided:x.side===pi,useDepthPacking:x.depthPacking>=0,depthPacking:x.depthPacking||0,index0AttributeName:x.index0AttributeName,extensionDerivatives:we&&x.extensions.derivatives===!0,extensionFragDepth:we&&x.extensions.fragDepth===!0,extensionDrawBuffers:we&&x.extensions.drawBuffers===!0,extensionShaderTextureLOD:we&&x.extensions.shaderTextureLOD===!0,extensionClipCullDistance:we&&x.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:we&&x.extensions.multiDraw===!0&&i.has("WEBGL_multi_draw"),rendererExtensionFragDepth:h||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:x.customProgramCacheKey()};return ct.vertexUv1s=c.has(1),ct.vertexUv2s=c.has(2),ct.vertexUv3s=c.has(3),c.clear(),ct}function E(x){const C=[];if(x.shaderID?C.push(x.shaderID):(C.push(x.customVertexShaderID),C.push(x.customFragmentShaderID)),x.defines!==void 0)for(const O in x.defines)C.push(O),C.push(x.defines[O]);return x.isRawShaderMaterial===!1&&(S(C,x),M(C,x),C.push(t.outputColorSpace)),C.push(x.customProgramCacheKey),C.join()}function S(x,C){x.push(C.precision),x.push(C.outputColorSpace),x.push(C.envMapMode),x.push(C.envMapCubeUVHeight),x.push(C.mapUv),x.push(C.alphaMapUv),x.push(C.lightMapUv),x.push(C.aoMapUv),x.push(C.bumpMapUv),x.push(C.normalMapUv),x.push(C.displacementMapUv),x.push(C.emissiveMapUv),x.push(C.metalnessMapUv),x.push(C.roughnessMapUv),x.push(C.anisotropyMapUv),x.push(C.clearcoatMapUv),x.push(C.clearcoatNormalMapUv),x.push(C.clearcoatRoughnessMapUv),x.push(C.iridescenceMapUv),x.push(C.iridescenceThicknessMapUv),x.push(C.sheenColorMapUv),x.push(C.sheenRoughnessMapUv),x.push(C.specularMapUv),x.push(C.specularColorMapUv),x.push(C.specularIntensityMapUv),x.push(C.transmissionMapUv),x.push(C.thicknessMapUv),x.push(C.combine),x.push(C.fogExp2),x.push(C.sizeAttenuation),x.push(C.morphTargetsCount),x.push(C.morphAttributeCount),x.push(C.numDirLights),x.push(C.numPointLights),x.push(C.numSpotLights),x.push(C.numSpotLightMaps),x.push(C.numHemiLights),x.push(C.numRectAreaLights),x.push(C.numDirLightShadows),x.push(C.numPointLightShadows),x.push(C.numSpotLightShadows),x.push(C.numSpotLightShadowsWithMaps),x.push(C.numLightProbes),x.push(C.shadowMapType),x.push(C.toneMapping),x.push(C.numClippingPlanes),x.push(C.numClipIntersection),x.push(C.depthPacking)}function M(x,C){a.disableAll(),C.isWebGL2&&a.enable(0),C.supportsVertexTextures&&a.enable(1),C.instancing&&a.enable(2),C.instancingColor&&a.enable(3),C.matcap&&a.enable(4),C.envMap&&a.enable(5),C.normalMapObjectSpace&&a.enable(6),C.normalMapTangentSpace&&a.enable(7),C.clearcoat&&a.enable(8),C.iridescence&&a.enable(9),C.alphaTest&&a.enable(10),C.vertexColors&&a.enable(11),C.vertexAlphas&&a.enable(12),C.vertexUv1s&&a.enable(13),C.vertexUv2s&&a.enable(14),C.vertexUv3s&&a.enable(15),C.vertexTangents&&a.enable(16),C.anisotropy&&a.enable(17),C.alphaHash&&a.enable(18),C.batching&&a.enable(19),x.push(a.mask),a.disableAll(),C.fog&&a.enable(0),C.useFog&&a.enable(1),C.flatShading&&a.enable(2),C.logarithmicDepthBuffer&&a.enable(3),C.skinning&&a.enable(4),C.morphTargets&&a.enable(5),C.morphNormals&&a.enable(6),C.morphColors&&a.enable(7),C.premultipliedAlpha&&a.enable(8),C.shadowMapEnabled&&a.enable(9),C.useLegacyLights&&a.enable(10),C.doubleSided&&a.enable(11),C.flipSided&&a.enable(12),C.useDepthPacking&&a.enable(13),C.dithering&&a.enable(14),C.transmission&&a.enable(15),C.sheen&&a.enable(16),C.opaque&&a.enable(17),C.pointsUvs&&a.enable(18),C.decodeVideoTexture&&a.enable(19),C.alphaToCoverage&&a.enable(20),x.push(a.mask)}function N(x){const C=w[x.type];let O;if(C){const D=yr[C];O=RG.clone(D.uniforms)}else O=x.uniforms;return O}function P(x,C){let O;for(let D=0,B=u.length;D<B;D++){const te=u[D];if(te.cacheKey===C){O=te,++O.usedTimes;break}}return O===void 0&&(O=new G7(t,C,x,s),u.push(O)),O}function T(x){if(--x.usedTimes===0){const C=u.indexOf(x);u[C]=u[u.length-1],u.pop(),x.destroy()}}function A(x){l.remove(x)}function R(){l.dispose()}return{getParameters:p,getProgramCacheKey:E,getUniforms:N,acquireProgram:P,releaseProgram:T,releaseShaderCache:A,programs:u,dispose:R}}function K7(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function i(s,o,a){t.get(s)[o]=a}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function Y7(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function qb(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Xb(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(h,f,g,_,w,m){let p=t[e];return p===void 0?(p={id:h.id,object:h,geometry:f,material:g,groupOrder:_,renderOrder:h.renderOrder,z:w,group:m},t[e]=p):(p.id=h.id,p.object=h,p.geometry=f,p.material=g,p.groupOrder=_,p.renderOrder=h.renderOrder,p.z=w,p.group=m),e++,p}function a(h,f,g,_,w,m){const p=o(h,f,g,_,w,m);g.transmission>0?i.push(p):g.transparent===!0?r.push(p):n.push(p)}function l(h,f,g,_,w,m){const p=o(h,f,g,_,w,m);g.transmission>0?i.unshift(p):g.transparent===!0?r.unshift(p):n.unshift(p)}function c(h,f){n.length>1&&n.sort(h||Y7),i.length>1&&i.sort(f||qb),r.length>1&&r.sort(f||qb)}function u(){for(let h=e,f=t.length;h<f;h++){const g=t[h];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function Q7(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new Xb,t.set(i,[o])):r>=s.length?(o=new Xb,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function J7(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Y,color:new Et};break;case"SpotLight":n={position:new Y,direction:new Y,color:new Et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Y,color:new Et,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Y,skyColor:new Et,groundColor:new Et};break;case"RectAreaLight":n={color:new Et,position:new Y,halfWidth:new Y,halfHeight:new Y};break}return t[e.id]=n,n}}}function Z7(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vt};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let e$=0;function t$(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function n$(t,e){const n=new J7,i=Z7(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new Y);const s=new Y,o=new _n,a=new _n;function l(u,h){let f=0,g=0,_=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let w=0,m=0,p=0,E=0,S=0,M=0,N=0,P=0,T=0,A=0,R=0;u.sort(t$);const x=h===!0?Math.PI:1;for(let O=0,D=u.length;O<D;O++){const B=u[O],te=B.color,Z=B.intensity,ne=B.distance,z=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)f+=te.r*Z*x,g+=te.g*Z*x,_+=te.b*Z*x;else if(B.isLightProbe){for(let W=0;W<9;W++)r.probe[W].addScaledVector(B.sh.coefficients[W],Z);R++}else if(B.isDirectionalLight){const W=n.get(B);if(W.color.copy(B.color).multiplyScalar(B.intensity*x),B.castShadow){const X=B.shadow,ie=i.get(B);ie.shadowBias=X.bias,ie.shadowNormalBias=X.normalBias,ie.shadowRadius=X.radius,ie.shadowMapSize=X.mapSize,r.directionalShadow[w]=ie,r.directionalShadowMap[w]=z,r.directionalShadowMatrix[w]=B.shadow.matrix,M++}r.directional[w]=W,w++}else if(B.isSpotLight){const W=n.get(B);W.position.setFromMatrixPosition(B.matrixWorld),W.color.copy(te).multiplyScalar(Z*x),W.distance=ne,W.coneCos=Math.cos(B.angle),W.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),W.decay=B.decay,r.spot[p]=W;const X=B.shadow;if(B.map&&(r.spotLightMap[T]=B.map,T++,X.updateMatrices(B),B.castShadow&&A++),r.spotLightMatrix[p]=X.matrix,B.castShadow){const ie=i.get(B);ie.shadowBias=X.bias,ie.shadowNormalBias=X.normalBias,ie.shadowRadius=X.radius,ie.shadowMapSize=X.mapSize,r.spotShadow[p]=ie,r.spotShadowMap[p]=z,P++}p++}else if(B.isRectAreaLight){const W=n.get(B);W.color.copy(te).multiplyScalar(Z),W.halfWidth.set(B.width*.5,0,0),W.halfHeight.set(0,B.height*.5,0),r.rectArea[E]=W,E++}else if(B.isPointLight){const W=n.get(B);if(W.color.copy(B.color).multiplyScalar(B.intensity*x),W.distance=B.distance,W.decay=B.decay,B.castShadow){const X=B.shadow,ie=i.get(B);ie.shadowBias=X.bias,ie.shadowNormalBias=X.normalBias,ie.shadowRadius=X.radius,ie.shadowMapSize=X.mapSize,ie.shadowCameraNear=X.camera.near,ie.shadowCameraFar=X.camera.far,r.pointShadow[m]=ie,r.pointShadowMap[m]=z,r.pointShadowMatrix[m]=B.shadow.matrix,N++}r.point[m]=W,m++}else if(B.isHemisphereLight){const W=n.get(B);W.skyColor.copy(B.color).multiplyScalar(Z*x),W.groundColor.copy(B.groundColor).multiplyScalar(Z*x),r.hemi[S]=W,S++}}E>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ve.LTC_FLOAT_1,r.rectAreaLTC2=ve.LTC_FLOAT_2):(r.rectAreaLTC1=ve.LTC_HALF_1,r.rectAreaLTC2=ve.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ve.LTC_FLOAT_1,r.rectAreaLTC2=ve.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=ve.LTC_HALF_1,r.rectAreaLTC2=ve.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=g,r.ambient[2]=_;const C=r.hash;(C.directionalLength!==w||C.pointLength!==m||C.spotLength!==p||C.rectAreaLength!==E||C.hemiLength!==S||C.numDirectionalShadows!==M||C.numPointShadows!==N||C.numSpotShadows!==P||C.numSpotMaps!==T||C.numLightProbes!==R)&&(r.directional.length=w,r.spot.length=p,r.rectArea.length=E,r.point.length=m,r.hemi.length=S,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=N,r.pointShadowMap.length=N,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=N,r.spotLightMatrix.length=P+T-A,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=R,C.directionalLength=w,C.pointLength=m,C.spotLength=p,C.rectAreaLength=E,C.hemiLength=S,C.numDirectionalShadows=M,C.numPointShadows=N,C.numSpotShadows=P,C.numSpotMaps=T,C.numLightProbes=R,r.version=e$++)}function c(u,h){let f=0,g=0,_=0,w=0,m=0;const p=h.matrixWorldInverse;for(let E=0,S=u.length;E<S;E++){const M=u[E];if(M.isDirectionalLight){const N=r.directional[f];N.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),N.direction.sub(s),N.direction.transformDirection(p),f++}else if(M.isSpotLight){const N=r.spot[_];N.position.setFromMatrixPosition(M.matrixWorld),N.position.applyMatrix4(p),N.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),N.direction.sub(s),N.direction.transformDirection(p),_++}else if(M.isRectAreaLight){const N=r.rectArea[w];N.position.setFromMatrixPosition(M.matrixWorld),N.position.applyMatrix4(p),a.identity(),o.copy(M.matrixWorld),o.premultiply(p),a.extractRotation(o),N.halfWidth.set(M.width*.5,0,0),N.halfHeight.set(0,M.height*.5,0),N.halfWidth.applyMatrix4(a),N.halfHeight.applyMatrix4(a),w++}else if(M.isPointLight){const N=r.point[g];N.position.setFromMatrixPosition(M.matrixWorld),N.position.applyMatrix4(p),g++}else if(M.isHemisphereLight){const N=r.hemi[m];N.direction.setFromMatrixPosition(M.matrixWorld),N.direction.transformDirection(p),m++}}}return{setup:l,setupView:c,state:r}}function Kb(t,e){const n=new n$(t,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){n.setup(i,h)}function c(h){n.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function i$(t,e){let n=new WeakMap;function i(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new Kb(t,e),n.set(s,[l])):o>=a.length?(l=new Kb(t,e),a.push(l)):l=a[o],l}function r(){n=new WeakMap}return{get:i,dispose:r}}class r$ extends Pd{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Z6,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class s$ extends Pd{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const o$=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,a$=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function l$(t,e,n){let i=new C2;const r=new vt,s=new vt,o=new Pn,a=new r$({depthPacking:eG}),l=new s$,c={},u=n.maxTextureSize,h={[co]:pi,[pi]:co,[Wr]:Wr},f=new uo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new vt},radius:{value:4}},vertexShader:o$,fragmentShader:a$}),g=f.clone();g.defines.HORIZONTAL_PASS=1;const _=new vs;_.setAttribute("position",new lr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new Yr(_,f),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=i2;let p=this.type;this.render=function(P,T,A){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||P.length===0)return;const R=t.getRenderTarget(),x=t.getActiveCubeFace(),C=t.getActiveMipmapLevel(),O=t.state;O.setBlending(to),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const D=p!==zr&&this.type===zr,B=p===zr&&this.type!==zr;for(let te=0,Z=P.length;te<Z;te++){const ne=P[te],z=ne.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",ne,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;r.copy(z.mapSize);const W=z.getFrameExtents();if(r.multiply(W),s.copy(z.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/W.x),r.x=s.x*W.x,z.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/W.y),r.y=s.y*W.y,z.mapSize.y=s.y)),z.map===null||D===!0||B===!0){const ie=this.type!==zr?{minFilter:Zn,magFilter:Zn}:{};z.map!==null&&z.map.dispose(),z.map=new pa(r.x,r.y,ie),z.map.texture.name=ne.name+".shadowMap",z.camera.updateProjectionMatrix()}t.setRenderTarget(z.map),t.clear();const X=z.getViewportCount();for(let ie=0;ie<X;ie++){const se=z.getViewport(ie);o.set(s.x*se.x,s.y*se.y,s.x*se.z,s.y*se.w),O.viewport(o),z.updateMatrices(ne,ie),i=z.getFrustum(),M(T,A,z.camera,ne,this.type)}z.isPointLightShadow!==!0&&this.type===zr&&E(z,A),z.needsUpdate=!1}p=this.type,m.needsUpdate=!1,t.setRenderTarget(R,x,C)};function E(P,T){const A=e.update(w);f.defines.VSM_SAMPLES!==P.blurSamples&&(f.defines.VSM_SAMPLES=P.blurSamples,g.defines.VSM_SAMPLES=P.blurSamples,f.needsUpdate=!0,g.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new pa(r.x,r.y)),f.uniforms.shadow_pass.value=P.map.texture,f.uniforms.resolution.value=P.mapSize,f.uniforms.radius.value=P.radius,t.setRenderTarget(P.mapPass),t.clear(),t.renderBufferDirect(T,null,A,f,w,null),g.uniforms.shadow_pass.value=P.mapPass.texture,g.uniforms.resolution.value=P.mapSize,g.uniforms.radius.value=P.radius,t.setRenderTarget(P.map),t.clear(),t.renderBufferDirect(T,null,A,g,w,null)}function S(P,T,A,R){let x=null;const C=A.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(C!==void 0)x=C;else if(x=A.isPointLight===!0?l:a,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const O=x.uuid,D=T.uuid;let B=c[O];B===void 0&&(B={},c[O]=B);let te=B[D];te===void 0&&(te=x.clone(),B[D]=te,T.addEventListener("dispose",N)),x=te}if(x.visible=T.visible,x.wireframe=T.wireframe,R===zr?x.side=T.shadowSide!==null?T.shadowSide:T.side:x.side=T.shadowSide!==null?T.shadowSide:h[T.side],x.alphaMap=T.alphaMap,x.alphaTest=T.alphaTest,x.map=T.map,x.clipShadows=T.clipShadows,x.clippingPlanes=T.clippingPlanes,x.clipIntersection=T.clipIntersection,x.displacementMap=T.displacementMap,x.displacementScale=T.displacementScale,x.displacementBias=T.displacementBias,x.wireframeLinewidth=T.wireframeLinewidth,x.linewidth=T.linewidth,A.isPointLight===!0&&x.isMeshDistanceMaterial===!0){const O=t.properties.get(x);O.light=A}return x}function M(P,T,A,R,x){if(P.visible===!1)return;if(P.layers.test(T.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&x===zr)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,P.matrixWorld);const D=e.update(P),B=P.material;if(Array.isArray(B)){const te=D.groups;for(let Z=0,ne=te.length;Z<ne;Z++){const z=te[Z],W=B[z.materialIndex];if(W&&W.visible){const X=S(P,W,R,x);P.onBeforeShadow(t,P,T,A,D,X,z),t.renderBufferDirect(A,null,D,X,P,z),P.onAfterShadow(t,P,T,A,D,X,z)}}}else if(B.visible){const te=S(P,B,R,x);P.onBeforeShadow(t,P,T,A,D,te,null),t.renderBufferDirect(A,null,D,te,P,null),P.onAfterShadow(t,P,T,A,D,te,null)}}const O=P.children;for(let D=0,B=O.length;D<B;D++)M(O[D],T,A,R,x)}function N(P){P.target.removeEventListener("dispose",N);for(const A in c){const R=c[A],x=P.target.uuid;x in R&&(R[x].dispose(),delete R[x])}}}function c$(t,e,n){const i=n.isWebGL2;function r(){let F=!1;const pe=new Pn;let me=null;const we=new Pn(0,0,0,0);return{setMask:function(De){me!==De&&!F&&(t.colorMask(De,De,De,De),me=De)},setLocked:function(De){F=De},setClear:function(De,ct,_t,Ut,Yn){Yn===!0&&(De*=Ut,ct*=Ut,_t*=Ut),pe.set(De,ct,_t,Ut),we.equals(pe)===!1&&(t.clearColor(De,ct,_t,Ut),we.copy(pe))},reset:function(){F=!1,me=null,we.set(-1,0,0,0)}}}function s(){let F=!1,pe=null,me=null,we=null;return{setTest:function(De){De?Ce(t.DEPTH_TEST):st(t.DEPTH_TEST)},setMask:function(De){pe!==De&&!F&&(t.depthMask(De),pe=De)},setFunc:function(De){if(me!==De){switch(De){case P6:t.depthFunc(t.NEVER);break;case I6:t.depthFunc(t.ALWAYS);break;case N6:t.depthFunc(t.LESS);break;case _p:t.depthFunc(t.LEQUAL);break;case L6:t.depthFunc(t.EQUAL);break;case D6:t.depthFunc(t.GEQUAL);break;case k6:t.depthFunc(t.GREATER);break;case O6:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}me=De}},setLocked:function(De){F=De},setClear:function(De){we!==De&&(t.clearDepth(De),we=De)},reset:function(){F=!1,pe=null,me=null,we=null}}}function o(){let F=!1,pe=null,me=null,we=null,De=null,ct=null,_t=null,Ut=null,Yn=null;return{setTest:function(Qe){F||(Qe?Ce(t.STENCIL_TEST):st(t.STENCIL_TEST))},setMask:function(Qe){pe!==Qe&&!F&&(t.stencilMask(Qe),pe=Qe)},setFunc:function(Qe,hn,Ln){(me!==Qe||we!==hn||De!==Ln)&&(t.stencilFunc(Qe,hn,Ln),me=Qe,we=hn,De=Ln)},setOp:function(Qe,hn,Ln){(ct!==Qe||_t!==hn||Ut!==Ln)&&(t.stencilOp(Qe,hn,Ln),ct=Qe,_t=hn,Ut=Ln)},setLocked:function(Qe){F=Qe},setClear:function(Qe){Yn!==Qe&&(t.clearStencil(Qe),Yn=Qe)},reset:function(){F=!1,pe=null,me=null,we=null,De=null,ct=null,_t=null,Ut=null,Yn=null}}}const a=new r,l=new s,c=new o,u=new WeakMap,h=new WeakMap;let f={},g={},_=new WeakMap,w=[],m=null,p=!1,E=null,S=null,M=null,N=null,P=null,T=null,A=null,R=new Et(0,0,0),x=0,C=!1,O=null,D=null,B=null,te=null,Z=null;const ne=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,W=0;const X=t.getParameter(t.VERSION);X.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(X)[1]),z=W>=1):X.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(X)[1]),z=W>=2);let ie=null,se={};const Se=t.getParameter(t.SCISSOR_BOX),J=t.getParameter(t.VIEWPORT),re=new Pn().fromArray(Se),xe=new Pn().fromArray(J);function Me(F,pe,me,we){const De=new Uint8Array(4),ct=t.createTexture();t.bindTexture(F,ct),t.texParameteri(F,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(F,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let _t=0;_t<me;_t++)i&&(F===t.TEXTURE_3D||F===t.TEXTURE_2D_ARRAY)?t.texImage3D(pe,0,t.RGBA,1,1,we,0,t.RGBA,t.UNSIGNED_BYTE,De):t.texImage2D(pe+_t,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,De);return ct}const Oe={};Oe[t.TEXTURE_2D]=Me(t.TEXTURE_2D,t.TEXTURE_2D,1),Oe[t.TEXTURE_CUBE_MAP]=Me(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Oe[t.TEXTURE_2D_ARRAY]=Me(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Oe[t.TEXTURE_3D]=Me(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ce(t.DEPTH_TEST),l.setFunc(_p),Xe(!1),U(R1),Ce(t.CULL_FACE),Pe(to);function Ce(F){f[F]!==!0&&(t.enable(F),f[F]=!0)}function st(F){f[F]!==!1&&(t.disable(F),f[F]=!1)}function He(F,pe){return g[F]!==pe?(t.bindFramebuffer(F,pe),g[F]=pe,i&&(F===t.DRAW_FRAMEBUFFER&&(g[t.FRAMEBUFFER]=pe),F===t.FRAMEBUFFER&&(g[t.DRAW_FRAMEBUFFER]=pe)),!0):!1}function G(F,pe){let me=w,we=!1;if(F)if(me=_.get(pe),me===void 0&&(me=[],_.set(pe,me)),F.isWebGLMultipleRenderTargets){const De=F.texture;if(me.length!==De.length||me[0]!==t.COLOR_ATTACHMENT0){for(let ct=0,_t=De.length;ct<_t;ct++)me[ct]=t.COLOR_ATTACHMENT0+ct;me.length=De.length,we=!0}}else me[0]!==t.COLOR_ATTACHMENT0&&(me[0]=t.COLOR_ATTACHMENT0,we=!0);else me[0]!==t.BACK&&(me[0]=t.BACK,we=!0);we&&(n.isWebGL2?t.drawBuffers(me):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(me))}function Kt(F){return m!==F?(t.useProgram(F),m=F,!0):!1}const Ne={[jo]:t.FUNC_ADD,[m6]:t.FUNC_SUBTRACT,[g6]:t.FUNC_REVERSE_SUBTRACT};if(i)Ne[N1]=t.MIN,Ne[L1]=t.MAX;else{const F=e.get("EXT_blend_minmax");F!==null&&(Ne[N1]=F.MIN_EXT,Ne[L1]=F.MAX_EXT)}const ze={[v6]:t.ZERO,[y6]:t.ONE,[_6]:t.SRC_COLOR,[wy]:t.SRC_ALPHA,[b6]:t.SRC_ALPHA_SATURATE,[w6]:t.DST_COLOR,[E6]:t.DST_ALPHA,[x6]:t.ONE_MINUS_SRC_COLOR,[Ty]:t.ONE_MINUS_SRC_ALPHA,[T6]:t.ONE_MINUS_DST_COLOR,[S6]:t.ONE_MINUS_DST_ALPHA,[A6]:t.CONSTANT_COLOR,[M6]:t.ONE_MINUS_CONSTANT_COLOR,[C6]:t.CONSTANT_ALPHA,[R6]:t.ONE_MINUS_CONSTANT_ALPHA};function Pe(F,pe,me,we,De,ct,_t,Ut,Yn,Qe){if(F===to){p===!0&&(st(t.BLEND),p=!1);return}if(p===!1&&(Ce(t.BLEND),p=!0),F!==p6){if(F!==E||Qe!==C){if((S!==jo||P!==jo)&&(t.blendEquation(t.FUNC_ADD),S=jo,P=jo),Qe)switch(F){case Cl:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Sy:t.blendFunc(t.ONE,t.ONE);break;case P1:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case I1:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",F);break}else switch(F){case Cl:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Sy:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case P1:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case I1:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",F);break}M=null,N=null,T=null,A=null,R.set(0,0,0),x=0,E=F,C=Qe}return}De=De||pe,ct=ct||me,_t=_t||we,(pe!==S||De!==P)&&(t.blendEquationSeparate(Ne[pe],Ne[De]),S=pe,P=De),(me!==M||we!==N||ct!==T||_t!==A)&&(t.blendFuncSeparate(ze[me],ze[we],ze[ct],ze[_t]),M=me,N=we,T=ct,A=_t),(Ut.equals(R)===!1||Yn!==x)&&(t.blendColor(Ut.r,Ut.g,Ut.b,Yn),R.copy(Ut),x=Yn),E=F,C=!1}function Pt(F,pe){F.side===Wr?st(t.CULL_FACE):Ce(t.CULL_FACE);let me=F.side===pi;pe&&(me=!me),Xe(me),F.blending===Cl&&F.transparent===!1?Pe(to):Pe(F.blending,F.blendEquation,F.blendSrc,F.blendDst,F.blendEquationAlpha,F.blendSrcAlpha,F.blendDstAlpha,F.blendColor,F.blendAlpha,F.premultipliedAlpha),l.setFunc(F.depthFunc),l.setTest(F.depthTest),l.setMask(F.depthWrite),a.setMask(F.colorWrite);const we=F.stencilWrite;c.setTest(we),we&&(c.setMask(F.stencilWriteMask),c.setFunc(F.stencilFunc,F.stencilRef,F.stencilFuncMask),c.setOp(F.stencilFail,F.stencilZFail,F.stencilZPass)),q(F.polygonOffset,F.polygonOffsetFactor,F.polygonOffsetUnits),F.alphaToCoverage===!0?Ce(t.SAMPLE_ALPHA_TO_COVERAGE):st(t.SAMPLE_ALPHA_TO_COVERAGE)}function Xe(F){O!==F&&(F?t.frontFace(t.CW):t.frontFace(t.CCW),O=F)}function U(F){F!==d6?(Ce(t.CULL_FACE),F!==D&&(F===R1?t.cullFace(t.BACK):F===h6?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):st(t.CULL_FACE),D=F}function I(F){F!==B&&(z&&t.lineWidth(F),B=F)}function q(F,pe,me){F?(Ce(t.POLYGON_OFFSET_FILL),(te!==pe||Z!==me)&&(t.polygonOffset(pe,me),te=pe,Z=me)):st(t.POLYGON_OFFSET_FILL)}function de(F){F?Ce(t.SCISSOR_TEST):st(t.SCISSOR_TEST)}function oe(F){F===void 0&&(F=t.TEXTURE0+ne-1),ie!==F&&(t.activeTexture(F),ie=F)}function ce(F,pe,me){me===void 0&&(ie===null?me=t.TEXTURE0+ne-1:me=ie);let we=se[me];we===void 0&&(we={type:void 0,texture:void 0},se[me]=we),(we.type!==F||we.texture!==pe)&&(ie!==me&&(t.activeTexture(me),ie=me),t.bindTexture(F,pe||Oe[F]),we.type=F,we.texture=pe)}function Ae(){const F=se[ie];F!==void 0&&F.type!==void 0&&(t.bindTexture(F.type,null),F.type=void 0,F.texture=void 0)}function he(){try{t.compressedTexImage2D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function ye(){try{t.compressedTexImage3D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function ke(){try{t.texSubImage2D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function Ke(){try{t.texSubImage3D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function ae(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function mt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function qe(){try{t.texStorage2D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function Ge(){try{t.texStorage3D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function Le(){try{t.texImage2D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function be(){try{t.texImage3D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function Ye(F){re.equals(F)===!1&&(t.scissor(F.x,F.y,F.z,F.w),re.copy(F))}function ft(F){xe.equals(F)===!1&&(t.viewport(F.x,F.y,F.z,F.w),xe.copy(F))}function yt(F,pe){let me=h.get(pe);me===void 0&&(me=new WeakMap,h.set(pe,me));let we=me.get(F);we===void 0&&(we=t.getUniformBlockIndex(pe,F.name),me.set(F,we))}function tt(F,pe){const we=h.get(pe).get(F);u.get(pe)!==we&&(t.uniformBlockBinding(pe,we,F.__bindingPointIndex),u.set(pe,we))}function gt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),i===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},ie=null,se={},g={},_=new WeakMap,w=[],m=null,p=!1,E=null,S=null,M=null,N=null,P=null,T=null,A=null,R=new Et(0,0,0),x=0,C=!1,O=null,D=null,B=null,te=null,Z=null,re.set(0,0,t.canvas.width,t.canvas.height),xe.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ce,disable:st,bindFramebuffer:He,drawBuffers:G,useProgram:Kt,setBlending:Pe,setMaterial:Pt,setFlipSided:Xe,setCullFace:U,setLineWidth:I,setPolygonOffset:q,setScissorTest:de,activeTexture:oe,bindTexture:ce,unbindTexture:Ae,compressedTexImage2D:he,compressedTexImage3D:ye,texImage2D:Le,texImage3D:be,updateUBOMapping:yt,uniformBlockBinding:tt,texStorage2D:qe,texStorage3D:Ge,texSubImage2D:ke,texSubImage3D:Ke,compressedTexSubImage2D:ae,compressedTexSubImage3D:mt,scissor:Ye,viewport:ft,reset:gt}}function u$(t,e,n,i,r,s,o){const a=r.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let h;const f=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(U,I){return g?new OffscreenCanvas(U,I):Tp("canvas")}function w(U,I,q,de){let oe=1;if((U.width>de||U.height>de)&&(oe=de/Math.max(U.width,U.height)),oe<1||I===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){const ce=I?Iy:Math.floor,Ae=ce(oe*U.width),he=ce(oe*U.height);h===void 0&&(h=_(Ae,he));const ye=q?_(Ae,he):h;return ye.width=Ae,ye.height=he,ye.getContext("2d").drawImage(U,0,0,Ae,he),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+Ae+"x"+he+")."),ye}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function m(U){return cb(U.width)&&cb(U.height)}function p(U){return a?!1:U.wrapS!==nr||U.wrapT!==nr||U.minFilter!==Zn&&U.minFilter!==ai}function E(U,I){return U.generateMipmaps&&I&&U.minFilter!==Zn&&U.minFilter!==ai}function S(U){t.generateMipmap(U)}function M(U,I,q,de,oe=!1){if(a===!1)return I;if(U!==null){if(t[U]!==void 0)return t[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let ce=I;if(I===t.RED&&(q===t.FLOAT&&(ce=t.R32F),q===t.HALF_FLOAT&&(ce=t.R16F),q===t.UNSIGNED_BYTE&&(ce=t.R8)),I===t.RED_INTEGER&&(q===t.UNSIGNED_BYTE&&(ce=t.R8UI),q===t.UNSIGNED_SHORT&&(ce=t.R16UI),q===t.UNSIGNED_INT&&(ce=t.R32UI),q===t.BYTE&&(ce=t.R8I),q===t.SHORT&&(ce=t.R16I),q===t.INT&&(ce=t.R32I)),I===t.RG&&(q===t.FLOAT&&(ce=t.RG32F),q===t.HALF_FLOAT&&(ce=t.RG16F),q===t.UNSIGNED_BYTE&&(ce=t.RG8)),I===t.RGBA){const Ae=oe?xp:wt.getTransfer(de);q===t.FLOAT&&(ce=t.RGBA32F),q===t.HALF_FLOAT&&(ce=t.RGBA16F),q===t.UNSIGNED_BYTE&&(ce=Ae===Lt?t.SRGB8_ALPHA8:t.RGBA8),q===t.UNSIGNED_SHORT_4_4_4_4&&(ce=t.RGBA4),q===t.UNSIGNED_SHORT_5_5_5_1&&(ce=t.RGB5_A1)}return(ce===t.R16F||ce===t.R32F||ce===t.RG16F||ce===t.RG32F||ce===t.RGBA16F||ce===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ce}function N(U,I,q){return E(U,q)===!0||U.isFramebufferTexture&&U.minFilter!==Zn&&U.minFilter!==ai?Math.log2(Math.max(I.width,I.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?I.mipmaps.length:1}function P(U){return U===Zn||U===D1||U===Vc?t.NEAREST:t.LINEAR}function T(U){const I=U.target;I.removeEventListener("dispose",T),R(I),I.isVideoTexture&&u.delete(I)}function A(U){const I=U.target;I.removeEventListener("dispose",A),C(I)}function R(U){const I=i.get(U);if(I.__webglInit===void 0)return;const q=U.source,de=f.get(q);if(de){const oe=de[I.__cacheKey];oe.usedTimes--,oe.usedTimes===0&&x(U),Object.keys(de).length===0&&f.delete(q)}i.remove(U)}function x(U){const I=i.get(U);t.deleteTexture(I.__webglTexture);const q=U.source,de=f.get(q);delete de[I.__cacheKey],o.memory.textures--}function C(U){const I=U.texture,q=i.get(U),de=i.get(I);if(de.__webglTexture!==void 0&&(t.deleteTexture(de.__webglTexture),o.memory.textures--),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let oe=0;oe<6;oe++){if(Array.isArray(q.__webglFramebuffer[oe]))for(let ce=0;ce<q.__webglFramebuffer[oe].length;ce++)t.deleteFramebuffer(q.__webglFramebuffer[oe][ce]);else t.deleteFramebuffer(q.__webglFramebuffer[oe]);q.__webglDepthbuffer&&t.deleteRenderbuffer(q.__webglDepthbuffer[oe])}else{if(Array.isArray(q.__webglFramebuffer))for(let oe=0;oe<q.__webglFramebuffer.length;oe++)t.deleteFramebuffer(q.__webglFramebuffer[oe]);else t.deleteFramebuffer(q.__webglFramebuffer);if(q.__webglDepthbuffer&&t.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&t.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer)for(let oe=0;oe<q.__webglColorRenderbuffer.length;oe++)q.__webglColorRenderbuffer[oe]&&t.deleteRenderbuffer(q.__webglColorRenderbuffer[oe]);q.__webglDepthRenderbuffer&&t.deleteRenderbuffer(q.__webglDepthRenderbuffer)}if(U.isWebGLMultipleRenderTargets)for(let oe=0,ce=I.length;oe<ce;oe++){const Ae=i.get(I[oe]);Ae.__webglTexture&&(t.deleteTexture(Ae.__webglTexture),o.memory.textures--),i.remove(I[oe])}i.remove(I),i.remove(U)}let O=0;function D(){O=0}function B(){const U=O;return U>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+r.maxTextures),O+=1,U}function te(U){const I=[];return I.push(U.wrapS),I.push(U.wrapT),I.push(U.wrapR||0),I.push(U.magFilter),I.push(U.minFilter),I.push(U.anisotropy),I.push(U.internalFormat),I.push(U.format),I.push(U.type),I.push(U.generateMipmaps),I.push(U.premultiplyAlpha),I.push(U.flipY),I.push(U.unpackAlignment),I.push(U.colorSpace),I.join()}function Z(U,I){const q=i.get(U);if(U.isVideoTexture&&Pt(U),U.isRenderTargetTexture===!1&&U.version>0&&q.__version!==U.version){const de=U.image;if(de===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(de.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{re(q,U,I);return}}n.bindTexture(t.TEXTURE_2D,q.__webglTexture,t.TEXTURE0+I)}function ne(U,I){const q=i.get(U);if(U.version>0&&q.__version!==U.version){re(q,U,I);return}n.bindTexture(t.TEXTURE_2D_ARRAY,q.__webglTexture,t.TEXTURE0+I)}function z(U,I){const q=i.get(U);if(U.version>0&&q.__version!==U.version){re(q,U,I);return}n.bindTexture(t.TEXTURE_3D,q.__webglTexture,t.TEXTURE0+I)}function W(U,I){const q=i.get(U);if(U.version>0&&q.__version!==U.version){xe(q,U,I);return}n.bindTexture(t.TEXTURE_CUBE_MAP,q.__webglTexture,t.TEXTURE0+I)}const X={[My]:t.REPEAT,[nr]:t.CLAMP_TO_EDGE,[Cy]:t.MIRRORED_REPEAT},ie={[Zn]:t.NEAREST,[D1]:t.NEAREST_MIPMAP_NEAREST,[Vc]:t.NEAREST_MIPMAP_LINEAR,[ai]:t.LINEAR,[ov]:t.LINEAR_MIPMAP_NEAREST,[Xo]:t.LINEAR_MIPMAP_LINEAR},se={[iG]:t.NEVER,[cG]:t.ALWAYS,[rG]:t.LESS,[p2]:t.LEQUAL,[sG]:t.EQUAL,[lG]:t.GEQUAL,[oG]:t.GREATER,[aG]:t.NOTEQUAL};function Se(U,I,q){if(I.type===$r&&e.has("OES_texture_float_linear")===!1&&(I.magFilter===ai||I.magFilter===ov||I.magFilter===Vc||I.magFilter===Xo||I.minFilter===ai||I.minFilter===ov||I.minFilter===Vc||I.minFilter===Xo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),q?(t.texParameteri(U,t.TEXTURE_WRAP_S,X[I.wrapS]),t.texParameteri(U,t.TEXTURE_WRAP_T,X[I.wrapT]),(U===t.TEXTURE_3D||U===t.TEXTURE_2D_ARRAY)&&t.texParameteri(U,t.TEXTURE_WRAP_R,X[I.wrapR]),t.texParameteri(U,t.TEXTURE_MAG_FILTER,ie[I.magFilter]),t.texParameteri(U,t.TEXTURE_MIN_FILTER,ie[I.minFilter])):(t.texParameteri(U,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(U,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(U===t.TEXTURE_3D||U===t.TEXTURE_2D_ARRAY)&&t.texParameteri(U,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(I.wrapS!==nr||I.wrapT!==nr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(U,t.TEXTURE_MAG_FILTER,P(I.magFilter)),t.texParameteri(U,t.TEXTURE_MIN_FILTER,P(I.minFilter)),I.minFilter!==Zn&&I.minFilter!==ai&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),I.compareFunction&&(t.texParameteri(U,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(U,t.TEXTURE_COMPARE_FUNC,se[I.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const de=e.get("EXT_texture_filter_anisotropic");if(I.magFilter===Zn||I.minFilter!==Vc&&I.minFilter!==Xo||I.type===$r&&e.has("OES_texture_float_linear")===!1||a===!1&&I.type===Yu&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||i.get(I).__currentAnisotropy)&&(t.texParameterf(U,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),i.get(I).__currentAnisotropy=I.anisotropy)}}function J(U,I){let q=!1;U.__webglInit===void 0&&(U.__webglInit=!0,I.addEventListener("dispose",T));const de=I.source;let oe=f.get(de);oe===void 0&&(oe={},f.set(de,oe));const ce=te(I);if(ce!==U.__cacheKey){oe[ce]===void 0&&(oe[ce]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,q=!0),oe[ce].usedTimes++;const Ae=oe[U.__cacheKey];Ae!==void 0&&(oe[U.__cacheKey].usedTimes--,Ae.usedTimes===0&&x(I)),U.__cacheKey=ce,U.__webglTexture=oe[ce].texture}return q}function re(U,I,q){let de=t.TEXTURE_2D;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(de=t.TEXTURE_2D_ARRAY),I.isData3DTexture&&(de=t.TEXTURE_3D);const oe=J(U,I),ce=I.source;n.bindTexture(de,U.__webglTexture,t.TEXTURE0+q);const Ae=i.get(ce);if(ce.version!==Ae.__version||oe===!0){n.activeTexture(t.TEXTURE0+q);const he=wt.getPrimaries(wt.workingColorSpace),ye=I.colorSpace===Vi?null:wt.getPrimaries(I.colorSpace),ke=I.colorSpace===Vi||he===ye?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,I.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,I.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ke);const Ke=p(I)&&m(I.image)===!1;let ae=w(I.image,Ke,!1,r.maxTextureSize);ae=Xe(I,ae);const mt=m(ae)||a,qe=s.convert(I.format,I.colorSpace);let Ge=s.convert(I.type),Le=M(I.internalFormat,qe,Ge,I.colorSpace,I.isVideoTexture);Se(de,I,mt);let be;const Ye=I.mipmaps,ft=a&&I.isVideoTexture!==!0&&Le!==h2,yt=Ae.__version===void 0||oe===!0,tt=ce.dataReady,gt=N(I,ae,mt);if(I.isDepthTexture)Le=t.DEPTH_COMPONENT,a?I.type===$r?Le=t.DEPTH_COMPONENT32F:I.type===Ws?Le=t.DEPTH_COMPONENT24:I.type===ea?Le=t.DEPTH24_STENCIL8:Le=t.DEPTH_COMPONENT16:I.type===$r&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===ta&&Le===t.DEPTH_COMPONENT&&I.type!==qx&&I.type!==Ws&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=Ws,Ge=s.convert(I.type)),I.format===Xl&&Le===t.DEPTH_COMPONENT&&(Le=t.DEPTH_STENCIL,I.type!==ea&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=ea,Ge=s.convert(I.type))),yt&&(ft?n.texStorage2D(t.TEXTURE_2D,1,Le,ae.width,ae.height):n.texImage2D(t.TEXTURE_2D,0,Le,ae.width,ae.height,0,qe,Ge,null));else if(I.isDataTexture)if(Ye.length>0&&mt){ft&&yt&&n.texStorage2D(t.TEXTURE_2D,gt,Le,Ye[0].width,Ye[0].height);for(let F=0,pe=Ye.length;F<pe;F++)be=Ye[F],ft?tt&&n.texSubImage2D(t.TEXTURE_2D,F,0,0,be.width,be.height,qe,Ge,be.data):n.texImage2D(t.TEXTURE_2D,F,Le,be.width,be.height,0,qe,Ge,be.data);I.generateMipmaps=!1}else ft?(yt&&n.texStorage2D(t.TEXTURE_2D,gt,Le,ae.width,ae.height),tt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ae.width,ae.height,qe,Ge,ae.data)):n.texImage2D(t.TEXTURE_2D,0,Le,ae.width,ae.height,0,qe,Ge,ae.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){ft&&yt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,gt,Le,Ye[0].width,Ye[0].height,ae.depth);for(let F=0,pe=Ye.length;F<pe;F++)be=Ye[F],I.format!==ir?qe!==null?ft?tt&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,F,0,0,0,be.width,be.height,ae.depth,qe,be.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,F,Le,be.width,be.height,ae.depth,0,be.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ft?tt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,F,0,0,0,be.width,be.height,ae.depth,qe,Ge,be.data):n.texImage3D(t.TEXTURE_2D_ARRAY,F,Le,be.width,be.height,ae.depth,0,qe,Ge,be.data)}else{ft&&yt&&n.texStorage2D(t.TEXTURE_2D,gt,Le,Ye[0].width,Ye[0].height);for(let F=0,pe=Ye.length;F<pe;F++)be=Ye[F],I.format!==ir?qe!==null?ft?tt&&n.compressedTexSubImage2D(t.TEXTURE_2D,F,0,0,be.width,be.height,qe,be.data):n.compressedTexImage2D(t.TEXTURE_2D,F,Le,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ft?tt&&n.texSubImage2D(t.TEXTURE_2D,F,0,0,be.width,be.height,qe,Ge,be.data):n.texImage2D(t.TEXTURE_2D,F,Le,be.width,be.height,0,qe,Ge,be.data)}else if(I.isDataArrayTexture)ft?(yt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,gt,Le,ae.width,ae.height,ae.depth),tt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ae.width,ae.height,ae.depth,qe,Ge,ae.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Le,ae.width,ae.height,ae.depth,0,qe,Ge,ae.data);else if(I.isData3DTexture)ft?(yt&&n.texStorage3D(t.TEXTURE_3D,gt,Le,ae.width,ae.height,ae.depth),tt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ae.width,ae.height,ae.depth,qe,Ge,ae.data)):n.texImage3D(t.TEXTURE_3D,0,Le,ae.width,ae.height,ae.depth,0,qe,Ge,ae.data);else if(I.isFramebufferTexture){if(yt)if(ft)n.texStorage2D(t.TEXTURE_2D,gt,Le,ae.width,ae.height);else{let F=ae.width,pe=ae.height;for(let me=0;me<gt;me++)n.texImage2D(t.TEXTURE_2D,me,Le,F,pe,0,qe,Ge,null),F>>=1,pe>>=1}}else if(Ye.length>0&&mt){ft&&yt&&n.texStorage2D(t.TEXTURE_2D,gt,Le,Ye[0].width,Ye[0].height);for(let F=0,pe=Ye.length;F<pe;F++)be=Ye[F],ft?tt&&n.texSubImage2D(t.TEXTURE_2D,F,0,0,qe,Ge,be):n.texImage2D(t.TEXTURE_2D,F,Le,qe,Ge,be);I.generateMipmaps=!1}else ft?(yt&&n.texStorage2D(t.TEXTURE_2D,gt,Le,ae.width,ae.height),tt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,qe,Ge,ae)):n.texImage2D(t.TEXTURE_2D,0,Le,qe,Ge,ae);E(I,mt)&&S(de),Ae.__version=ce.version,I.onUpdate&&I.onUpdate(I)}U.__version=I.version}function xe(U,I,q){if(I.image.length!==6)return;const de=J(U,I),oe=I.source;n.bindTexture(t.TEXTURE_CUBE_MAP,U.__webglTexture,t.TEXTURE0+q);const ce=i.get(oe);if(oe.version!==ce.__version||de===!0){n.activeTexture(t.TEXTURE0+q);const Ae=wt.getPrimaries(wt.workingColorSpace),he=I.colorSpace===Vi?null:wt.getPrimaries(I.colorSpace),ye=I.colorSpace===Vi||Ae===he?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,I.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,I.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ye);const ke=I.isCompressedTexture||I.image[0].isCompressedTexture,Ke=I.image[0]&&I.image[0].isDataTexture,ae=[];for(let F=0;F<6;F++)!ke&&!Ke?ae[F]=w(I.image[F],!1,!0,r.maxCubemapSize):ae[F]=Ke?I.image[F].image:I.image[F],ae[F]=Xe(I,ae[F]);const mt=ae[0],qe=m(mt)||a,Ge=s.convert(I.format,I.colorSpace),Le=s.convert(I.type),be=M(I.internalFormat,Ge,Le,I.colorSpace),Ye=a&&I.isVideoTexture!==!0,ft=ce.__version===void 0||de===!0,yt=oe.dataReady;let tt=N(I,mt,qe);Se(t.TEXTURE_CUBE_MAP,I,qe);let gt;if(ke){Ye&&ft&&n.texStorage2D(t.TEXTURE_CUBE_MAP,tt,be,mt.width,mt.height);for(let F=0;F<6;F++){gt=ae[F].mipmaps;for(let pe=0;pe<gt.length;pe++){const me=gt[pe];I.format!==ir?Ge!==null?Ye?yt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,pe,0,0,me.width,me.height,Ge,me.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,pe,be,me.width,me.height,0,me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ye?yt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,pe,0,0,me.width,me.height,Ge,Le,me.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,pe,be,me.width,me.height,0,Ge,Le,me.data)}}}else{gt=I.mipmaps,Ye&&ft&&(gt.length>0&&tt++,n.texStorage2D(t.TEXTURE_CUBE_MAP,tt,be,ae[0].width,ae[0].height));for(let F=0;F<6;F++)if(Ke){Ye?yt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,0,0,ae[F].width,ae[F].height,Ge,Le,ae[F].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,be,ae[F].width,ae[F].height,0,Ge,Le,ae[F].data);for(let pe=0;pe<gt.length;pe++){const we=gt[pe].image[F].image;Ye?yt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,pe+1,0,0,we.width,we.height,Ge,Le,we.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,pe+1,be,we.width,we.height,0,Ge,Le,we.data)}}else{Ye?yt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,0,0,Ge,Le,ae[F]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,0,be,Ge,Le,ae[F]);for(let pe=0;pe<gt.length;pe++){const me=gt[pe];Ye?yt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,pe+1,0,0,Ge,Le,me.image[F]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+F,pe+1,be,Ge,Le,me.image[F])}}}E(I,qe)&&S(t.TEXTURE_CUBE_MAP),ce.__version=oe.version,I.onUpdate&&I.onUpdate(I)}U.__version=I.version}function Me(U,I,q,de,oe,ce){const Ae=s.convert(q.format,q.colorSpace),he=s.convert(q.type),ye=M(q.internalFormat,Ae,he,q.colorSpace);if(!i.get(I).__hasExternalTextures){const Ke=Math.max(1,I.width>>ce),ae=Math.max(1,I.height>>ce);oe===t.TEXTURE_3D||oe===t.TEXTURE_2D_ARRAY?n.texImage3D(oe,ce,ye,Ke,ae,I.depth,0,Ae,he,null):n.texImage2D(oe,ce,ye,Ke,ae,0,Ae,he,null)}n.bindFramebuffer(t.FRAMEBUFFER,U),Pe(I)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,de,oe,i.get(q).__webglTexture,0,ze(I)):(oe===t.TEXTURE_2D||oe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&oe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,de,oe,i.get(q).__webglTexture,ce),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Oe(U,I,q){if(t.bindRenderbuffer(t.RENDERBUFFER,U),I.depthBuffer&&!I.stencilBuffer){let de=a===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(q||Pe(I)){const oe=I.depthTexture;oe&&oe.isDepthTexture&&(oe.type===$r?de=t.DEPTH_COMPONENT32F:oe.type===Ws&&(de=t.DEPTH_COMPONENT24));const ce=ze(I);Pe(I)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ce,de,I.width,I.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,ce,de,I.width,I.height)}else t.renderbufferStorage(t.RENDERBUFFER,de,I.width,I.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,U)}else if(I.depthBuffer&&I.stencilBuffer){const de=ze(I);q&&Pe(I)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,de,t.DEPTH24_STENCIL8,I.width,I.height):Pe(I)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,de,t.DEPTH24_STENCIL8,I.width,I.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,I.width,I.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,U)}else{const de=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let oe=0;oe<de.length;oe++){const ce=de[oe],Ae=s.convert(ce.format,ce.colorSpace),he=s.convert(ce.type),ye=M(ce.internalFormat,Ae,he,ce.colorSpace),ke=ze(I);q&&Pe(I)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ke,ye,I.width,I.height):Pe(I)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ke,ye,I.width,I.height):t.renderbufferStorage(t.RENDERBUFFER,ye,I.width,I.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ce(U,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,U),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),Z(I.depthTexture,0);const de=i.get(I.depthTexture).__webglTexture,oe=ze(I);if(I.depthTexture.format===ta)Pe(I)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,de,0,oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,de,0);else if(I.depthTexture.format===Xl)Pe(I)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,de,0,oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,de,0);else throw new Error("Unknown depthTexture format")}function st(U){const I=i.get(U),q=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!I.__autoAllocateDepthBuffer){if(q)throw new Error("target.depthTexture not supported in Cube render targets");Ce(I.__webglFramebuffer,U)}else if(q){I.__webglDepthbuffer=[];for(let de=0;de<6;de++)n.bindFramebuffer(t.FRAMEBUFFER,I.__webglFramebuffer[de]),I.__webglDepthbuffer[de]=t.createRenderbuffer(),Oe(I.__webglDepthbuffer[de],U,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,I.__webglFramebuffer),I.__webglDepthbuffer=t.createRenderbuffer(),Oe(I.__webglDepthbuffer,U,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function He(U,I,q){const de=i.get(U);I!==void 0&&Me(de.__webglFramebuffer,U,U.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),q!==void 0&&st(U)}function G(U){const I=U.texture,q=i.get(U),de=i.get(I);U.addEventListener("dispose",A),U.isWebGLMultipleRenderTargets!==!0&&(de.__webglTexture===void 0&&(de.__webglTexture=t.createTexture()),de.__version=I.version,o.memory.textures++);const oe=U.isWebGLCubeRenderTarget===!0,ce=U.isWebGLMultipleRenderTargets===!0,Ae=m(U)||a;if(oe){q.__webglFramebuffer=[];for(let he=0;he<6;he++)if(a&&I.mipmaps&&I.mipmaps.length>0){q.__webglFramebuffer[he]=[];for(let ye=0;ye<I.mipmaps.length;ye++)q.__webglFramebuffer[he][ye]=t.createFramebuffer()}else q.__webglFramebuffer[he]=t.createFramebuffer()}else{if(a&&I.mipmaps&&I.mipmaps.length>0){q.__webglFramebuffer=[];for(let he=0;he<I.mipmaps.length;he++)q.__webglFramebuffer[he]=t.createFramebuffer()}else q.__webglFramebuffer=t.createFramebuffer();if(ce)if(r.drawBuffers){const he=U.texture;for(let ye=0,ke=he.length;ye<ke;ye++){const Ke=i.get(he[ye]);Ke.__webglTexture===void 0&&(Ke.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&U.samples>0&&Pe(U)===!1){const he=ce?I:[I];q.__webglMultisampledFramebuffer=t.createFramebuffer(),q.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,q.__webglMultisampledFramebuffer);for(let ye=0;ye<he.length;ye++){const ke=he[ye];q.__webglColorRenderbuffer[ye]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,q.__webglColorRenderbuffer[ye]);const Ke=s.convert(ke.format,ke.colorSpace),ae=s.convert(ke.type),mt=M(ke.internalFormat,Ke,ae,ke.colorSpace,U.isXRRenderTarget===!0),qe=ze(U);t.renderbufferStorageMultisample(t.RENDERBUFFER,qe,mt,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ye,t.RENDERBUFFER,q.__webglColorRenderbuffer[ye])}t.bindRenderbuffer(t.RENDERBUFFER,null),U.depthBuffer&&(q.__webglDepthRenderbuffer=t.createRenderbuffer(),Oe(q.__webglDepthRenderbuffer,U,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(oe){n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture),Se(t.TEXTURE_CUBE_MAP,I,Ae);for(let he=0;he<6;he++)if(a&&I.mipmaps&&I.mipmaps.length>0)for(let ye=0;ye<I.mipmaps.length;ye++)Me(q.__webglFramebuffer[he][ye],U,I,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+he,ye);else Me(q.__webglFramebuffer[he],U,I,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+he,0);E(I,Ae)&&S(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ce){const he=U.texture;for(let ye=0,ke=he.length;ye<ke;ye++){const Ke=he[ye],ae=i.get(Ke);n.bindTexture(t.TEXTURE_2D,ae.__webglTexture),Se(t.TEXTURE_2D,Ke,Ae),Me(q.__webglFramebuffer,U,Ke,t.COLOR_ATTACHMENT0+ye,t.TEXTURE_2D,0),E(Ke,Ae)&&S(t.TEXTURE_2D)}n.unbindTexture()}else{let he=t.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(a?he=U.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(he,de.__webglTexture),Se(he,I,Ae),a&&I.mipmaps&&I.mipmaps.length>0)for(let ye=0;ye<I.mipmaps.length;ye++)Me(q.__webglFramebuffer[ye],U,I,t.COLOR_ATTACHMENT0,he,ye);else Me(q.__webglFramebuffer,U,I,t.COLOR_ATTACHMENT0,he,0);E(I,Ae)&&S(he),n.unbindTexture()}U.depthBuffer&&st(U)}function Kt(U){const I=m(U)||a,q=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let de=0,oe=q.length;de<oe;de++){const ce=q[de];if(E(ce,I)){const Ae=U.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,he=i.get(ce).__webglTexture;n.bindTexture(Ae,he),S(Ae),n.unbindTexture()}}}function Ne(U){if(a&&U.samples>0&&Pe(U)===!1){const I=U.isWebGLMultipleRenderTargets?U.texture:[U.texture],q=U.width,de=U.height;let oe=t.COLOR_BUFFER_BIT;const ce=[],Ae=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,he=i.get(U),ye=U.isWebGLMultipleRenderTargets===!0;if(ye)for(let ke=0;ke<I.length;ke++)n.bindFramebuffer(t.FRAMEBUFFER,he.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,he.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,he.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,he.__webglFramebuffer);for(let ke=0;ke<I.length;ke++){ce.push(t.COLOR_ATTACHMENT0+ke),U.depthBuffer&&ce.push(Ae);const Ke=he.__ignoreDepthValues!==void 0?he.__ignoreDepthValues:!1;if(Ke===!1&&(U.depthBuffer&&(oe|=t.DEPTH_BUFFER_BIT),U.stencilBuffer&&(oe|=t.STENCIL_BUFFER_BIT)),ye&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,he.__webglColorRenderbuffer[ke]),Ke===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Ae]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Ae])),ye){const ae=i.get(I[ke]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ae,0)}t.blitFramebuffer(0,0,q,de,0,0,q,de,oe,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ce)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ye)for(let ke=0;ke<I.length;ke++){n.bindFramebuffer(t.FRAMEBUFFER,he.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.RENDERBUFFER,he.__webglColorRenderbuffer[ke]);const Ke=i.get(I[ke]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,he.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.TEXTURE_2D,Ke,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,he.__webglMultisampledFramebuffer)}}function ze(U){return Math.min(r.maxSamples,U.samples)}function Pe(U){const I=i.get(U);return a&&U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function Pt(U){const I=o.render.frame;u.get(U)!==I&&(u.set(U,I),U.update())}function Xe(U,I){const q=U.colorSpace,de=U.format,oe=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||U.format===Ry||q!==fs&&q!==Vi&&(wt.getTransfer(q)===Lt?a===!1?e.has("EXT_sRGB")===!0&&de===ir?(U.format=Ry,U.minFilter=ai,U.generateMipmaps=!1):I=g2.sRGBToLinear(I):(de!==ir||oe!==io)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",q)),I}this.allocateTextureUnit=B,this.resetTextureUnits=D,this.setTexture2D=Z,this.setTexture2DArray=ne,this.setTexture3D=z,this.setTextureCube=W,this.rebindTextures=He,this.setupRenderTarget=G,this.updateRenderTargetMipmap=Kt,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=st,this.setupFrameBufferTexture=Me,this.useMultisampledRTT=Pe}function d$(t,e,n){const i=n.isWebGL2;function r(s,o=Vi){let a;const l=wt.getTransfer(o);if(s===io)return t.UNSIGNED_BYTE;if(s===a2)return t.UNSIGNED_SHORT_4_4_4_4;if(s===l2)return t.UNSIGNED_SHORT_5_5_5_1;if(s===W6)return t.BYTE;if(s===$6)return t.SHORT;if(s===qx)return t.UNSIGNED_SHORT;if(s===o2)return t.INT;if(s===Ws)return t.UNSIGNED_INT;if(s===$r)return t.FLOAT;if(s===Yu)return i?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===q6)return t.ALPHA;if(s===ir)return t.RGBA;if(s===X6)return t.LUMINANCE;if(s===K6)return t.LUMINANCE_ALPHA;if(s===ta)return t.DEPTH_COMPONENT;if(s===Xl)return t.DEPTH_STENCIL;if(s===Ry)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Y6)return t.RED;if(s===c2)return t.RED_INTEGER;if(s===Q6)return t.RG;if(s===u2)return t.RG_INTEGER;if(s===d2)return t.RGBA_INTEGER;if(s===av||s===lv||s===cv||s===uv)if(l===Lt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===av)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===lv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===cv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===uv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===av)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===lv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===cv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===uv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===k1||s===O1||s===U1||s===F1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===k1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===O1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===U1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===F1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===h2)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===V1||s===B1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===V1)return l===Lt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===B1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===z1||s===j1||s===H1||s===G1||s===W1||s===$1||s===q1||s===X1||s===K1||s===Y1||s===Q1||s===J1||s===Z1||s===eb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===z1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===j1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===H1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===G1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===W1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===$1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===q1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===X1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===K1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Y1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Q1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===J1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Z1)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===eb)return l===Lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===dv||s===tb||s===nb)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===dv)return l===Lt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===tb)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===nb)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===J6||s===ib||s===rb||s===sb)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===dv)return a.COMPRESSED_RED_RGTC1_EXT;if(s===ib)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===rb)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===sb)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===ea?i?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:r}}class h$ extends Fi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Kh extends gi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const f$={type:"move"};class Ov{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Kh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Kh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Y,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Y),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Kh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Y,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Y),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const w of e.hand.values()){const m=n.getJointPose(w,i),p=this._getHandJoint(c,w);m!==null&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=m.radius),p.visible=m!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],f=u.position.distanceTo(h.position),g=.02,_=.005;c.inputState.pinching&&f>g+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=g-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(f$)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Kh;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}const p$=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,m$=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class g${constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,i){if(this.texture===null){const r=new mi,s=e.properties.get(r);s.__webglTexture=n.texture,(n.depthNear!=i.depthNear||n.depthFar!=i.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=r}}render(e,n){if(this.texture!==null){if(this.mesh===null){const i=n.cameras[0].viewport,r=new uo({extensions:{fragDepth:!0},vertexShader:p$,fragmentShader:m$,uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new Yr(new Dm(20,20),r)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class v$ extends uc{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,f=null,g=null,_=null;const w=new g$,m=n.getContextAttributes();let p=null,E=null;const S=[],M=[],N=new vt;let P=null;const T=new Fi;T.layers.enable(1),T.viewport=new Pn;const A=new Fi;A.layers.enable(2),A.viewport=new Pn;const R=[T,A],x=new h$;x.layers.enable(1),x.layers.enable(2);let C=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let re=S[J];return re===void 0&&(re=new Ov,S[J]=re),re.getTargetRaySpace()},this.getControllerGrip=function(J){let re=S[J];return re===void 0&&(re=new Ov,S[J]=re),re.getGripSpace()},this.getHand=function(J){let re=S[J];return re===void 0&&(re=new Ov,S[J]=re),re.getHandSpace()};function D(J){const re=M.indexOf(J.inputSource);if(re===-1)return;const xe=S[re];xe!==void 0&&(xe.update(J.inputSource,J.frame,c||o),xe.dispatchEvent({type:J.type,data:J.inputSource}))}function B(){r.removeEventListener("select",D),r.removeEventListener("selectstart",D),r.removeEventListener("selectend",D),r.removeEventListener("squeeze",D),r.removeEventListener("squeezestart",D),r.removeEventListener("squeezeend",D),r.removeEventListener("end",B),r.removeEventListener("inputsourceschange",te);for(let J=0;J<S.length;J++){const re=M[J];re!==null&&(M[J]=null,S[J].disconnect(re))}C=null,O=null,w.reset(),e.setRenderTarget(p),g=null,f=null,h=null,r=null,E=null,Se.stop(),i.isPresenting=!1,e.setPixelRatio(P),e.setSize(N.width,N.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){s=J,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){a=J,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return f!==null?f:g},this.getBinding=function(){return h},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(J){if(r=J,r!==null){if(p=e.getRenderTarget(),r.addEventListener("select",D),r.addEventListener("selectstart",D),r.addEventListener("selectend",D),r.addEventListener("squeeze",D),r.addEventListener("squeezestart",D),r.addEventListener("squeezeend",D),r.addEventListener("end",B),r.addEventListener("inputsourceschange",te),m.xrCompatible!==!0&&await n.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(N),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const re={antialias:r.renderState.layers===void 0?m.antialias:!0,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(r,n,re),r.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),E=new pa(g.framebufferWidth,g.framebufferHeight,{format:ir,type:io,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}else{let re=null,xe=null,Me=null;m.depth&&(Me=m.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,re=m.stencil?Xl:ta,xe=m.stencil?ea:Ws);const Oe={colorFormat:n.RGBA8,depthFormat:Me,scaleFactor:s};h=new XRWebGLBinding(r,n),f=h.createProjectionLayer(Oe),r.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),E=new pa(f.textureWidth,f.textureHeight,{format:ir,type:io,depthTexture:new P2(f.textureWidth,f.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,re),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0});const Ce=e.properties.get(E);Ce.__ignoreDepthValues=f.ignoreDepthValues}E.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),Se.setContext(r),Se.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function te(J){for(let re=0;re<J.removed.length;re++){const xe=J.removed[re],Me=M.indexOf(xe);Me>=0&&(M[Me]=null,S[Me].disconnect(xe))}for(let re=0;re<J.added.length;re++){const xe=J.added[re];let Me=M.indexOf(xe);if(Me===-1){for(let Ce=0;Ce<S.length;Ce++)if(Ce>=M.length){M.push(xe),Me=Ce;break}else if(M[Ce]===null){M[Ce]=xe,Me=Ce;break}if(Me===-1)break}const Oe=S[Me];Oe&&Oe.connect(xe)}}const Z=new Y,ne=new Y;function z(J,re,xe){Z.setFromMatrixPosition(re.matrixWorld),ne.setFromMatrixPosition(xe.matrixWorld);const Me=Z.distanceTo(ne),Oe=re.projectionMatrix.elements,Ce=xe.projectionMatrix.elements,st=Oe[14]/(Oe[10]-1),He=Oe[14]/(Oe[10]+1),G=(Oe[9]+1)/Oe[5],Kt=(Oe[9]-1)/Oe[5],Ne=(Oe[8]-1)/Oe[0],ze=(Ce[8]+1)/Ce[0],Pe=st*Ne,Pt=st*ze,Xe=Me/(-Ne+ze),U=Xe*-Ne;re.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(U),J.translateZ(Xe),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert();const I=st+Xe,q=He+Xe,de=Pe-U,oe=Pt+(Me-U),ce=G*He/q*I,Ae=Kt*He/q*I;J.projectionMatrix.makePerspective(de,oe,ce,Ae,I,q),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}function W(J,re){re===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(re.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(r===null)return;w.texture!==null&&(J.near=w.depthNear,J.far=w.depthFar),x.near=A.near=T.near=J.near,x.far=A.far=T.far=J.far,(C!==x.near||O!==x.far)&&(r.updateRenderState({depthNear:x.near,depthFar:x.far}),C=x.near,O=x.far,T.near=C,T.far=O,A.near=C,A.far=O,T.updateProjectionMatrix(),A.updateProjectionMatrix(),J.updateProjectionMatrix());const re=J.parent,xe=x.cameras;W(x,re);for(let Me=0;Me<xe.length;Me++)W(xe[Me],re);xe.length===2?z(x,T,A):x.projectionMatrix.copy(T.projectionMatrix),X(J,x,re)};function X(J,re,xe){xe===null?J.matrix.copy(re.matrixWorld):(J.matrix.copy(xe.matrixWorld),J.matrix.invert(),J.matrix.multiply(re.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(re.projectionMatrix),J.projectionMatrixInverse.copy(re.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=Py*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return x},this.getFoveation=function(){if(!(f===null&&g===null))return l},this.setFoveation=function(J){l=J,f!==null&&(f.fixedFoveation=J),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=J)},this.hasDepthSensing=function(){return w.texture!==null};let ie=null;function se(J,re){if(u=re.getViewerPose(c||o),_=re,u!==null){const xe=u.views;g!==null&&(e.setRenderTargetFramebuffer(E,g.framebuffer),e.setRenderTarget(E));let Me=!1;xe.length!==x.cameras.length&&(x.cameras.length=0,Me=!0);for(let Ce=0;Ce<xe.length;Ce++){const st=xe[Ce];let He=null;if(g!==null)He=g.getViewport(st);else{const Kt=h.getViewSubImage(f,st);He=Kt.viewport,Ce===0&&(e.setRenderTargetTextures(E,Kt.colorTexture,f.ignoreDepthValues?void 0:Kt.depthStencilTexture),e.setRenderTarget(E))}let G=R[Ce];G===void 0&&(G=new Fi,G.layers.enable(Ce),G.viewport=new Pn,R[Ce]=G),G.matrix.fromArray(st.transform.matrix),G.matrix.decompose(G.position,G.quaternion,G.scale),G.projectionMatrix.fromArray(st.projectionMatrix),G.projectionMatrixInverse.copy(G.projectionMatrix).invert(),G.viewport.set(He.x,He.y,He.width,He.height),Ce===0&&(x.matrix.copy(G.matrix),x.matrix.decompose(x.position,x.quaternion,x.scale)),Me===!0&&x.cameras.push(G)}const Oe=r.enabledFeatures;if(Oe&&Oe.includes("depth-sensing")){const Ce=h.getDepthInformation(xe[0]);Ce&&Ce.isValid&&Ce.texture&&w.init(e,Ce,r.renderState)}}for(let xe=0;xe<S.length;xe++){const Me=M[xe],Oe=S[xe];Me!==null&&Oe!==void 0&&Oe.update(Me,re,c||o)}w.render(e,x),ie&&ie(J,re),re.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:re}),_=null}const Se=new R2;Se.setAnimationLoop(se),this.setAnimationLoop=function(J){ie=J},this.dispose=function(){}}}function y$(t,e){function n(m,p){m.matrixAutoUpdate===!0&&m.updateMatrix(),p.value.copy(m.matrix)}function i(m,p){p.color.getRGB(m.fogColor.value,b2(t)),p.isFog?(m.fogNear.value=p.near,m.fogFar.value=p.far):p.isFogExp2&&(m.fogDensity.value=p.density)}function r(m,p,E,S,M){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(m,p):p.isMeshToonMaterial?(s(m,p),h(m,p)):p.isMeshPhongMaterial?(s(m,p),u(m,p)):p.isMeshStandardMaterial?(s(m,p),f(m,p),p.isMeshPhysicalMaterial&&g(m,p,M)):p.isMeshMatcapMaterial?(s(m,p),_(m,p)):p.isMeshDepthMaterial?s(m,p):p.isMeshDistanceMaterial?(s(m,p),w(m,p)):p.isMeshNormalMaterial?s(m,p):p.isLineBasicMaterial?(o(m,p),p.isLineDashedMaterial&&a(m,p)):p.isPointsMaterial?l(m,p,E,S):p.isSpriteMaterial?c(m,p):p.isShadowMaterial?(m.color.value.copy(p.color),m.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function s(m,p){m.opacity.value=p.opacity,p.color&&m.diffuse.value.copy(p.color),p.emissive&&m.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.bumpMap&&(m.bumpMap.value=p.bumpMap,n(p.bumpMap,m.bumpMapTransform),m.bumpScale.value=p.bumpScale,p.side===pi&&(m.bumpScale.value*=-1)),p.normalMap&&(m.normalMap.value=p.normalMap,n(p.normalMap,m.normalMapTransform),m.normalScale.value.copy(p.normalScale),p.side===pi&&m.normalScale.value.negate()),p.displacementMap&&(m.displacementMap.value=p.displacementMap,n(p.displacementMap,m.displacementMapTransform),m.displacementScale.value=p.displacementScale,m.displacementBias.value=p.displacementBias),p.emissiveMap&&(m.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,m.emissiveMapTransform)),p.specularMap&&(m.specularMap.value=p.specularMap,n(p.specularMap,m.specularMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest);const E=e.get(p).envMap;if(E&&(m.envMap.value=E,m.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=p.reflectivity,m.ior.value=p.ior,m.refractionRatio.value=p.refractionRatio),p.lightMap){m.lightMap.value=p.lightMap;const S=t._useLegacyLights===!0?Math.PI:1;m.lightMapIntensity.value=p.lightMapIntensity*S,n(p.lightMap,m.lightMapTransform)}p.aoMap&&(m.aoMap.value=p.aoMap,m.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,m.aoMapTransform))}function o(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform))}function a(m,p){m.dashSize.value=p.dashSize,m.totalSize.value=p.dashSize+p.gapSize,m.scale.value=p.scale}function l(m,p,E,S){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.size.value=p.size*E,m.scale.value=S*.5,p.map&&(m.map.value=p.map,n(p.map,m.uvTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function c(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.rotation.value=p.rotation,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function u(m,p){m.specular.value.copy(p.specular),m.shininess.value=Math.max(p.shininess,1e-4)}function h(m,p){p.gradientMap&&(m.gradientMap.value=p.gradientMap)}function f(m,p){m.metalness.value=p.metalness,p.metalnessMap&&(m.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,m.metalnessMapTransform)),m.roughness.value=p.roughness,p.roughnessMap&&(m.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,m.roughnessMapTransform)),e.get(p).envMap&&(m.envMapIntensity.value=p.envMapIntensity)}function g(m,p,E){m.ior.value=p.ior,p.sheen>0&&(m.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),m.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(m.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,m.sheenColorMapTransform)),p.sheenRoughnessMap&&(m.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,m.sheenRoughnessMapTransform))),p.clearcoat>0&&(m.clearcoat.value=p.clearcoat,m.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(m.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,m.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(m.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===pi&&m.clearcoatNormalScale.value.negate())),p.iridescence>0&&(m.iridescence.value=p.iridescence,m.iridescenceIOR.value=p.iridescenceIOR,m.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(m.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,m.iridescenceMapTransform)),p.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),p.transmission>0&&(m.transmission.value=p.transmission,m.transmissionSamplerMap.value=E.texture,m.transmissionSamplerSize.value.set(E.width,E.height),p.transmissionMap&&(m.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,m.transmissionMapTransform)),m.thickness.value=p.thickness,p.thicknessMap&&(m.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=p.attenuationDistance,m.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(m.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(m.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=p.specularIntensity,m.specularColor.value.copy(p.specularColor),p.specularColorMap&&(m.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,m.specularColorMapTransform)),p.specularIntensityMap&&(m.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,m.specularIntensityMapTransform))}function _(m,p){p.matcap&&(m.matcap.value=p.matcap)}function w(m,p){const E=e.get(p).light;m.referencePosition.value.setFromMatrixPosition(E.matrixWorld),m.nearDistance.value=E.shadow.camera.near,m.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function _$(t,e,n,i){let r={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(E,S){const M=S.program;i.uniformBlockBinding(E,M)}function c(E,S){let M=r[E.id];M===void 0&&(_(E),M=u(E),r[E.id]=M,E.addEventListener("dispose",m));const N=S.program;i.updateUBOMapping(E,N);const P=e.render.frame;s[E.id]!==P&&(f(E),s[E.id]=P)}function u(E){const S=h();E.__bindingPointIndex=S;const M=t.createBuffer(),N=E.__size,P=E.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,N,P),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,M),M}function h(){for(let E=0;E<a;E++)if(o.indexOf(E)===-1)return o.push(E),E;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(E){const S=r[E.id],M=E.uniforms,N=E.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let P=0,T=M.length;P<T;P++){const A=Array.isArray(M[P])?M[P]:[M[P]];for(let R=0,x=A.length;R<x;R++){const C=A[R];if(g(C,P,R,N)===!0){const O=C.__offset,D=Array.isArray(C.value)?C.value:[C.value];let B=0;for(let te=0;te<D.length;te++){const Z=D[te],ne=w(Z);typeof Z=="number"||typeof Z=="boolean"?(C.__data[0]=Z,t.bufferSubData(t.UNIFORM_BUFFER,O+B,C.__data)):Z.isMatrix3?(C.__data[0]=Z.elements[0],C.__data[1]=Z.elements[1],C.__data[2]=Z.elements[2],C.__data[3]=0,C.__data[4]=Z.elements[3],C.__data[5]=Z.elements[4],C.__data[6]=Z.elements[5],C.__data[7]=0,C.__data[8]=Z.elements[6],C.__data[9]=Z.elements[7],C.__data[10]=Z.elements[8],C.__data[11]=0):(Z.toArray(C.__data,B),B+=ne.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,O,C.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(E,S,M,N){const P=E.value,T=S+"_"+M;if(N[T]===void 0)return typeof P=="number"||typeof P=="boolean"?N[T]=P:N[T]=P.clone(),!0;{const A=N[T];if(typeof P=="number"||typeof P=="boolean"){if(A!==P)return N[T]=P,!0}else if(A.equals(P)===!1)return A.copy(P),!0}return!1}function _(E){const S=E.uniforms;let M=0;const N=16;for(let T=0,A=S.length;T<A;T++){const R=Array.isArray(S[T])?S[T]:[S[T]];for(let x=0,C=R.length;x<C;x++){const O=R[x],D=Array.isArray(O.value)?O.value:[O.value];for(let B=0,te=D.length;B<te;B++){const Z=D[B],ne=w(Z),z=M%N;z!==0&&N-z<ne.boundary&&(M+=N-z),O.__data=new Float32Array(ne.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=M,M+=ne.storage}}}const P=M%N;return P>0&&(M+=N-P),E.__size=M,E.__cache={},this}function w(E){const S={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(S.boundary=4,S.storage=4):E.isVector2?(S.boundary=8,S.storage=8):E.isVector3||E.isColor?(S.boundary=16,S.storage=12):E.isVector4?(S.boundary=16,S.storage=16):E.isMatrix3?(S.boundary=48,S.storage=48):E.isMatrix4?(S.boundary=64,S.storage=64):E.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",E),S}function m(E){const S=E.target;S.removeEventListener("dispose",m);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(r[S.id]),delete r[S.id],delete s[S.id]}function p(){for(const E in r)t.deleteBuffer(r[E]);o=[],r={},s={}}return{bind:l,update:c,dispose:p}}class O2{constructor(e={}){const{canvas:n=dG(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let f;i!==null?f=i.getContextAttributes().alpha:f=o;const g=new Uint32Array(4),_=new Int32Array(4);let w=null,m=null;const p=[],E=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Mn,this._useLegacyLights=!1,this.toneMapping=no,this.toneMappingExposure=1;const S=this;let M=!1,N=0,P=0,T=null,A=-1,R=null;const x=new Pn,C=new Pn;let O=null;const D=new Et(0);let B=0,te=n.width,Z=n.height,ne=1,z=null,W=null;const X=new Pn(0,0,te,Z),ie=new Pn(0,0,te,Z);let se=!1;const Se=new C2;let J=!1,re=!1,xe=null;const Me=new _n,Oe=new vt,Ce=new Y,st={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function He(){return T===null?ne:1}let G=i;function Kt(k,j){for(let K=0;K<k.length;K++){const Q=k[K],$=n.getContext(Q,j);if($!==null)return $}return null}try{const k={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${$x}`),n.addEventListener("webglcontextlost",gt,!1),n.addEventListener("webglcontextrestored",F,!1),n.addEventListener("webglcontextcreationerror",pe,!1),G===null){const j=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&j.shift(),G=Kt(j,k),G===null)throw Kt(j)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&G instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let Ne,ze,Pe,Pt,Xe,U,I,q,de,oe,ce,Ae,he,ye,ke,Ke,ae,mt,qe,Ge,Le,be,Ye,ft;function yt(){Ne=new A8(G),ze=new _8(G,Ne,e),Ne.init(ze),be=new d$(G,Ne,ze),Pe=new c$(G,Ne,ze),Pt=new R8(G),Xe=new K7,U=new u$(G,Ne,Pe,Xe,ze,be,Pt),I=new E8(S),q=new b8(S),de=new OG(G,ze),Ye=new v8(G,Ne,de,ze),oe=new M8(G,de,Pt,Ye),ce=new L8(G,oe,de,Pt),qe=new N8(G,ze,U),Ke=new x8(Xe),Ae=new X7(S,I,q,Ne,ze,Ye,Ke),he=new y$(S,Xe),ye=new Q7,ke=new i$(Ne,ze),mt=new g8(S,I,q,Pe,ce,f,l),ae=new l$(S,ce,ze),ft=new _$(G,Pt,ze,Pe),Ge=new y8(G,Ne,Pt,ze),Le=new C8(G,Ne,Pt,ze),Pt.programs=Ae.programs,S.capabilities=ze,S.extensions=Ne,S.properties=Xe,S.renderLists=ye,S.shadowMap=ae,S.state=Pe,S.info=Pt}yt();const tt=new v$(S,G);this.xr=tt,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const k=Ne.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=Ne.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(k){k!==void 0&&(ne=k,this.setSize(te,Z,!1))},this.getSize=function(k){return k.set(te,Z)},this.setSize=function(k,j,K=!0){if(tt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}te=k,Z=j,n.width=Math.floor(k*ne),n.height=Math.floor(j*ne),K===!0&&(n.style.width=k+"px",n.style.height=j+"px"),this.setViewport(0,0,k,j)},this.getDrawingBufferSize=function(k){return k.set(te*ne,Z*ne).floor()},this.setDrawingBufferSize=function(k,j,K){te=k,Z=j,ne=K,n.width=Math.floor(k*K),n.height=Math.floor(j*K),this.setViewport(0,0,k,j)},this.getCurrentViewport=function(k){return k.copy(x)},this.getViewport=function(k){return k.copy(X)},this.setViewport=function(k,j,K,Q){k.isVector4?X.set(k.x,k.y,k.z,k.w):X.set(k,j,K,Q),Pe.viewport(x.copy(X).multiplyScalar(ne).floor())},this.getScissor=function(k){return k.copy(ie)},this.setScissor=function(k,j,K,Q){k.isVector4?ie.set(k.x,k.y,k.z,k.w):ie.set(k,j,K,Q),Pe.scissor(C.copy(ie).multiplyScalar(ne).floor())},this.getScissorTest=function(){return se},this.setScissorTest=function(k){Pe.setScissorTest(se=k)},this.setOpaqueSort=function(k){z=k},this.setTransparentSort=function(k){W=k},this.getClearColor=function(k){return k.copy(mt.getClearColor())},this.setClearColor=function(){mt.setClearColor.apply(mt,arguments)},this.getClearAlpha=function(){return mt.getClearAlpha()},this.setClearAlpha=function(){mt.setClearAlpha.apply(mt,arguments)},this.clear=function(k=!0,j=!0,K=!0){let Q=0;if(k){let $=!1;if(T!==null){const Ee=T.texture.format;$=Ee===d2||Ee===u2||Ee===c2}if($){const Ee=T.texture.type,Re=Ee===io||Ee===Ws||Ee===qx||Ee===ea||Ee===a2||Ee===l2,Ue=mt.getClearColor(),Fe=mt.getClearAlpha(),Je=Ue.r,We=Ue.g,je=Ue.b;Re?(g[0]=Je,g[1]=We,g[2]=je,g[3]=Fe,G.clearBufferuiv(G.COLOR,0,g)):(_[0]=Je,_[1]=We,_[2]=je,_[3]=Fe,G.clearBufferiv(G.COLOR,0,_))}else Q|=G.COLOR_BUFFER_BIT}j&&(Q|=G.DEPTH_BUFFER_BIT),K&&(Q|=G.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),G.clear(Q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",gt,!1),n.removeEventListener("webglcontextrestored",F,!1),n.removeEventListener("webglcontextcreationerror",pe,!1),ye.dispose(),ke.dispose(),Xe.dispose(),I.dispose(),q.dispose(),ce.dispose(),Ye.dispose(),ft.dispose(),Ae.dispose(),tt.dispose(),tt.removeEventListener("sessionstart",Yn),tt.removeEventListener("sessionend",Qe),xe&&(xe.dispose(),xe=null),hn.stop()};function gt(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function F(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const k=Pt.autoReset,j=ae.enabled,K=ae.autoUpdate,Q=ae.needsUpdate,$=ae.type;yt(),Pt.autoReset=k,ae.enabled=j,ae.autoUpdate=K,ae.needsUpdate=Q,ae.type=$}function pe(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function me(k){const j=k.target;j.removeEventListener("dispose",me),we(j)}function we(k){De(k),Xe.remove(k)}function De(k){const j=Xe.get(k).programs;j!==void 0&&(j.forEach(function(K){Ae.releaseProgram(K)}),k.isShaderMaterial&&Ae.releaseShaderCache(k))}this.renderBufferDirect=function(k,j,K,Q,$,Ee){j===null&&(j=st);const Re=$.isMesh&&$.matrixWorld.determinant()<0,Ue=jd(k,j,K,Q,$);Pe.setMaterial(Q,Re);let Fe=K.index,Je=1;if(Q.wireframe===!0){if(Fe=oe.getWireframeAttribute(K),Fe===void 0)return;Je=2}const We=K.drawRange,je=K.attributes.position;let xt=We.start*Je,En=(We.start+We.count)*Je;Ee!==null&&(xt=Math.max(xt,Ee.start*Je),En=Math.min(En,(Ee.start+Ee.count)*Je)),Fe!==null?(xt=Math.max(xt,0),En=Math.min(En,Fe.count)):je!=null&&(xt=Math.max(xt,0),En=Math.min(En,je.count));const Zt=En-xt;if(Zt<0||Zt===1/0)return;Ye.setup($,Q,Ue,K,Fe);let Ni,At=Ge;if(Fe!==null&&(Ni=de.get(Fe),At=Le,At.setIndex(Ni)),$.isMesh)Q.wireframe===!0?(Pe.setLineWidth(Q.wireframeLinewidth*He()),At.setMode(G.LINES)):At.setMode(G.TRIANGLES);else if($.isLine){let Ze=Q.linewidth;Ze===void 0&&(Ze=1),Pe.setLineWidth(Ze*He()),$.isLineSegments?At.setMode(G.LINES):$.isLineLoop?At.setMode(G.LINE_LOOP):At.setMode(G.LINE_STRIP)}else $.isPoints?At.setMode(G.POINTS):$.isSprite&&At.setMode(G.TRIANGLES);if($.isBatchedMesh)At.renderMultiDraw($._multiDrawStarts,$._multiDrawCounts,$._multiDrawCount);else if($.isInstancedMesh)At.renderInstances(xt,Zt,$.count);else if(K.isInstancedBufferGeometry){const Ze=K._maxInstanceCount!==void 0?K._maxInstanceCount:1/0,To=Math.min(K.instanceCount,Ze);At.renderInstances(xt,Zt,To)}else At.render(xt,Zt)};function ct(k,j,K){k.transparent===!0&&k.side===Wr&&k.forceSinglePass===!1?(k.side=pi,k.needsUpdate=!0,Pa(k,j,K),k.side=co,k.needsUpdate=!0,Pa(k,j,K),k.side=Wr):Pa(k,j,K)}this.compile=function(k,j,K=null){K===null&&(K=k),m=ke.get(K),m.init(),E.push(m),K.traverseVisible(function($){$.isLight&&$.layers.test(j.layers)&&(m.pushLight($),$.castShadow&&m.pushShadow($))}),k!==K&&k.traverseVisible(function($){$.isLight&&$.layers.test(j.layers)&&(m.pushLight($),$.castShadow&&m.pushShadow($))}),m.setupLights(S._useLegacyLights);const Q=new Set;return k.traverse(function($){const Ee=$.material;if(Ee)if(Array.isArray(Ee))for(let Re=0;Re<Ee.length;Re++){const Ue=Ee[Re];ct(Ue,K,$),Q.add(Ue)}else ct(Ee,K,$),Q.add(Ee)}),E.pop(),m=null,Q},this.compileAsync=function(k,j,K=null){const Q=this.compile(k,j,K);return new Promise($=>{function Ee(){if(Q.forEach(function(Re){Xe.get(Re).currentProgram.isReady()&&Q.delete(Re)}),Q.size===0){$(k);return}setTimeout(Ee,10)}Ne.get("KHR_parallel_shader_compile")!==null?Ee():setTimeout(Ee,10)})};let _t=null;function Ut(k){_t&&_t(k)}function Yn(){hn.stop()}function Qe(){hn.start()}const hn=new R2;hn.setAnimationLoop(Ut),typeof self<"u"&&hn.setContext(self),this.setAnimationLoop=function(k){_t=k,tt.setAnimationLoop(k),k===null?hn.stop():hn.start()},tt.addEventListener("sessionstart",Yn),tt.addEventListener("sessionend",Qe),this.render=function(k,j){if(j!==void 0&&j.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),j.parent===null&&j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),tt.enabled===!0&&tt.isPresenting===!0&&(tt.cameraAutoUpdate===!0&&tt.updateCamera(j),j=tt.getCamera()),k.isScene===!0&&k.onBeforeRender(S,k,j,T),m=ke.get(k,E.length),m.init(),E.push(m),Me.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),Se.setFromProjectionMatrix(Me),re=this.localClippingEnabled,J=Ke.init(this.clippingPlanes,re),w=ye.get(k,p.length),w.init(),p.push(w),Ln(k,j,0,S.sortObjects),w.finish(),S.sortObjects===!0&&w.sort(z,W),this.info.render.frame++,J===!0&&Ke.beginShadows();const K=m.state.shadowsArray;if(ae.render(K,k,j),J===!0&&Ke.endShadows(),this.info.autoReset===!0&&this.info.reset(),(tt.enabled===!1||tt.isPresenting===!1||tt.hasDepthSensing()===!1)&&mt.render(w,k),m.setupLights(S._useLegacyLights),j.isArrayCamera){const Q=j.cameras;for(let $=0,Ee=Q.length;$<Ee;$++){const Re=Q[$];ys(w,k,Re,Re.viewport)}}else ys(w,k,j);T!==null&&(U.updateMultisampleRenderTarget(T),U.updateRenderTargetMipmap(T)),k.isScene===!0&&k.onAfterRender(S,k,j),Ye.resetDefaultState(),A=-1,R=null,E.pop(),E.length>0?m=E[E.length-1]:m=null,p.pop(),p.length>0?w=p[p.length-1]:w=null};function Ln(k,j,K,Q){if(k.visible===!1)return;if(k.layers.test(j.layers)){if(k.isGroup)K=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(j);else if(k.isLight)m.pushLight(k),k.castShadow&&m.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||Se.intersectsSprite(k)){Q&&Ce.setFromMatrixPosition(k.matrixWorld).applyMatrix4(Me);const Re=ce.update(k),Ue=k.material;Ue.visible&&w.push(k,Re,Ue,K,Ce.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||Se.intersectsObject(k))){const Re=ce.update(k),Ue=k.material;if(Q&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),Ce.copy(k.boundingSphere.center)):(Re.boundingSphere===null&&Re.computeBoundingSphere(),Ce.copy(Re.boundingSphere.center)),Ce.applyMatrix4(k.matrixWorld).applyMatrix4(Me)),Array.isArray(Ue)){const Fe=Re.groups;for(let Je=0,We=Fe.length;Je<We;Je++){const je=Fe[Je],xt=Ue[je.materialIndex];xt&&xt.visible&&w.push(k,Re,xt,K,Ce.z,je)}}else Ue.visible&&w.push(k,Re,Ue,K,Ce.z,null)}}const Ee=k.children;for(let Re=0,Ue=Ee.length;Re<Ue;Re++)Ln(Ee[Re],j,K,Q)}function ys(k,j,K,Q){const $=k.opaque,Ee=k.transmissive,Re=k.transparent;m.setupLightsView(K),J===!0&&Ke.setGlobalState(S.clippingPlanes,K),Ee.length>0&&tg($,Ee,j,K),Q&&Pe.viewport(x.copy(Q)),$.length>0&&Ra($,j,K),Ee.length>0&&Ra(Ee,j,K),Re.length>0&&Ra(Re,j,K),Pe.buffers.depth.setTest(!0),Pe.buffers.depth.setMask(!0),Pe.buffers.color.setMask(!0),Pe.setPolygonOffset(!1)}function tg(k,j,K,Q){if((K.isScene===!0?K.overrideMaterial:null)!==null)return;const Ee=ze.isWebGL2;xe===null&&(xe=new pa(1,1,{generateMipmaps:!0,type:Ne.has("EXT_color_buffer_half_float")?Yu:io,minFilter:Xo,samples:Ee?4:0})),S.getDrawingBufferSize(Oe),Ee?xe.setSize(Oe.x,Oe.y):xe.setSize(Iy(Oe.x),Iy(Oe.y));const Re=S.getRenderTarget();S.setRenderTarget(xe),S.getClearColor(D),B=S.getClearAlpha(),B<1&&S.setClearColor(16777215,.5),S.clear();const Ue=S.toneMapping;S.toneMapping=no,Ra(k,K,Q),U.updateMultisampleRenderTarget(xe),U.updateRenderTargetMipmap(xe);let Fe=!1;for(let Je=0,We=j.length;Je<We;Je++){const je=j[Je],xt=je.object,En=je.geometry,Zt=je.material,Ni=je.group;if(Zt.side===Wr&&xt.layers.test(Q.layers)){const At=Zt.side;Zt.side=pi,Zt.needsUpdate=!0,Dr(xt,K,Q,En,Zt,Ni),Zt.side=At,Zt.needsUpdate=!0,Fe=!0}}Fe===!0&&(U.updateMultisampleRenderTarget(xe),U.updateRenderTargetMipmap(xe)),S.setRenderTarget(Re),S.setClearColor(D,B),S.toneMapping=Ue}function Ra(k,j,K){const Q=j.isScene===!0?j.overrideMaterial:null;for(let $=0,Ee=k.length;$<Ee;$++){const Re=k[$],Ue=Re.object,Fe=Re.geometry,Je=Q===null?Re.material:Q,We=Re.group;Ue.layers.test(K.layers)&&Dr(Ue,j,K,Fe,Je,We)}}function Dr(k,j,K,Q,$,Ee){k.onBeforeRender(S,j,K,Q,$,Ee),k.modelViewMatrix.multiplyMatrices(K.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),$.onBeforeRender(S,j,K,Q,k,Ee),$.transparent===!0&&$.side===Wr&&$.forceSinglePass===!1?($.side=pi,$.needsUpdate=!0,S.renderBufferDirect(K,j,Q,$,k,Ee),$.side=co,$.needsUpdate=!0,S.renderBufferDirect(K,j,Q,$,k,Ee),$.side=Wr):S.renderBufferDirect(K,j,Q,$,k,Ee),k.onAfterRender(S,j,K,Q,$,Ee)}function Pa(k,j,K){j.isScene!==!0&&(j=st);const Q=Xe.get(k),$=m.state.lights,Ee=m.state.shadowsArray,Re=$.state.version,Ue=Ae.getParameters(k,$.state,Ee,j,K),Fe=Ae.getProgramCacheKey(Ue);let Je=Q.programs;Q.environment=k.isMeshStandardMaterial?j.environment:null,Q.fog=j.fog,Q.envMap=(k.isMeshStandardMaterial?q:I).get(k.envMap||Q.environment),Je===void 0&&(k.addEventListener("dispose",me),Je=new Map,Q.programs=Je);let We=Je.get(Fe);if(We!==void 0){if(Q.currentProgram===We&&Q.lightsStateVersion===Re)return wo(k,Ue),We}else Ue.uniforms=Ae.getUniforms(k),k.onBuild(K,Ue,S),k.onBeforeCompile(Ue,S),We=Ae.acquireProgram(Ue,Fe),Je.set(Fe,We),Q.uniforms=Ue.uniforms;const je=Q.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(je.clippingPlanes=Ke.uniform),wo(k,Ue),Q.needsLights=Ia(k),Q.lightsStateVersion=Re,Q.needsLights&&(je.ambientLightColor.value=$.state.ambient,je.lightProbe.value=$.state.probe,je.directionalLights.value=$.state.directional,je.directionalLightShadows.value=$.state.directionalShadow,je.spotLights.value=$.state.spot,je.spotLightShadows.value=$.state.spotShadow,je.rectAreaLights.value=$.state.rectArea,je.ltc_1.value=$.state.rectAreaLTC1,je.ltc_2.value=$.state.rectAreaLTC2,je.pointLights.value=$.state.point,je.pointLightShadows.value=$.state.pointShadow,je.hemisphereLights.value=$.state.hemi,je.directionalShadowMap.value=$.state.directionalShadowMap,je.directionalShadowMatrix.value=$.state.directionalShadowMatrix,je.spotShadowMap.value=$.state.spotShadowMap,je.spotLightMatrix.value=$.state.spotLightMatrix,je.spotLightMap.value=$.state.spotLightMap,je.pointShadowMap.value=$.state.pointShadowMap,je.pointShadowMatrix.value=$.state.pointShadowMatrix),Q.currentProgram=We,Q.uniformsList=null,We}function zd(k){if(k.uniformsList===null){const j=k.currentProgram.getUniforms();k.uniformsList=wf.seqWithValue(j.seq,k.uniforms)}return k.uniformsList}function wo(k,j){const K=Xe.get(k);K.outputColorSpace=j.outputColorSpace,K.batching=j.batching,K.instancing=j.instancing,K.instancingColor=j.instancingColor,K.skinning=j.skinning,K.morphTargets=j.morphTargets,K.morphNormals=j.morphNormals,K.morphColors=j.morphColors,K.morphTargetsCount=j.morphTargetsCount,K.numClippingPlanes=j.numClippingPlanes,K.numIntersection=j.numClipIntersection,K.vertexAlphas=j.vertexAlphas,K.vertexTangents=j.vertexTangents,K.toneMapping=j.toneMapping}function jd(k,j,K,Q,$){j.isScene!==!0&&(j=st),U.resetTextureUnits();const Ee=j.fog,Re=Q.isMeshStandardMaterial?j.environment:null,Ue=T===null?S.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:fs,Fe=(Q.isMeshStandardMaterial?q:I).get(Q.envMap||Re),Je=Q.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,We=!!K.attributes.tangent&&(!!Q.normalMap||Q.anisotropy>0),je=!!K.morphAttributes.position,xt=!!K.morphAttributes.normal,En=!!K.morphAttributes.color;let Zt=no;Q.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(Zt=S.toneMapping);const Ni=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,At=Ni!==void 0?Ni.length:0,Ze=Xe.get(Q),To=m.state.lights;if(J===!0&&(re===!0||k!==R)){const en=k===R&&Q.id===A;Ke.setState(Q,k,en)}let Mt=!1;Q.version===Ze.__version?(Ze.needsLights&&Ze.lightsStateVersion!==To.state.version||Ze.outputColorSpace!==Ue||$.isBatchedMesh&&Ze.batching===!1||!$.isBatchedMesh&&Ze.batching===!0||$.isInstancedMesh&&Ze.instancing===!1||!$.isInstancedMesh&&Ze.instancing===!0||$.isSkinnedMesh&&Ze.skinning===!1||!$.isSkinnedMesh&&Ze.skinning===!0||$.isInstancedMesh&&Ze.instancingColor===!0&&$.instanceColor===null||$.isInstancedMesh&&Ze.instancingColor===!1&&$.instanceColor!==null||Ze.envMap!==Fe||Q.fog===!0&&Ze.fog!==Ee||Ze.numClippingPlanes!==void 0&&(Ze.numClippingPlanes!==Ke.numPlanes||Ze.numIntersection!==Ke.numIntersection)||Ze.vertexAlphas!==Je||Ze.vertexTangents!==We||Ze.morphTargets!==je||Ze.morphNormals!==xt||Ze.morphColors!==En||Ze.toneMapping!==Zt||ze.isWebGL2===!0&&Ze.morphTargetsCount!==At)&&(Mt=!0):(Mt=!0,Ze.__version=Q.version);let fr=Ze.currentProgram;Mt===!0&&(fr=Pa(Q,j,$));let _c=!1,bo=!1,xc=!1;const an=fr.getUniforms(),pr=Ze.uniforms;if(Pe.useProgram(fr.program)&&(_c=!0,bo=!0,xc=!0),Q.id!==A&&(A=Q.id,bo=!0),_c||R!==k){an.setValue(G,"projectionMatrix",k.projectionMatrix),an.setValue(G,"viewMatrix",k.matrixWorldInverse);const en=an.map.cameraPosition;en!==void 0&&en.setValue(G,Ce.setFromMatrixPosition(k.matrixWorld)),ze.logarithmicDepthBuffer&&an.setValue(G,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(Q.isMeshPhongMaterial||Q.isMeshToonMaterial||Q.isMeshLambertMaterial||Q.isMeshBasicMaterial||Q.isMeshStandardMaterial||Q.isShaderMaterial)&&an.setValue(G,"isOrthographic",k.isOrthographicCamera===!0),R!==k&&(R=k,bo=!0,xc=!0)}if($.isSkinnedMesh){an.setOptional(G,$,"bindMatrix"),an.setOptional(G,$,"bindMatrixInverse");const en=$.skeleton;en&&(ze.floatVertexTextures?(en.boneTexture===null&&en.computeBoneTexture(),an.setValue(G,"boneTexture",en.boneTexture,U)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}$.isBatchedMesh&&(an.setOptional(G,$,"batchingTexture"),an.setValue(G,"batchingTexture",$._matricesTexture,U));const Ec=K.morphAttributes;if((Ec.position!==void 0||Ec.normal!==void 0||Ec.color!==void 0&&ze.isWebGL2===!0)&&qe.update($,K,fr),(bo||Ze.receiveShadow!==$.receiveShadow)&&(Ze.receiveShadow=$.receiveShadow,an.setValue(G,"receiveShadow",$.receiveShadow)),Q.isMeshGouraudMaterial&&Q.envMap!==null&&(pr.envMap.value=Fe,pr.flipEnvMap.value=Fe.isCubeTexture&&Fe.isRenderTargetTexture===!1?-1:1),bo&&(an.setValue(G,"toneMappingExposure",S.toneMappingExposure),Ze.needsLights&&yc(pr,xc),Ee&&Q.fog===!0&&he.refreshFogUniforms(pr,Ee),he.refreshMaterialUniforms(pr,Q,ne,Z,xe),wf.upload(G,zd(Ze),pr,U)),Q.isShaderMaterial&&Q.uniformsNeedUpdate===!0&&(wf.upload(G,zd(Ze),pr,U),Q.uniformsNeedUpdate=!1),Q.isSpriteMaterial&&an.setValue(G,"center",$.center),an.setValue(G,"modelViewMatrix",$.modelViewMatrix),an.setValue(G,"normalMatrix",$.normalMatrix),an.setValue(G,"modelMatrix",$.matrixWorld),Q.isShaderMaterial||Q.isRawShaderMaterial){const en=Q.uniformsGroups;for(let yi=0,Na=en.length;yi<Na;yi++)if(ze.isWebGL2){const Ao=en[yi];ft.update(Ao,fr),ft.bind(Ao,fr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return fr}function yc(k,j){k.ambientLightColor.needsUpdate=j,k.lightProbe.needsUpdate=j,k.directionalLights.needsUpdate=j,k.directionalLightShadows.needsUpdate=j,k.pointLights.needsUpdate=j,k.pointLightShadows.needsUpdate=j,k.spotLights.needsUpdate=j,k.spotLightShadows.needsUpdate=j,k.rectAreaLights.needsUpdate=j,k.hemisphereLights.needsUpdate=j}function Ia(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(k,j,K){Xe.get(k.texture).__webglTexture=j,Xe.get(k.depthTexture).__webglTexture=K;const Q=Xe.get(k);Q.__hasExternalTextures=!0,Q.__hasExternalTextures&&(Q.__autoAllocateDepthBuffer=K===void 0,Q.__autoAllocateDepthBuffer||Ne.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Q.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(k,j){const K=Xe.get(k);K.__webglFramebuffer=j,K.__useDefaultFramebuffer=j===void 0},this.setRenderTarget=function(k,j=0,K=0){T=k,N=j,P=K;let Q=!0,$=null,Ee=!1,Re=!1;if(k){const Fe=Xe.get(k);Fe.__useDefaultFramebuffer!==void 0?(Pe.bindFramebuffer(G.FRAMEBUFFER,null),Q=!1):Fe.__webglFramebuffer===void 0?U.setupRenderTarget(k):Fe.__hasExternalTextures&&U.rebindTextures(k,Xe.get(k.texture).__webglTexture,Xe.get(k.depthTexture).__webglTexture);const Je=k.texture;(Je.isData3DTexture||Je.isDataArrayTexture||Je.isCompressedArrayTexture)&&(Re=!0);const We=Xe.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(We[j])?$=We[j][K]:$=We[j],Ee=!0):ze.isWebGL2&&k.samples>0&&U.useMultisampledRTT(k)===!1?$=Xe.get(k).__webglMultisampledFramebuffer:Array.isArray(We)?$=We[K]:$=We,x.copy(k.viewport),C.copy(k.scissor),O=k.scissorTest}else x.copy(X).multiplyScalar(ne).floor(),C.copy(ie).multiplyScalar(ne).floor(),O=se;if(Pe.bindFramebuffer(G.FRAMEBUFFER,$)&&ze.drawBuffers&&Q&&Pe.drawBuffers(k,$),Pe.viewport(x),Pe.scissor(C),Pe.setScissorTest(O),Ee){const Fe=Xe.get(k.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+j,Fe.__webglTexture,K)}else if(Re){const Fe=Xe.get(k.texture),Je=j||0;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,Fe.__webglTexture,K||0,Je)}A=-1},this.readRenderTargetPixels=function(k,j,K,Q,$,Ee,Re){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ue=Xe.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&Re!==void 0&&(Ue=Ue[Re]),Ue){Pe.bindFramebuffer(G.FRAMEBUFFER,Ue);try{const Fe=k.texture,Je=Fe.format,We=Fe.type;if(Je!==ir&&be.convert(Je)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const je=We===Yu&&(Ne.has("EXT_color_buffer_half_float")||ze.isWebGL2&&Ne.has("EXT_color_buffer_float"));if(We!==io&&be.convert(We)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)&&!(We===$r&&(ze.isWebGL2||Ne.has("OES_texture_float")||Ne.has("WEBGL_color_buffer_float")))&&!je){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}j>=0&&j<=k.width-Q&&K>=0&&K<=k.height-$&&G.readPixels(j,K,Q,$,be.convert(Je),be.convert(We),Ee)}finally{const Fe=T!==null?Xe.get(T).__webglFramebuffer:null;Pe.bindFramebuffer(G.FRAMEBUFFER,Fe)}}},this.copyFramebufferToTexture=function(k,j,K=0){const Q=Math.pow(2,-K),$=Math.floor(j.image.width*Q),Ee=Math.floor(j.image.height*Q);U.setTexture2D(j,0),G.copyTexSubImage2D(G.TEXTURE_2D,K,0,0,k.x,k.y,$,Ee),Pe.unbindTexture()},this.copyTextureToTexture=function(k,j,K,Q=0){const $=j.image.width,Ee=j.image.height,Re=be.convert(K.format),Ue=be.convert(K.type);U.setTexture2D(K,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,K.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,K.unpackAlignment),j.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,Q,k.x,k.y,$,Ee,Re,Ue,j.image.data):j.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,Q,k.x,k.y,j.mipmaps[0].width,j.mipmaps[0].height,Re,j.mipmaps[0].data):G.texSubImage2D(G.TEXTURE_2D,Q,k.x,k.y,Re,Ue,j.image),Q===0&&K.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),Pe.unbindTexture()},this.copyTextureToTexture3D=function(k,j,K,Q,$=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ee=k.max.x-k.min.x+1,Re=k.max.y-k.min.y+1,Ue=k.max.z-k.min.z+1,Fe=be.convert(Q.format),Je=be.convert(Q.type);let We;if(Q.isData3DTexture)U.setTexture3D(Q,0),We=G.TEXTURE_3D;else if(Q.isDataArrayTexture||Q.isCompressedArrayTexture)U.setTexture2DArray(Q,0),We=G.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,Q.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,Q.unpackAlignment);const je=G.getParameter(G.UNPACK_ROW_LENGTH),xt=G.getParameter(G.UNPACK_IMAGE_HEIGHT),En=G.getParameter(G.UNPACK_SKIP_PIXELS),Zt=G.getParameter(G.UNPACK_SKIP_ROWS),Ni=G.getParameter(G.UNPACK_SKIP_IMAGES),At=K.isCompressedTexture?K.mipmaps[$]:K.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,At.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,At.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,k.min.x),G.pixelStorei(G.UNPACK_SKIP_ROWS,k.min.y),G.pixelStorei(G.UNPACK_SKIP_IMAGES,k.min.z),K.isDataTexture||K.isData3DTexture?G.texSubImage3D(We,$,j.x,j.y,j.z,Ee,Re,Ue,Fe,Je,At.data):K.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(We,$,j.x,j.y,j.z,Ee,Re,Ue,Fe,At.data)):G.texSubImage3D(We,$,j.x,j.y,j.z,Ee,Re,Ue,Fe,Je,At),G.pixelStorei(G.UNPACK_ROW_LENGTH,je),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,xt),G.pixelStorei(G.UNPACK_SKIP_PIXELS,En),G.pixelStorei(G.UNPACK_SKIP_ROWS,Zt),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Ni),$===0&&Q.generateMipmaps&&G.generateMipmap(We),Pe.unbindTexture()},this.initTexture=function(k){k.isCubeTexture?U.setTextureCube(k,0):k.isData3DTexture?U.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?U.setTexture2DArray(k,0):U.setTexture2D(k,0),Pe.unbindTexture()},this.resetState=function(){N=0,P=0,T=null,Pe.reset(),Ye.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Kr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===Xx?"display-p3":"srgb",n.unpackColorSpace=wt.workingColorSpace===Im?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Mn?na:f2}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===na?Mn:fs}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class x$ extends O2{}x$.prototype.isWebGL1Renderer=!0;class E$ extends gi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class U2 extends Pd{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Yb=new _n,Ly=new _2,Yh=new Nm,Qh=new Y;class S$ extends gi{constructor(e=new vs,n=new U2){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Yh.copy(i.boundingSphere),Yh.applyMatrix4(r),Yh.radius+=s,e.ray.intersectsSphere(Yh)===!1)return;Yb.copy(r).invert(),Ly.copy(e.ray).applyMatrix4(Yb);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,h=i.attributes.position;if(c!==null){const f=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let _=f,w=g;_<w;_++){const m=c.getX(_);Qh.fromBufferAttribute(h,m),Qb(Qh,m,l,r,e,n,this)}}else{const f=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let _=f,w=g;_<w;_++)Qh.fromBufferAttribute(h,_),Qb(Qh,_,l,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Qb(t,e,n,i,r,s,o){const a=Ly.distanceSqToPoint(t);if(a<n){const l=new Y;Ly.closestPointToPoint(t,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:$x}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=$x);const w$=()=>{const t=V.useRef(null),{darkMode:e}=Em();return V.useEffect(()=>{if(!t.current)return;const n=new E$,i=new Fi(85,window.innerWidth/window.innerHeight,.1,1e3);i.position.z=15;const r=new O2({alpha:!0,antialias:!0,powerPreference:"high-performance"});r.setSize(window.innerWidth,window.innerHeight),r.setPixelRatio(Math.min(window.devicePixelRatio,2)),t.current.appendChild(r.domElement);const s=(m,p,E,S)=>{const M=new vs,N=new Float32Array(m*3);for(let T=0;T<m*3;T+=3)N[T]=(Math.random()-.5)*p,N[T+1]=(Math.random()-.5)*p,N[T+2]=(Math.random()-.5)*p;M.setAttribute("position",new lr(N,3));const P=new U2({size:E,color:e?6619098:1096065,transparent:!0,opacity:S,blending:Sy});return new S$(M,P)},o=s(2e3,30,.02,.8),a=s(1500,25,.03,.6),l=s(1e3,20,.04,.4);n.add(o,a,l);let c=0,u=0,h=0,f=0;const g=m=>{c=m.clientX/window.innerWidth*2-1,u=-(m.clientY/window.innerHeight)*2+1};window.addEventListener("mousemove",g);const _=()=>{i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)};window.addEventListener("resize",_);const w=()=>{requestAnimationFrame(w),h+=(c-h)*.02,f+=(u-f)*.02,o.rotation.x+=2e-4,o.rotation.y+=3e-4,o.rotation.z+=f*2e-4,a.rotation.x+=3e-4,a.rotation.y+=4e-4,a.rotation.z+=h*3e-4,l.rotation.x+=4e-4,l.rotation.y+=5e-4,l.rotation.z+=(h+f)*4e-4,o.position.x=h*.2,o.position.y=f*.2,a.position.x=-h*.1,a.position.y=-f*.1,l.position.x=h*.15,l.position.y=f*.15,r.render(n,i)};return w(),()=>{var m;window.removeEventListener("mousemove",g),window.removeEventListener("resize",_),(m=t.current)==null||m.removeChild(r.domElement),o.geometry.dispose(),a.geometry.dispose(),l.geometry.dispose(),o.material.dispose(),a.material.dispose(),l.material.dispose()}},[e]),v.jsx("div",{ref:t,className:"w-full h-full"})};var Jb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},T$=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},V2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),i.push(n[u],n[h],n[f],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new b$;const f=s<<2|a>>4;if(i.push(f),c!==64){const g=a<<4&240|c>>2;if(i.push(g),h!==64){const _=c<<6&192|h;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A$=function(t){const e=F2(t);return V2.encodeByteArray(e,!0)},bp=function(t){return A$(t).replace(/\./g,"")},B2=function(t){try{return V2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=()=>M$().__FIREBASE_DEFAULTS__,R$=()=>{if(typeof process>"u"||typeof Jb>"u")return;const t=Jb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&B2(t[1]);return e&&JSON.parse(e)},Om=()=>{try{return C$()||R$()||P$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z2=t=>{var e,n;return(n=(e=Om())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},I$=t=>{const e=z2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},j2=()=>{var t;return(t=Om())===null||t===void 0?void 0:t.config},H2=t=>{var e;return(e=Om())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bp(JSON.stringify(n)),bp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function k$(){var t;const e=(t=Om())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V$(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function B$(){return!k$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G2(){try{return typeof indexedDB=="object"}catch{return!1}}function W2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function z$(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$="FirebaseError";class Lr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=j$,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Aa.prototype.create)}}class Aa{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?H$(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Lr(r,a,i)}}function H$(t,e){return t.replace(G$,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const G$=/\{\$([^}]+)}/g;function W$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ap(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Zb(s)&&Zb(o)){if(!Ap(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Zb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function iu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function $$(t,e){const n=new q$(t,e);return n.subscribe.bind(n)}class q${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");X$(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Uv),r.error===void 0&&(r.error=Uv),r.complete===void 0&&(r.complete=Uv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t){return t&&t._delegate?t._delegate:t}class dr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new N$;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q$(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Y$(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y$(t){return t===zo?void 0:t}function Q$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const Z$={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},eq=at.INFO,tq={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},nq=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=tq[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yx{constructor(e){this.name=e,this._logLevel=eq,this._logHandler=nq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const iq=(t,e)=>e.some(n=>t instanceof n);let eA,tA;function rq(){return eA||(eA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sq(){return tA||(tA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $2=new WeakMap,Dy=new WeakMap,q2=new WeakMap,Fv=new WeakMap,Qx=new WeakMap;function oq(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ss(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$2.set(n,t)}).catch(()=>{}),Qx.set(e,t),e}function aq(t){if(Dy.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dy.set(t,e)}let ky={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lq(t){ky=t(ky)}function cq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Vv(this),e,...n);return q2.set(i,e.sort?e.sort():[e]),ss(i)}:sq().includes(t)?function(...e){return t.apply(Vv(this),e),ss($2.get(this))}:function(...e){return ss(t.apply(Vv(this),e))}}function uq(t){return typeof t=="function"?cq(t):(t instanceof IDBTransaction&&aq(t),iq(t,rq())?new Proxy(t,ky):t)}function ss(t){if(t instanceof IDBRequest)return oq(t);if(Fv.has(t))return Fv.get(t);const e=uq(t);return e!==t&&(Fv.set(t,e),Qx.set(e,t)),e}const Vv=t=>Qx.get(t);function Um(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=ss(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ss(o.result),l.oldVersion,l.newVersion,ss(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function Bv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",i=>e(i.oldVersion,i)),ss(n).then(()=>{})}const dq=["get","getKey","getAll","getAllKeys","count"],hq=["put","add","delete","clear"],zv=new Map;function nA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zv.get(e))return zv.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=hq.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||dq.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return zv.set(e,s),s}lq(t=>({...t,get:(e,n,i)=>nA(e,n)||t.get(e,n,i),has:(e,n)=>!!nA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pq(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function pq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Oy="@firebase/app",iA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Yx("@firebase/app"),mq="@firebase/app-compat",gq="@firebase/analytics-compat",vq="@firebase/analytics",yq="@firebase/app-check-compat",_q="@firebase/app-check",xq="@firebase/auth",Eq="@firebase/auth-compat",Sq="@firebase/database",wq="@firebase/data-connect",Tq="@firebase/database-compat",bq="@firebase/functions",Aq="@firebase/functions-compat",Mq="@firebase/installations",Cq="@firebase/installations-compat",Rq="@firebase/messaging",Pq="@firebase/messaging-compat",Iq="@firebase/performance",Nq="@firebase/performance-compat",Lq="@firebase/remote-config",Dq="@firebase/remote-config-compat",kq="@firebase/storage",Oq="@firebase/storage-compat",Uq="@firebase/firestore",Fq="@firebase/vertexai-preview",Vq="@firebase/firestore-compat",Bq="firebase",zq="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="[DEFAULT]",jq={[Oy]:"fire-core",[mq]:"fire-core-compat",[vq]:"fire-analytics",[gq]:"fire-analytics-compat",[_q]:"fire-app-check",[yq]:"fire-app-check-compat",[xq]:"fire-auth",[Eq]:"fire-auth-compat",[Sq]:"fire-rtdb",[wq]:"fire-data-connect",[Tq]:"fire-rtdb-compat",[bq]:"fire-fn",[Aq]:"fire-fn-compat",[Mq]:"fire-iid",[Cq]:"fire-iid-compat",[Rq]:"fire-fcm",[Pq]:"fire-fcm-compat",[Iq]:"fire-perf",[Nq]:"fire-perf-compat",[Lq]:"fire-rc",[Dq]:"fire-rc-compat",[kq]:"fire-gcs",[Oq]:"fire-gcs-compat",[Uq]:"fire-fst",[Vq]:"fire-fst-compat",[Fq]:"fire-vertex","fire-js":"fire-js",[Bq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=new Map,Hq=new Map,Fy=new Map;function rA(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rr(t){const e=t.name;if(Fy.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Fy.set(e,t);for(const n of Mp.values())rA(n,t);for(const n of Hq.values())rA(n,t);return!0}function hc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ro=new Aa("app","Firebase",Gq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=zq;function X2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Uy,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw ro.create("bad-app-name",{appName:String(r)});if(n||(n=j2()),!n)throw ro.create("no-options");const s=Mp.get(r);if(s){if(Ap(n,s.options)&&Ap(i,s.config))return s;throw ro.create("duplicate-app",{appName:r})}const o=new J$(r);for(const l of Fy.values())o.addComponent(l);const a=new Wq(n,i,o);return Mp.set(r,a),a}function Jx(t=Uy){const e=Mp.get(t);if(!e&&t===Uy&&j2())return X2();if(!e)throw ro.create("no-app",{appName:t});return e}function ji(t,e,n){var i;let r=(i=jq[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(a.join(" "));return}Rr(new dr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q="firebase-heartbeat-database",qq=1,Qu="firebase-heartbeat-store";let jv=null;function K2(){return jv||(jv=Um($q,qq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ro.create("idb-open",{originalErrorMessage:t.message})})),jv}async function Xq(t){try{const n=(await K2()).transaction(Qu),i=await n.objectStore(Qu).get(Y2(t));return await n.done,i}catch(e){if(e instanceof Lr)ps.warn(e.message);else{const n=ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function sA(t,e){try{const i=(await K2()).transaction(Qu,"readwrite");await i.objectStore(Qu).put(e,Y2(t)),await i.done}catch(n){if(n instanceof Lr)ps.warn(n.message);else{const i=ro.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(i.message)}}}function Y2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=1024,Yq=30*24*60*60*1e3;class Qq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zq(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Yq}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ps.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oA(),{heartbeatsToSend:i,unsentEntries:r}=Jq(this._heartbeatsCache.heartbeats),s=bp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ps.warn(n),""}}}function oA(){return new Date().toISOString().substring(0,10)}function Jq(t,e=Kq){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),aA(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),aA(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Zq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G2()?W2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Xq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return sA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return sA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function aA(t){return bp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(t){Rr(new dr("platform-logger",e=>new fq(e),"PRIVATE")),Rr(new dr("heartbeat",e=>new Qq(e),"PRIVATE")),ji(Oy,iA,t),ji(Oy,iA,"esm2017"),ji("fire-js","")}eX("");var tX="firebase",nX="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(tX,nX,"app");const Q2="@firebase/installations",Zx="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=1e4,Z2=`w:${Zx}`,eN="FIS_v2",iX="https://firebaseinstallations.googleapis.com/v1",rX=60*60*1e3,sX="installations",oX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ma=new Aa(sX,oX,aX);function tN(t){return t instanceof Lr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN({projectId:t}){return`${iX}/projects/${t}/installations`}function iN(t){return{token:t.token,requestStatus:2,expiresIn:cX(t.expiresIn),creationTime:Date.now()}}async function rN(t,e){const i=(await e.json()).error;return ma.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function sN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lX(t,{refreshToken:e}){const n=sN(t);return n.append("Authorization",uX(e)),n}async function oN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cX(t){return Number(t.replace("s","000"))}function uX(t){return`${eN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dX({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=nN(t),r=sN(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={fid:n,authVersion:eN,appId:t.appId,sdkVersion:Z2},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await oN(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:iN(c.authToken)}}else throw await rN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fX=/^[cdef][\w-]{21}$/,Vy="";function pX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=mX(t);return fX.test(n)?n:Vy}catch{return Vy}}function mX(t){return hX(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Map;function cN(t,e){const n=Fm(t);uN(n,e),gX(n,e)}function uN(t,e){const n=lN.get(t);if(n)for(const i of n)i(e)}function gX(t,e){const n=vX();n&&n.postMessage({key:t,fid:e}),yX()}let Ko=null;function vX(){return!Ko&&"BroadcastChannel"in self&&(Ko=new BroadcastChannel("[Firebase] FID Change"),Ko.onmessage=t=>{uN(t.data.key,t.data.fid)}),Ko}function yX(){lN.size===0&&Ko&&(Ko.close(),Ko=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _X="firebase-installations-database",xX=1,ga="firebase-installations-store";let Hv=null;function eE(){return Hv||(Hv=Um(_X,xX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ga)}}})),Hv}async function Cp(t,e){const n=Fm(t),r=(await eE()).transaction(ga,"readwrite"),s=r.objectStore(ga),o=await s.get(n);return await s.put(e,n),await r.done,(!o||o.fid!==e.fid)&&cN(t,e.fid),e}async function dN(t){const e=Fm(t),i=(await eE()).transaction(ga,"readwrite");await i.objectStore(ga).delete(e),await i.done}async function Vm(t,e){const n=Fm(t),r=(await eE()).transaction(ga,"readwrite"),s=r.objectStore(ga),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&cN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(t){let e;const n=await Vm(t.appConfig,i=>{const r=EX(i),s=SX(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===Vy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function EX(t){const e=t||{fid:pX(),registrationStatus:0};return hN(e)}function SX(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(ma.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=wX(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TX(t)}:{installationEntry:e}}async function wX(t,e){try{const n=await dX(t,e);return Cp(t.appConfig,n)}catch(n){throw tN(n)&&n.customData.serverCode===409?await dN(t.appConfig):await Cp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function TX(t){let e=await lA(t.appConfig);for(;e.registrationStatus===1;)await aN(100),e=await lA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await tE(t);return i||n}return e}function lA(t){return Vm(t,e=>{if(!e)throw ma.create("installation-not-found");return hN(e)})}function hN(t){return bX(t)?{fid:t.fid,registrationStatus:0}:t}function bX(t){return t.registrationStatus===1&&t.registrationTime+J2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AX({appConfig:t,heartbeatServiceProvider:e},n){const i=MX(t,n),r=lX(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const o={installation:{sdkVersion:Z2,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await oN(()=>fetch(i,a));if(l.ok){const c=await l.json();return iN(c)}else throw await rN("Generate Auth Token",l)}function MX(t,{fid:e}){return`${nN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(t,e=!1){let n;const i=await Vm(t.appConfig,s=>{if(!fN(s))throw ma.create("not-registered");const o=s.authToken;if(!e&&PX(o))return s;if(o.requestStatus===1)return n=CX(t,e),s;{if(!navigator.onLine)throw ma.create("app-offline");const a=NX(s);return n=RX(t,a),a}});return n?await n:i.authToken}async function CX(t,e){let n=await cA(t.appConfig);for(;n.authToken.requestStatus===1;)await aN(100),n=await cA(t.appConfig);const i=n.authToken;return i.requestStatus===0?nE(t,e):i}function cA(t){return Vm(t,e=>{if(!fN(e))throw ma.create("not-registered");const n=e.authToken;return LX(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function RX(t,e){try{const n=await AX(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Cp(t.appConfig,i),n}catch(n){if(tN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dN(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Cp(t.appConfig,i)}throw n}}function fN(t){return t!==void 0&&t.registrationStatus===2}function PX(t){return t.requestStatus===2&&!IX(t)}function IX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rX}function NX(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function LX(t){return t.requestStatus===1&&t.requestTime+J2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DX(t){const e=t,{installationEntry:n,registrationPromise:i}=await tE(e);return i?i.catch(console.error):nE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kX(t,e=!1){const n=t;return await OX(n),(await nE(n,e)).token}async function OX(t){const{registrationPromise:e}=await tE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(t){if(!t||!t.options)throw Gv("App Configuration");if(!t.name)throw Gv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Gv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Gv(t){return ma.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="installations",FX="installations-internal",VX=t=>{const e=t.getProvider("app").getImmediate(),n=UX(e),i=hc(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},BX=t=>{const e=t.getProvider("app").getImmediate(),n=hc(e,pN).getImmediate();return{getId:()=>DX(n),getToken:r=>kX(n,r)}};function zX(){Rr(new dr(pN,VX,"PUBLIC")),Rr(new dr(FX,BX,"PRIVATE"))}zX();ji(Q2,Zx);ji(Q2,Zx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX="/firebase-messaging-sw.js",HX="/firebase-cloud-messaging-push-scope",mN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",GX="https://fcmregistrations.googleapis.com/v1",gN="google.c.a.c_id",WX="google.c.a.c_l",$X="google.c.a.ts",qX="google.c.a.e";var uA;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(uA||(uA={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ju;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ju||(Ju={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function XX(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="fcm_token_details_db",KX=5,dA="fcm_token_object_Store";async function YX(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Wv))return null;let e=null;return(await Um(Wv,KX,{upgrade:async(i,r,s,o)=>{var a;if(r<2||!i.objectStoreNames.contains(dA))return;const l=o.objectStore(dA),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(r===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Hr(u.vapidKey)}}}else if(r===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Hr(u.auth),p256dh:Hr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Hr(u.vapidKey)}}}else if(r===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Hr(u.auth),p256dh:Hr(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Hr(u.vapidKey)}}}}}})).close(),await Bv(Wv),await Bv("fcm_vapid_details_db"),await Bv("undefined"),QX(e)?e:null}function QX(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JX="firebase-messaging-database",ZX=1,Zu="firebase-messaging-store";let $v=null;function vN(){return $v||($v=Um(JX,ZX,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zu)}}})),$v}async function eK(t){const e=yN(t),i=await(await vN()).transaction(Zu).objectStore(Zu).get(e);if(i)return i;{const r=await YX(t.appConfig.senderId);if(r)return await iE(t,r),r}}async function iE(t,e){const n=yN(t),r=(await vN()).transaction(Zu,"readwrite");return await r.objectStore(Zu).put(e,n),await r.done,e}function yN({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},$n=new Aa("messaging","Messaging",tK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nK(t,e){const n=await sE(t),i=_N(e),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(rE(t.appConfig),r)).json()}catch(o){throw $n.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw $n.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw $n.create("token-subscribe-no-token");return s.token}async function iK(t,e){const n=await sE(t),i=_N(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=await(await fetch(`${rE(t.appConfig)}/${e.token}`,r)).json()}catch(o){throw $n.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(s.error){const o=s.error.message;throw $n.create("token-update-failed",{errorInfo:o})}if(!s.token)throw $n.create("token-update-no-token");return s.token}async function rK(t,e){const i={method:"DELETE",headers:await sE(t)};try{const s=await(await fetch(`${rE(t.appConfig)}/${e}`,i)).json();if(s.error){const o=s.error.message;throw $n.create("token-unsubscribe-failed",{errorInfo:o})}}catch(r){throw $n.create("token-unsubscribe-failed",{errorInfo:r==null?void 0:r.toString()})}}function rE({projectId:t}){return`${GX}/projects/${t}/registrations`}async function sE({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function _N({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:e,p256dh:t}};return i!==mN&&(r.web.applicationPubKey=i),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK=7*24*60*60*1e3;async function oK(t){const e=await lK(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Hr(e.getKey("auth")),p256dh:Hr(e.getKey("p256dh"))},i=await eK(t.firebaseDependencies);if(i){if(cK(i.subscriptionOptions,n))return Date.now()>=i.createTime+sK?aK(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await rK(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return hA(t.firebaseDependencies,n)}else return hA(t.firebaseDependencies,n)}async function aK(t,e){try{const n=await iK(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await iE(t.firebaseDependencies,i),n}catch(n){throw n}}async function hA(t,e){const i={token:await nK(t,e),createTime:Date.now(),subscriptionOptions:e};return await iE(t,i),i.token}async function lK(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:XX(e)})}function cK(t,e){const n=e.vapidKey===t.vapidKey,i=e.endpoint===t.endpoint,r=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&i&&r&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return uK(e,t),dK(e,t),hK(e,t),e}function uK(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const r=e.notification.image;r&&(t.notification.image=r);const s=e.notification.icon;s&&(t.notification.icon=s)}function dK(t,e){e.data&&(t.data=e.data)}function hK(t,e){var n,i,r,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(r=(i=e.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&r!==void 0?r:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(t){return typeof t=="object"&&!!t&&gN in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(t){if(!t||!t.options)throw qv("App Configuration Object");if(!t.name)throw qv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw qv(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function qv(t){return $n.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=pK(e);this.firebaseDependencies={app:e,appConfig:r,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gK(t){try{t.swRegistration=await navigator.serviceWorker.register(jX,{scope:HX}),t.swRegistration.update().catch(()=>{})}catch(e){throw $n.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vK(t,e){if(!e&&!t.swRegistration&&await gK(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yK(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=mN)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e){if(!navigator)throw $n.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw $n.create("permission-blocked");return await yK(t,e==null?void 0:e.vapidKey),await vK(t,e==null?void 0:e.serviceWorkerRegistration),oK(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _K(t,e,n){const i=xK(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[gN],message_name:n[WX],message_time:n[$X],message_device_time:Math.floor(Date.now()/1e3)})}function xK(t){switch(t){case Ju.NOTIFICATION_CLICKED:return"notification_open";case Ju.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EK(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ju.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(fA(n)):t.onMessageHandler.next(fA(n)));const i=n.data;fK(i)&&i[qX]==="1"&&await _K(t,n.messageType,i)}const pA="@firebase/messaging",mA="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK=t=>{const e=new mK(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>EK(e,n)),e},wK=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>xN(e,i)}};function TK(){Rr(new dr("messaging",SK,"PUBLIC")),Rr(new dr("messaging-internal",wK,"PRIVATE")),ji(pA,mA),ji(pA,mA,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bK(){try{await W2()}catch{return!1}return typeof window<"u"&&G2()&&z$()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AK(t,e){if(!navigator)throw $n.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t=Jx()){return bK().then(e=>{if(!e)throw $n.create("unsupported-browser")},e=>{throw $n.create("indexed-db-unsupported")}),hc(ii(t),"messaging").getImmediate()}async function SN(t,e){return t=ii(t),xN(t,e)}function MK(t,e){return t=ii(t),AK(t,e)}TK();const CK={apiKey:"AIzaSyCwj0tO_tyYMmGqJSSFxssTdzmV8z-96rk",authDomain:"ri-yan.firebaseapp.com",projectId:"ri-yan",storageBucket:"ri-yan.firebasestorage.app",messagingSenderId:"836329298716",appId:"1:836329298716:web:b808e5a6cdcb78872038d9"},Bm=X2(CK),wN=EN(Bm),RK=async()=>{try{if(await Notification.requestPermission()==="granted")return await SN(wN,{vapidKey:void 0})}catch(t){console.error("Notification permission error:",t)}},PK=()=>new Promise(t=>{MK(wN,e=>{t(e)})}),IK=()=>{const[t,e]=V.useState({title:"",body:""}),[n,i]=V.useState(!1);return V.useEffect(()=>{(async()=>{try{await RK()&&i(!0)}catch(s){console.error("Error getting notification token:",s)}})()},[]),V.useEffect(()=>(PK().then(r=>{var s,o;e({title:((s=r==null?void 0:r.notification)==null?void 0:s.title)||"",body:((o=r==null?void 0:r.notification)==null?void 0:o.body)||""})}),()=>{}),[]),{notification:t,isTokenFound:n}},NK=()=>{const t=Ai(CF),{notification:e}=IK(),n=V.useRef(null),{scrollYProgress:i}=t2(),r=yp(i,[0,1],[0,300]),s=yp(i,[0,.5],[1,0]),[o,a]=V.useState(0);return V.useEffect(()=>{const l=setInterval(()=>{a(c=>(c+1)%t.images.length)},3e3);return()=>clearInterval(l)},[]),V.useEffect(()=>{e.title&&console.log("New notification:",e)},[e]),V.useEffect(()=>{const l=c=>{if(!n.current)return;const u=n.current.getBoundingClientRect(),h=c.clientX-u.left,f=c.clientY-u.top;n.current.style.setProperty("--mouse-x",`${h}px`),n.current.style.setProperty("--mouse-y",`${f}px`)};return window.addEventListener("mousemove",l),()=>window.removeEventListener("mousemove",l)},[]),v.jsxs("section",{id:"hero",className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-20 pb-20",children:[v.jsxs("div",{className:"absolute inset-0 -z-0",children:[v.jsx(w$,{}),v.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_var(--mouse-x)_var(--mouse-y),rgba(0,245,160,0.15),transparent_50%)] dark:bg-[radial-gradient(circle_at_var(--mouse-x)_var(--mouse-y),rgba(0,245,160,0.1),transparent_50%)]"})]}),v.jsxs(_e.div,{ref:n,style:{y:r,opacity:s},className:"container relative z-10",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[v.jsxs("div",{className:"max-w-3xl",children:[v.jsxs(_e.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-6xl sm:text-7xl md:text-8xl font-bold mb-6",children:[v.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5]",children:t.title.main}),v.jsx("br",{}),v.jsx("span",{className:"text-gray-800 dark:text-white",children:t.title.sub})]}),v.jsx(_e.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300 mb-12 max-w-2xl",children:t.description}),v.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex flex-wrap gap-6",children:[v.jsxs(Ml,{to:t.buttons.primary.target,spy:!0,smooth:!0,offset:-80,duration:500,className:"group relative px-8 py-4 overflow-hidden rounded-full bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] text-white font-medium",children:[v.jsx("span",{className:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),v.jsxs("span",{className:"relative flex items-center",children:[t.buttons.primary.text," ",v.jsx(B4,{size:20,className:"ml-2"})]})]}),v.jsxs(Ml,{to:t.buttons.secondary.target,spy:!0,smooth:!0,offset:-80,duration:500,className:"group relative px-8 py-4 overflow-hidden rounded-full bg-transparent border-2 border-[#00F5A0] text-[#00F5A0] font-medium transition-colors hover:text-white",children:[v.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] transform translate-x-full group-hover:translate-x-0 transition-transform duration-300"}),v.jsx("span",{className:"relative",children:t.buttons.secondary.text})]})]}),v.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"mt-16 flex items-center space-x-8",children:t.socialLinks.map((l,c)=>{const u=l.icon==="GitHub"?Hl:l.icon==="Linkedin"?iy:l.icon==="Twitter"?EP:up;return v.jsx(_e.a,{href:l.url,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5+c*.1},className:"group relative p-4 rounded-full bg-white/5 backdrop-blur-sm border border-white/10 hover:border-white/20 transition-colors","aria-label":l.platform,children:v.jsx(u,{className:"w-6 h-6 text-gray-600 dark:text-gray-300 group-hover:text-[#00F5A0] transition-colors"})},l.platform)})})]}),v.jsx("div",{className:"hidden md:block relative",children:v.jsx(dx,{mode:"wait",children:v.jsxs(_e.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5},className:"relative group",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00F5A0]/10 to-[#00D9F5]/10 rounded-2xl transform scale-105 opacity-0 group-hover:opacity-100 transition-all duration-300"}),v.jsx("img",{src:t.images[o],alt:`Slide ${o}`,className:"w-full h-[490px] object-cover rounded-b-2xl shadow-white"}),v.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/50 via-gray/50 to-transparent rounded-b-2xl",children:v.jsx("p",{className:"text-white text-lg font-medium text-center",children:t.quotes[o]})})]},o)})})]}),v.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},className:"hidden sm:absolute sm:bottom-8 sm:left-1/2 sm:transform sm:-translate-x-1/2 sm:block pointer-events-none",children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:"w-1 h-10 rounded-full bg-gradient-to-b from-[#00F5A0] to-transparent"}),v.jsx("span",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Scroll to explore"})]})})]})]})},LK={Code2:v.jsx(lx,{size:24}),Cpu:v.jsx(W4,{size:24}),Globe:v.jsx(X4,{size:24}),Codepen:v.jsx(G4,{size:24})},DK=()=>{var s,o;const t=V.useRef(null),e=Eo(t,{once:!0,margin:"-100px"}),n=Ai(RF),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return v.jsx("section",{id:"about",className:"section-padding bg-gray-50 dark:bg-navy-light",children:v.jsx("div",{className:"container",children:v.jsxs(_e.div,{ref:t,initial:"hidden",animate:e?"visible":"hidden",variants:i,className:"max-w-4xl mx-auto",children:[v.jsxs(_e.div,{variants:r,className:"text-center mb-12",children:[v.jsx("h2",{className:"section-title",children:n==null?void 0:n.title}),v.jsx("p",{className:"text-gray-600 dark:text-slate-light mt-6",children:n==null?void 0:n.subtitle})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[v.jsxs(_e.div,{variants:r,children:[v.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:(n==null?void 0:n.introTitle)||"Get to know me!"}),v.jsx("div",{className:"space-y-4 text-gray-600 dark:text-slate-light",children:(s=n==null?void 0:n.intro)==null?void 0:s.map((a,l)=>v.jsx("p",{dangerouslySetInnerHTML:{__html:a}},l))})]}),v.jsxs(_e.div,{variants:r,children:[v.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white",children:n==null?void 0:n.servicesTitle}),v.jsx("div",{className:"space-y-6",children:(o=n==null?void 0:n.services)==null?void 0:o.map((a,l)=>v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"flex-shrink-0 mr-4",children:v.jsx("div",{className:"w-12 h-12 bg-teal-100 dark:bg-teal-900/30 text-teal-500 dark:text-teal-default rounded-lg flex items-center justify-center",children:LK[a.icon]||v.jsx(lx,{size:24})})}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-semibold mb-1 text-gray-800 dark:text-white",children:a.title}),v.jsx("p",{className:"text-gray-600 dark:text-slate-light",children:a.description})]})]},l))})]})]})]})})})},kK={Palette:tB,Globe2:$4,Layers:K4,Code2:lx,LineChart:Y4,Megaphone:J4},OK=()=>{var i;const t=V.useRef(null),e=Eo(t,{once:!0,margin:"-10%"}),n=Ai(PF);return v.jsxs("section",{id:"services",className:"relative py-32 overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-[#00F5A0]/5 to-transparent dark:from-transparent dark:via-[#00F5A0]/2 dark:to-transparent"}),v.jsx("div",{ref:t,className:"container relative",children:v.jsxs(_e.div,{initial:{opacity:0},animate:e?{opacity:1}:{opacity:0},transition:{duration:1},className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-20",children:[v.jsxs(_e.h2,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5},className:"text-4xl md:text-5xl font-bold mb-6",children:["Services",v.jsxs("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] ml-2",children:["< I />"," Provide"]})]}),v.jsx(_e.p,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.1},className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:n==null?void 0:n.subtitle})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:(i=n==null?void 0:n.items)==null?void 0:i.map((r,s)=>{const o=kK[r.icon];return v.jsx(_e.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:s*.1},className:"group relative",children:v.jsxs("div",{className:"relative h-full overflow-hidden rounded-2xl bg-white/10 dark:bg-white/5 backdrop-blur-xl border border-white/10 hover:border-white/20 p-8 transition-all duration-300",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent dark:from-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:`w-16 h-16 mb-6 rounded-2xl bg-gradient-to-r ${r.gradient} p-0.5`,children:v.jsx("div",{className:"w-full h-full rounded-2xl bg-white/10 backdrop-blur-xl flex items-center justify-center",children:v.jsx(o,{className:"w-8 h-8 text-white"})})}),v.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800 dark:text-white group-hover:text-[#00F5A0] transition-colors",children:r.title}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:r.description}),v.jsx("div",{className:"absolute bottom-8 left-8 right-8",children:v.jsx("div",{className:"h-[1px] w-full bg-gradient-to-r from-transparent via-[#00F5A0]/20 to-transparent transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500"})})]})]})},r.title)})})]})})]})},UK=({name:t,level:e,index:n})=>{const i=V.useRef(null),r=Eo(i,{once:!0});return v.jsxs(_e.div,{ref:i,initial:{opacity:0,x:-20},animate:r?{opacity:1,x:0}:{opacity:0,x:-20},transition:{duration:.5,delay:n*.1},className:"mb-6 last:mb-0",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:t}),v.jsxs("span",{className:"text-[#00F5A0] dark:text-[#00F5A0]",children:[e,"%"]})]}),v.jsx("div",{className:"h-2 bg-gray-200/50 dark:bg-navy-light/50 backdrop-blur-sm rounded-full overflow-hidden",children:v.jsx(_e.div,{initial:{width:0},animate:r?{width:`${e}%`}:{width:0},transition:{duration:1,delay:n*.1},className:"h-full rounded-full bg-gradient-to-r from-[#00F5A0] to-[#00D9F5]"})})]})},FK=()=>{const t=Ai(IF),e=V.useRef(null),n=Eo(e,{once:!0,margin:"-10%"});return v.jsxs("section",{id:"skills",className:"relative py-32 overflow-hidden bg-gray-50/50 dark:bg-navy-light/20 backdrop-blur-sm",children:[v.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_var(--mouse-x)_var(--mouse-y),rgba(0,245,160,0.1),transparent_50%)] dark:bg-[radial-gradient(circle_at_var(--mouse-x)_var(--mouse-y),rgba(0,245,160,0.05),transparent_50%)]"}),v.jsx("div",{ref:e,className:"container relative",children:v.jsxs(_e.div,{initial:{opacity:0},animate:n?{opacity:1}:{opacity:0},transition:{duration:1},className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-20",children:[v.jsx(_e.h2,{initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5},className:"text-4xl md:text-5xl font-bold mb-6",children:v.jsx("span",{dangerouslySetInnerHTML:{__html:'My <span class="bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] ml-2">Expertise</span>'}})}),v.jsx(_e.p,{initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.1},className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:t.subtitle})]}),v.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.categories.map((i,r)=>v.jsx(_e.div,{initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:r*.2},className:"group",children:v.jsxs("div",{className:"relative h-full overflow-hidden rounded-2xl  dark:bg-navy-default/40 backdrop-blur-xl border border-white/10 dark:border-white/5 p-8 hover:border-white/20 dark:hover:border-white/10 transition-all duration-300 transform hover:scale-[1.02]",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#00F5A0]/5 to-[#00D9F5]/5 dark:from-[#00F5A0]/10 dark:to-[#00D9F5]/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),v.jsxs("div",{className:"relative",children:[v.jsx("h3",{className:"text-2xl font-bold mb-8 bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5]",children:i.category}),v.jsx("div",{children:i.items.map((s,o)=>v.jsx(UK,{name:s.name,level:s.level,index:o},s.name))})]})]})},i.category))})]})})]})},VK=({project:t,index:e})=>{const n=V.useRef(null),{scrollYProgress:i}=t2({target:n,offset:["start end","end start"]}),r=yp(i,[0,1],[100,-100]),s=yp(i,[0,.3,.6,1],[0,1,1,0]);return Ai(FR),v.jsx(_e.div,{ref:n,style:{y:r,opacity:s},className:"group relative mb-32 last:mb-0",children:v.jsxs("div",{className:"relative grid md:grid-cols-12 gap-8 items-center",children:[v.jsx("div",{className:`md:col-span-7 ${e%2===0?"md:order-1":"md:order-2"}`,children:v.jsxs("div",{className:"relative group overflow-hidden rounded-xl",children:[v.jsxs(_e.div,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8},className:"relative aspect-video",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#00F5A0]/20 to-[#00D9F5]/20 mix-blend-overlay opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),v.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})]}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500",children:v.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 transform translate-y-10 group-hover:translate-y-0 transition-transform duration-500",children:v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-colors",children:v.jsx(Hl,{className:"w-6 h-6 text-white"})}),v.jsx("a",{href:t.demo,target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-colors",children:v.jsx(ny,{className:"w-6 h-6 text-white"})})]})})})]})}),v.jsx("div",{className:`md:col-span-5 ${e%2===0?"md:order-2":"md:order-1"}`,children:v.jsxs("div",{className:"space-y-6",children:[v.jsx(_e.h3,{initial:{opacity:0,x:e%2===0?50:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5]",children:t.title}),v.jsx(_e.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-gray-600 dark:text-gray-400 text-lg",children:t.description}),v.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-wrap gap-3",children:t.technologies.map(o=>v.jsx("span",{className:"px-4 py-2 text-sm rounded-full bg-gradient-to-r from-[#00F5A0]/10 to-[#00D9F5]/10 text-[#00D9F5] font-medium backdrop-blur-sm",children:o},o))}),v.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"flex space-x-6 pt-4",children:[v.jsxs("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",className:"group relative px-6 py-3 overflow-hidden rounded-full bg-transparent border-2 border-[#00F5A0] text-[#00F5A0] font-medium transition-colors hover:text-white",children:[v.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] transform translate-x-full group-hover:translate-x-0 transition-transform duration-300"}),v.jsxs("span",{className:"relative flex items-center",children:["View Code ",v.jsx(Hl,{size:18,className:"ml-2"})]})]}),v.jsxs("a",{href:t.demo,target:"_blank",rel:"noopener noreferrer",className:"group relative px-6 py-3 overflow-hidden rounded-full bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] text-white font-medium",children:[v.jsx("span",{className:"absolute inset-0 bg-white/20 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),v.jsxs("span",{className:"relative flex items-center",children:["Live Demo ",v.jsx(ny,{size:18,className:"ml-2"})]})]})]})]})})]})})},BK=({project:t})=>{const e=V.useRef(null),n=Eo(e,{once:!0,margin:"-10%"});return v.jsx(_e.div,{ref:e,initial:{opacity:0,y:20},animate:n?{opacity:1,y:0}:{opacity:0,y:20},exit:{opacity:0,y:-20},transition:{duration:.5},className:"group",children:v.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-white/5 backdrop-blur-xl border border-white/10 p-6 hover:border-white/20 transition-all duration-300 transform hover:scale-[1.02]",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#00F5A0]/5 to-[#00D9F5]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),v.jsxs("div",{className:"relative",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#00F5A0]/20 to-[#00D9F5]/20 text-[#00D9F5] flex items-center justify-center",children:v.jsx(q4,{className:"w-6 h-6"})}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 dark:text-gray-400 hover:text-[#00F5A0] transition-colors",children:v.jsx(Hl,{className:"w-5 h-5"})}),v.jsx("a",{href:t.demo,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 dark:text-gray-400 hover:text-[#00F5A0] transition-colors",children:v.jsx(ny,{className:"w-5 h-5"})})]})]}),v.jsx("h4",{className:"text-xl font-bold mb-3 text-gray-800 dark:text-white group-hover:text-[#00F5A0] transition-colors",children:t.title}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:t.description}),v.jsx("div",{className:"flex flex-wrap gap-2",children:t.technologies.map(i=>v.jsx("span",{className:"px-3 py-1 text-sm rounded-full bg-gradient-to-r from-[#00F5A0]/10 to-[#00D9F5]/10 text-[#00D9F5]",children:i},i))})]})]})})},zK=()=>{const[t,e]=V.useState("all"),n=V.useRef(null),i=Eo(n,{once:!0,margin:"-10%"}),r=Ai(FR),s=Ai(dm),o=r.items.filter(l=>l.featured),a=t==="all"?r.items:r.items.filter(l=>l.category===t);return V.useEffect(()=>{const l=c=>{if(!n.current)return;const u=n.current.getBoundingClientRect(),h=c.clientX-u.left,f=c.clientY-u.top;n.current.style.setProperty("--mouse-x",`${h}px`),n.current.style.setProperty("--mouse-y",`${f}px`)};return window.addEventListener("mousemove",l),()=>window.removeEventListener("mousemove",l)},[]),v.jsxs("section",{id:"projects",className:"relative py-20 overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_var(--mouse-x)_var(--mouse-y),rgba(0,245,160,0.1),transparent_50%)] dark:bg-[radial-gradient(circle_at_var(--mouse-x)_var(--mouse-y),rgba(0,245,160,0.05),transparent_50%)]"}),v.jsx("div",{ref:n,className:"container relative",children:v.jsxs(_e.div,{initial:{opacity:0},animate:i?{opacity:1}:{opacity:0},transition:{duration:1},className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx(_e.h2,{initial:{opacity:0,y:20},animate:i?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5},className:"text-4xl md:text-5xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5]",children:r.subtitleThree}),v.jsx(_e.p,{initial:{opacity:0,y:20},animate:i?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.2},className:"text-xl text-gray-600 dark:text-gray-400",children:r.subtitle})]}),v.jsx("div",{className:"mb-32",children:o.map((l,c)=>v.jsx(VK,{project:l,index:c},l.id))}),v.jsxs(_e.div,{initial:{opacity:0,y:20},animate:i?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5},children:[v.jsx("h3",{className:"text-3xl font-bold text-center mb-12 bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5]",children:r.subtitleTwo}),v.jsx("div",{className:"flex overflow-x-auto mb-12 pb-4 justify-center space-x-4",children:r.categories.map(l=>v.jsxs("button",{onClick:()=>e(l.id),className:`relative px-6 py-3 rounded-full text-sm font-medium transition-all duration-300
                    ${t===l.id?"text-white bg-gradient-to-r from-[#00F5A0] to-[#00D9F5]":"text-gray-600 dark:text-gray-400 hover:text-[#00F5A0]"}`,children:[v.jsx("span",{className:"relative z-10",children:l.label}),t===l.id&&v.jsx(_e.div,{layoutId:"activeCategory",className:"absolute inset-0 rounded-full bg-gradient-to-r from-[#00F5A0] to-[#00D9F5]",transition:{type:"spring",bounce:.2,duration:.6}})]},l.id))}),v.jsx(dx,{mode:"wait",children:v.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.filter(l=>!l.featured).map(l=>v.jsx(BK,{project:l},l.id))},t)})]}),v.jsx(_e.div,{initial:{opacity:0,y:20},animate:i?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.3},className:"text-center mt-20",children:v.jsxs("a",{href:s.githubLink,target:"_blank",rel:"noopener noreferrer",className:"group relative inline-flex items-center px-8 py-4 text-lg overflow-hidden rounded-full bg-transparent border-2 border-[#00F5A0] text-[#00F5A0] font-medium transition-colors hover:text-white",children:[v.jsx("span",{className:"absolute inset-0 w-full h-full bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] transform translate-x-full group-hover:translate-x-0 transition-transform duration-300"}),v.jsxs("span",{className:"relative flex items-center",children:["View More on GitHub ",v.jsx(z4,{className:"ml-2 w-5 h-5"})]})]})})]})})]})},jK=()=>{var i;const t=V.useRef(null),e=Eo(t,{once:!0,margin:"-10%"}),n=Ai(NF);return v.jsxs("section",{id:"testimonials",className:"relative py-32 overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_var(--mouse-x)_var(--mouse-y),rgba(0,245,160,0.1),transparent_50%)] dark:bg-[radial-gradient(circle_at_var(--mouse-x)_var(--mouse-y),rgba(0,245,160,0.05),transparent_50%)]"}),v.jsx("div",{ref:t,className:"container relative",children:v.jsxs(_e.div,{initial:{opacity:0},animate:e?{opacity:1}:{opacity:0},transition:{duration:1},className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-20",children:[v.jsx(_e.p,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5},className:"text-lg text-[#00F5A0] font-medium mb-4",children:"Testimonials"}),v.jsxs(_e.h2,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:.1},className:"text-4xl md:text-5xl font-bold mb-6",children:["What My",v.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] ml-2",children:"Clients Say"})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:(i=n==null?void 0:n.items)==null?void 0:i.map((r,s)=>v.jsx(_e.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{duration:.5,delay:s*.1},className:"group",children:v.jsxs("div",{className:"relative overflow-hidden rounded-2xl  dark:bg-navy-default p-8 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-[1.02]",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-[#00F5A0] to-[#00D9F5]"}),v.jsxs("div",{className:"flex items-center mb-6",children:[v.jsx("img",{src:r.image,alt:r.name,className:"w-16 h-16 rounded-full object-cover mr-4"}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xl font-bold text-gray-800 dark:text-white",children:r.name}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r.role})]})]}),v.jsx("div",{className:"flex mb-4",children:[...Array(r.rating)].map((o,a)=>v.jsx(sB,{className:"w-5 h-5 text-yellow-400 fill-current"},a))}),v.jsxs("blockquote",{className:"text-gray-600 dark:text-gray-400 italic",children:['"',r.content,'"']})]})},r.name))})]})})]})};class Ld{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const HK=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Cn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:HK()},oE=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},GK=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=oE(t);Cn.publicKey=n.publicKey,Cn.blockHeadless=n.blockHeadless,Cn.storageProvider=n.storageProvider,Cn.blockList=n.blockList,Cn.limitRate=n.limitRate,Cn.origin=n.origin||e},TN=async(t,e,n={})=>{const i=await fetch(Cn.origin+t,{method:"POST",headers:n,body:e}),r=await i.text(),s=new Ld(i.status,r);if(i.ok)return s;throw s},bN=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},WK=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},AN=t=>t.webdriver||!t.languages||t.languages.length===0,MN=()=>new Ld(451,"Unavailable For Headless Browser"),$K=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},qK=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},XK=(t,e)=>t instanceof FormData?t.get(e):t[e],CN=(t,e)=>{if(qK(t))return!1;$K(t.list,t.watchVariable);const n=XK(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},RN=()=>new Ld(403,"Forbidden"),KK=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},YK=async(t,e,n)=>{const i=Number(await n.get(t)||0);return e-Date.now()+i},PN=async(t,e,n)=>{if(!e.throttle||!n)return!1;KK(e.throttle,e.id);const i=e.id||t;return await YK(i,e.throttle,n)>0?!0:(await n.set(i,Date.now().toString()),!1)},IN=()=>new Ld(429,"Too Many Requests"),QK=async(t,e,n,i)=>{const r=oE(i),s=r.publicKey||Cn.publicKey,o=r.blockHeadless||Cn.blockHeadless,a=r.storageProvider||Cn.storageProvider,l={...Cn.blockList,...r.blockList},c={...Cn.limitRate,...r.limitRate};return o&&AN(navigator)?Promise.reject(MN()):(bN(s,t,e),WK(n),n&&CN(l,n)?Promise.reject(RN()):await PN(location.pathname,c,a)?Promise.reject(IN()):TN("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},JK=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ZK=t=>typeof t=="string"?document.querySelector(t):t,eY=async(t,e,n,i)=>{const r=oE(i),s=r.publicKey||Cn.publicKey,o=r.blockHeadless||Cn.blockHeadless,a=Cn.storageProvider||r.storageProvider,l={...Cn.blockList,...r.blockList},c={...Cn.limitRate,...r.limitRate};if(o&&AN(navigator))return Promise.reject(MN());const u=ZK(n);bN(s,t,e),JK(u);const h=new FormData(u);return CN(l,h)?Promise.reject(RN()):await PN(location.pathname,c,a)?Promise.reject(IN()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",s),TN("/api/v1.0/email/send-form",h))},tY={init:GK,send:QK,sendForm:eY,EmailJSResponseStatus:Ld},nY="service_gnd0iwa",iY="template_td6pv3w",rY="bkWFF_2orSX6VzMJz",sY=async(t,e=null,n=null)=>{tY.sendForm(nY,iY,t,{publicKey:rY}).then(()=>{e&&e(),console.log("SUCCESS!")},i=>{debugger;alert("There was an error sending your message. Please try again later."),n(),console.log("FAILED...",i.message)})},oY=()=>{const t=V.useRef(null),e=Eo(t,{once:!0,margin:"-100px"}),[n,i]=V.useState("idle"),[r,s]=V.useState({name:"",email:"",subject:"",message:""}),o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},l=f=>{const{name:g,value:_}=f.target;s(w=>({...w,[g]:_}))},c=f=>{f.preventDefault(),i("submitting"),sY(h.current,()=>{i("success"),s({name:"",email:"",subject:"",message:""})},()=>{i("error")})},u=Ai(LF),h=V.useRef(null);return v.jsx("section",{id:"contact",className:"section-padding",children:v.jsx("div",{className:"container",children:v.jsxs(_e.div,{ref:t,initial:"hidden",animate:e?"visible":"hidden",variants:o,className:"max-w-6xl mx-auto",children:[v.jsxs(_e.div,{variants:a,className:"text-center mb-12",children:[v.jsx("h2",{className:"section-title",children:u.title}),v.jsx("p",{className:"text-gray-600 dark:text-slate-light mt-6",children:u.subtitle})]}),v.jsxs("div",{className:"grid md:grid-cols-5 gap-10",children:[v.jsxs(_e.div,{variants:a,className:"md:col-span-2 space-y-6",children:[v.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:u.leftHeader}),v.jsxs("p",{className:"text-gray-600 dark:text-slate-light mb-6",children:[u.info.description," "]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-teal-100 dark:bg-teal-900/30 text-teal-500 dark:text-teal-default flex items-center justify-center mr-4",children:v.jsx(Q4,{size:20})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-white",children:"Location"}),v.jsx("p",{className:"text-gray-600 dark:text-slate-light",children:u.info.location})]})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-teal-100 dark:bg-teal-900/30 text-teal-500 dark:text-teal-default flex items-center justify-center mr-4",children:v.jsx(up,{size:20})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-white",children:"Email"}),v.jsx("a",{href:`mailto:${u.info.email}`,className:"text-gray-600 dark:text-slate-light hover:text-teal-500 dark:hover:text-teal-default transition-colors",children:u.info.email})]})]}),v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-teal-100 dark:bg-teal-900/30 text-teal-500 dark:text-teal-default flex items-center justify-center mr-4",children:v.jsx(nB,{size:20})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-white",children:"Phone"}),v.jsx("a",{href:`tel:${u.info.email}`,className:"text-gray-600 dark:text-slate-light hover:text-teal-500 dark:hover:text-teal-default transition-colors",children:u.info.phone})]})]})]})]}),v.jsx(_e.div,{variants:a,className:"md:col-span-3",children:v.jsxs("div",{className:"card p-6",children:[v.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:u.rightHeader}),n==="success"?v.jsxs(_e.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-10 text-center",children:[v.jsx(H4,{size:60,className:"text-green-500 mb-4"}),v.jsx("h4",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Message Sent Successfully!"}),v.jsx("p",{className:"text-gray-600 dark:text-slate-light",children:"Thank you for reaching out. I'll get back to you soon."})]}):v.jsxs("form",{ref:h,onSubmit:c,className:"space-y-4",children:[v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-slate-light mb-1",children:"Name"}),v.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:l,required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-navy-light focus:border-teal-500 dark:focus:border-teal-default focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:focus:ring-teal-default/20 bg-white dark:bg-navy-default text-gray-800 dark:text-gray",placeholder:"Your Name"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-slate-light mb-1",children:"Email"}),v.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:l,required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-navy-light focus:border-teal-500 dark:focus:border-teal-default focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:focus:ring-teal-default/20 bg-white dark:bg-navy-default text-gray-800 dark:text-gray",placeholder:"Your Email"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 dark:text-slate-light mb-1",children:"Subject"}),v.jsx("input",{type:"text",id:"subject",name:"subject",value:r.subject,onChange:l,required:!0,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-navy-light focus:border-teal-500 dark:focus:border-teal-default focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:focus:ring-teal-default/20 bg-white dark:bg-navy-default text-gray-800 dark:text-gray",placeholder:"Subject"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-slate-light mb-1",children:"Message"}),v.jsx("textarea",{id:"message",name:"message",value:r.message,onChange:l,required:!0,rows:6,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-navy-light focus:border-teal-500 dark:focus:border-teal-default focus:outline-none focus:ring-2 focus:ring-teal-500/20 dark:focus:ring-teal-default/20 bg-white dark:bg-navy-default text-gray-800 dark:text-gray resize-none",placeholder:"Your Message"})]}),v.jsx("button",{type:"submit",disabled:n==="submitting",className:"btn-primary w-full justify-center",children:n==="submitting"?v.jsxs("span",{className:"inline-flex items-center",children:[v.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):v.jsxs("span",{className:"inline-flex items-center",children:["Send Message ",v.jsx(iB,{size:16,className:"ml-2"})]})})]})]})})]})]})})})},aY=()=>{var i,r,s,o,a;const t=new Date().getFullYear(),e=Ai(DF),n=Ai(dm);return v.jsx("footer",{className:"py-10 bg-gray-900 dark:bg-navy-dark text-white",children:v.jsx("div",{className:"container",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"grid md:grid-cols-3 gap-10",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:n==null?void 0:n.logoText}),v.jsx("p",{className:"text-gray-400 mb-6",children:(e==null?void 0:e.description)||"Your tagline or description goes here."}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("a",{href:(i=e.socialLinks.find(l=>l.platform==="GitHub"))==null?void 0:i.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-teal-default transition-colors","aria-label":"GitHub",children:v.jsx(Hl,{size:20})}),v.jsx("a",{href:(r=e.socialLinks.find(l=>l.platform==="LinkedIn"))==null?void 0:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-teal-default transition-colors","aria-label":"LinkedIn",children:v.jsx(iy,{size:20})}),v.jsx("a",{href:(s=e.socialLinks.find(l=>l.platform==="Twitter"))==null?void 0:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-teal-default transition-colors","aria-label":"Twitter",children:v.jsx(EP,{size:20})}),v.jsx("a",{href:(o=e.socialLinks.find(l=>l.platform==="Email"))==null?void 0:o.url,className:"text-gray-400 hover:text-teal-default transition-colors","aria-label":"Email",children:v.jsx(up,{size:20})})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Links"}),v.jsx("ul",{className:"space-y-2",children:(a=e==null?void 0:e.quickLinks)==null?void 0:a.map(l=>v.jsx("li",{children:v.jsx("a",{href:l.href,className:"text-gray-400 hover:text-teal-default transition-colors",children:l.name})},l.href))})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Contact Me"}),v.jsxs("ul",{className:"space-y-2",children:[v.jsxs("li",{className:"flex items-center text-gray-400",children:[v.jsx(up,{size:16,className:"mr-2"}),v.jsx("a",{href:`mailto:${e==null?void 0:e.contactme.email}`,className:"hover:text-teal-default transition-colors",children:e==null?void 0:e.contactme.email})]}),v.jsxs("li",{className:"flex items-center text-gray-400",children:[v.jsx(iy,{size:16,className:"mr-2"}),v.jsx("a",{href:`https://${e.contactme.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-teal-default transition-colors",children:e==null?void 0:e.contactme.linkedin})]}),v.jsxs("li",{className:"flex items-center text-gray-400",children:[v.jsx(Hl,{size:16,className:"mr-2"}),v.jsx("a",{href:`https://${e.contactme.github}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-teal-default transition-colors",children:e==null?void 0:e.contactme.github})]})]})]})]}),v.jsxs("div",{className:"mt-10 pt-6 border-t border-gray-800 text-center text-gray-500 text-sm",children:[v.jsxs("p",{children:[" ",t," ",n==null?void 0:n.ownerName," All rights reserved."]}),v.jsxs("p",{className:"mt-1",children:["Designed & Built with ",v.jsx("span",{className:"text-red-500",children:""})," by Mohd. Riyan"]})]})]})})})},lY=()=>{const[t,e]=V.useState(0),n=Ai(dm);return V.useEffect(()=>{const i=setInterval(()=>{e(r=>r>=100?(clearInterval(i),100):r+5)},50);return()=>clearInterval(i)},[]),v.jsx("div",{className:"fixed inset-0 flex items-center justify-center  dark:bg-navy-default z-50",children:v.jsxs("div",{className:"w-64 flex flex-col items-center",children:[v.jsx(_e.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-4xl text-teal-500 dark:text-teal-default mb-8 font-bold",children:n==null?void 0:n.logoText}),v.jsx("div",{className:"w-full h-1  dark:bg-navy-light rounded-full overflow-hidden",children:v.jsx(_e.div,{className:"h-full bg-teal-500 dark:bg-teal-default",initial:{width:0},animate:{width:`${t}%`},transition:{duration:.2}})}),v.jsxs("div",{className:"mt-2 text-gray-600 dark:text-slate-light",children:["Know about me... ",t,"%"]})]})})},aE=V.createContext({cursorType:"",cursorChangeHandler:()=>{}}),cY=t=>{const[e,n]=V.useState(""),i=r=>{n(r)};return v.jsx(aE.Provider,{value:{cursorType:e,cursorChangeHandler:i},children:t.children})};function uY(){const[t,e]=V.useState({x:null,y:null});return V.useEffect(()=>{const n=i=>{const{clientX:r,clientY:s}=i;e({x:r,y:s})};return document.addEventListener("mousemove",n),()=>{document.removeEventListener("mousemove",n)}},[]),t}const dY=()=>{const{cursorType:t}=V.useContext(aE),{x:e,y:n}=uY(),[i,r]=V.useState(!1);return V.useEffect(()=>{const s=()=>{r(window.innerWidth<=768||"ontouchstart"in window)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),i||e===null||n===null?null:v.jsx("div",{className:"pointer-events-none fixed top-0 left-0 z-[999]",children:v.jsx("div",{style:{transform:`translate3d(${e-5}px, ${n-12}px, 0)`,border:"10px solid #00F5A0"},className:`w-4 h-4 rounded-full transition-transform duration-[40ms] ${t}`})})},zm=({onSearch:t})=>{const[e,n]=qc.useState(""),{darkMode:i}=Em(),[r,s]=qc.useState(!0);qc.useRef(0),qc.useEffect(()=>{const a=()=>{if(window.innerWidth>1024)return;const l=window.scrollY===0;s(l)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const o=a=>{a.preventDefault(),t(e)};return v.jsx(_e.header,{className:`sticky top-0 z-40 w-full transition-all duration-300 ${i?"bg-[#0A192F]/80 shadow-lg backdrop-blur-lg":"bg-white/80 shadow-lg backdrop-blur-lg"}`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:v.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-5 flex flex-col md:flex-row md:items-center md:justify-between",children:[v.jsx(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:v.jsxs(ei,{to:"/",className:"relative group cursor-pointer",children:[v.jsx("span",{className:"text-2xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] hover:text-transparent transition-all duration-300",children:"< MyBlogs />"}),v.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] transition-all duration-300 group-hover:w-full"})]})}),v.jsxs("div",{className:`transition-all duration-300 ease-in-out overflow-hidden ${r?"max-h-[500px] opacity-100":"max-h-0 opacity-0"} md:max-h-none md:opacity-100 flex flex-col md:flex-row md:items-center gap-4 md:gap-6 w-full md:w-auto mt-4 md:mt-0`,children:[v.jsx("nav",{className:"flex flex-wrap justify-center space-x-4 md:space-x-6",children:["technology","design","development","business"].map((a,l)=>v.jsxs(_e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,delay:l*.1},className:"relative group",children:[v.jsx(ei,{to:`/blog/categories/${a}`,className:"capitalize text-gray-600 dark:text-gray-300 group-hover:text-[#00F5A0] transition-colors",children:a}),v.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#00F5A0] transition-all duration-300 group-hover:w-full"})]},a))}),v.jsxs(_e.form,{onSubmit:o,className:"relative w-full md:w-64",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},children:[v.jsx("input",{type:"text",placeholder:"Search articles...",className:"w-full px-4 py-2 pr-10 rounded-full border border-gray-300 dark:border-white/10 bg-white dark:bg-dark-light text-gray-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#00F5A0] transition-colors",value:e,onChange:a=>n(a.target.value)}),v.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-300 hover:text-[#00F5A0]",children:v.jsx(_P,{size:18})})]}),v.jsxs(_e.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,delay:6*.1},className:"relative group",children:[v.jsx(ei,{to:"/",className:"capitalize font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] hover:text-transparent transition-all duration-300",children:"Know More"}),v.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-[#00F5A0] transition-all duration-300 group-hover:w-full"})]},45)]})]})})},hY=({post:t})=>{const e=new Date(t==null?void 0:t.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return v.jsxs(_e.article,{className:" group relative h-[500px] md:h-[600px] rounded-xl overflow-hidden mb-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:.7},children:[v.jsxs("div",{className:"absolute inset-0",children:[v.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent"})]}),v.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6 md:p-12",children:[v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.categories.map(n=>v.jsx(ei,{to:`/blog/categories/${n.toLowerCase()}`,className:"text-xs md:text-sm font-medium bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-4 py-1 rounded-full transition-colors",children:n},n))}),v.jsx(ei,{to:`/blog/${t.slug}`,children:v.jsx(_e.h1,{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-4 md:mb-6 hover:text-indigo-300 transition-colors",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},children:t.title})}),v.jsx(_e.p,{className:"text-white/80 text-lg md:text-xl mb-6 md:w-3/4",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.3},children:t.excerpt}),v.jsxs(_e.div,{className:"flex flex-wrap gap-4 md:gap-8 text-white/70 text-sm md:text-base",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.4},children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(SP,{size:18,className:"mr-2"}),v.jsx("span",{children:t.author.name})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx(yP,{size:18,className:"mr-2"}),v.jsx("span",{children:e})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx(ax,{size:18,className:"mr-2"}),v.jsxs("span",{children:[t.readingTime," min read"]})]})]}),v.jsx(_e.div,{className:"mt-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.5},children:v.jsx(ei,{to:`/blog/${t.slug}`,className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:"Read Article"})})]})]})},jm=({post:t,featured:e=!1,index:n=0})=>(new Date(t.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),v.jsxs(_e.article,{className:`bg-white dark:bg-navy-light rounded-2xl overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 ${e?"md:col-span-2 md:row-span-2":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:n*.1},whileHover:{y:-5},children:[v.jsx(ei,{to:`/blog/${t.slug}`,className:"block group",children:v.jsxs("div",{className:"relative h-48 md:h-64 overflow-hidden",children:[v.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e&&v.jsx("span",{className:"absolute top-4 right-4 bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] text-black px-3 py-1 rounded-full text-sm font-semibold shadow-sm",children:"Featured"})]})}),v.jsxs("div",{className:"p-5 md:p-6",children:[v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.categories.map(i=>v.jsx(ei,{to:`/blog/categories/${i.toLowerCase()}`,className:"text-xs font-semibold bg-navy-light dark:bg-gray-800 text-gray-700 dark:text-gray-200 px-3 py-1 rounded-full hover:bg-primary hover:text-white transition-colors",children:i},i))}),v.jsxs(ei,{to:`/blog/${t.slug}`,className:"block group",children:[v.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white mb-3 transition-colors duration-300 group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-[#00F5A0] group-hover:to-[#00D9F5] group-hover:bg-clip-text",children:t.title}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-3",children:t.excerpt})]}),v.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(SP,{size:16,className:"mr-1"}),v.jsx("span",{children:t.author.name})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx(ax,{size:16,className:"mr-1"}),v.jsxs("span",{children:[t.readingTime," min read"]})]}),t.tags.length>0&&v.jsxs("div",{className:"hidden md:flex items-center",children:[v.jsx(xP,{size:16,className:"mr-1"}),v.jsx("span",{children:t.tags[0]})]})]})]})]})),NN=[{id:"1",name:"Technology",slug:"technology",description:"Latest news and insights about technology trends and innovations."},{id:"2",name:"Design",slug:"design",description:"Articles about UI/UX design, graphic design, and design thinking."},{id:"3",name:"Development",slug:"development",description:"Programming tutorials, coding tips, and development best practices."},{id:"4",name:"Business",slug:"business",description:"Insights on entrepreneurship, startups, and business strategies."}],ho=[{id:"1",title:"Getting Started with React and TypeScript in 2025",slug:"getting-started-with-react-typescript-2025",excerpt:"Learn how to set up a modern React application with TypeScript, including best practices and the latest features.",content:`
# Getting Started with React and TypeScript in 2025

React continues to evolve as one of the most popular frontend libraries, and TypeScript has become the standard for type-safe JavaScript development. In this post, we'll explore how to set up a modern React application with TypeScript in 2025.

## Setting Up Your Development Environment

First, make sure you have the latest version of Node.js installed. Then, create a new React project with TypeScript using Vite:

\`\`\`bash
npm create vite@latest my-react-app -- --template react-ts
cd my-react-app
npm install
\`\`\`

## Key Features to Leverage

### React 18 Features

React 18 introduced several powerful features that you should be using in your applications:

- **Concurrent Rendering**: Allows React to prepare multiple versions of the UI at the same time.
- **Automatic Batching**: Improves performance by batching state updates.
- **Transitions**: Distinguish between urgent and non-urgent updates.

### TypeScript 5 Benefits

TypeScript 5 brings several improvements:

- **Decorators**: The new decorator implementation is now standard.
- **const Type Parameters**: Allows you to enforce that type parameters are treated as literal types.
- **Better Performance**: Faster type checking and compilation.

## Best Practices

1. Use functional components with hooks
2. Implement proper type definitions
3. Leverage React context for state management
4. Write unit tests for components

## Conclusion

Starting a new React project with TypeScript in 2025 has never been easier. The ecosystem has matured significantly, providing developers with powerful tools and patterns to build robust applications.
    `,coverImage:"https://images.pexels.com/photos/4164418/pexels-photo-4164418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",author:{id:"1",name:"Riyan",avatar:Za,bio:"Senior Frontend Developer specializing in React and TypeScript."},categories:["Technology","Development"],tags:["React","TypeScript","Web Development","Frontend"],publishedAt:"2025-04-15T14:30:00Z",readingTime:6,featured:!0},{id:"2",title:"The Future of UI Design: Trends to Watch in 2025",slug:"future-of-ui-design-trends-2025",excerpt:"Explore the emerging UI design trends that are shaping the digital landscape in 2025.",content:`
# The Future of UI Design: Trends to Watch in 2025

As we progress through 2025, several UI design trends are emerging that promise to redefine digital experiences. Let's explore the most significant trends that designers should pay attention to.

## 1. Spatial Interfaces

With the rise of AR and VR technologies, spatial interfaces are becoming increasingly important. These interfaces extend beyond the traditional 2D screen, creating immersive experiences that blend the digital and physical worlds.

## 2. Advanced Micro-interactions

Micro-interactions have evolved from simple feedback mechanisms to sophisticated elements that guide users through complex workflows. They now incorporate more advanced animations and contextual awareness.

## 3. Adaptive Color Systems

Modern UI designs are moving beyond static color schemes to adaptive color systems that respond to:
- User preferences
- Time of day
- Content context
- Accessibility needs

## 4. Voice and Gesture Integration

Voice interfaces and gesture controls are becoming standard components of UI design, requiring designers to think beyond visual elements.

## 5. Ethical and Inclusive Design

Design ethics and inclusivity are no longer optional considerations. Successful UI designs in 2025 prioritize:
- Accessibility for all users
- Reduced cognitive load
- Privacy-first interaction patterns
- Cultural sensitivity

## Conclusion

The UI design landscape continues to evolve rapidly in 2025. Designers who embrace these emerging trends while focusing on user needs will create the most compelling and effective digital experiences.
    `,coverImage:"https://images.pexels.com/photos/196645/pexels-photo-196645.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",author:{id:"2",name:"Riyan",avatar:Za,bio:"UX/UI Designer with over 10 years of experience in product design."},categories:["Design"],tags:["UI Design","Design Trends","UX","Product Design"],publishedAt:"2025-04-02T10:15:00Z",readingTime:5,featured:!0},{id:"3",title:"Building Performant Web Applications with Modern JavaScript",slug:"building-performant-web-applications-modern-javascript",excerpt:"Learn techniques and best practices for building high-performance web applications using modern JavaScript.",content:`
# Building Performant Web Applications with Modern JavaScript

Performance is a critical aspect of web development that directly impacts user experience. In this post, we'll explore strategies for building high-performance web applications using modern JavaScript.

## Code Splitting and Lazy Loading

One of the most effective ways to improve initial load time is by implementing code splitting and lazy loading:

\`\`\`javascript
// React example with lazy loading
import React, { lazy, Suspense } from 'react';

const HeavyComponent = lazy(() => import('./HeavyComponent'));

function App() {
  return (
    <div>
      <Suspense fallback={<div>Loading...</div>}>
        <HeavyComponent />
      </Suspense>
    </div>
  );
}
\`\`\`

## Optimizing Rendering Performance

Use efficient rendering techniques:

1. **Virtualized Lists**: When rendering long lists, only render items that are visible in the viewport.
2. **Memoization**: Use React.memo, useMemo, and useCallback to prevent unnecessary re-renders.
3. **Web Workers**: Offload heavy computations to background threads.

## Modern JavaScript Features for Performance

Leverage modern JavaScript features that can improve performance:

- **Optional Chaining**: Simplify and speed up property access through potentially undefined objects.
- **Nullish Coalescing**: Provide default values only for null or undefined.
- **Array Methods**: Use built-in methods like map, filter, and reduce for efficient data transformations.

## Measuring and Monitoring Performance

Always measure performance to identify bottlenecks:

1. Use the Performance API to measure critical metrics.
2. Implement Real User Monitoring (RUM) to collect performance data from actual users.
3. Set up automated performance testing in your CI/CD pipeline.

## Conclusion

Building performant web applications requires a combination of best practices, modern techniques, and continuous measurement. By implementing these strategies, you can create fast, responsive applications that provide an excellent user experience.
    `,coverImage:"https://images.pexels.com/photos/270348/pexels-photo-270348.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",author:{id:"3",name:"Riyan",avatar:Za,bio:"Performance engineer and JavaScript expert focused on web optimization."},categories:["Development","Technology"],tags:["JavaScript","Performance","Web Development","Optimization"],publishedAt:"2025-03-28T09:45:00Z",readingTime:7,featured:!1},{id:"4",title:"The Rise of AI in Modern Business Operations",slug:"rise-of-ai-modern-business-operations",excerpt:"Discover how artificial intelligence is transforming business operations across industries.",content:`
# The Rise of AI in Modern Business Operations

Artificial intelligence has moved beyond the realm of science fiction to become an integral part of modern business operations. In this post, we'll examine how AI is transforming various aspects of business and what it means for the future of work.

## Automating Routine Tasks

One of the most significant impacts of AI is the automation of routine, repetitive tasks:

- **Document Processing**: AI-powered OCR and NLP systems can extract and categorize information from documents.
- **Customer Support**: Chatbots and virtual assistants handle common customer inquiries.
- **Data Entry**: Automated systems can populate databases and CRMs without human intervention.

## Enhancing Decision Making

AI is revolutionizing how businesses make decisions:

1. **Predictive Analytics**: AI models can forecast trends, customer behavior, and market changes.
2. **Risk Assessment**: Machine learning algorithms can identify potential risks and recommend mitigation strategies.
3. **Resource Allocation**: AI can optimize how businesses allocate resources based on predicted demand.

## Transforming Customer Experiences

AI is creating more personalized and responsive customer experiences:

- **Personalized Recommendations**: AI analyzes customer behavior to provide tailored recommendations.
- **Dynamic Pricing**: Algorithms adjust prices based on demand, competition, and customer value.
- **Sentiment Analysis**: AI monitors customer sentiment across channels to identify issues and opportunities.

## Challenges and Considerations

While AI offers tremendous benefits, businesses must address several challenges:

1. **Ethical Implications**: Ensuring AI systems are fair, transparent, and used responsibly.
2. **Workforce Transition**: Helping employees adapt to changing roles and develop new skills.
3. **Implementation Costs**: Balancing the significant investment required with expected returns.

## Conclusion

AI is fundamentally changing how businesses operate, creating opportunities for increased efficiency, better decision-making, and enhanced customer experiences. Organizations that successfully integrate AI into their operations while addressing the associated challenges will be well-positioned for success in the evolving business landscape.
    `,coverImage:"https://images.pexels.com/photos/8386440/pexels-photo-8386440.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",author:{id:"4",name:"Riyan",avatar:Za,bio:"Business strategy consultant specializing in AI transformation."},categories:["Business","Technology"],tags:["AI","Business Strategy","Automation","Future of Work"],publishedAt:"2025-03-21T13:20:00Z",readingTime:8,featured:!1},{id:"5",title:"Mastering CSS Grid for Complex Layouts",slug:"mastering-css-grid-complex-layouts",excerpt:"Learn how to use CSS Grid to create sophisticated, responsive layouts with less code.",content:`
# Mastering CSS Grid for Complex Layouts

CSS Grid has revolutionized web layout design, making it possible to create complex, responsive layouts with relatively simple code. This post will help you master CSS Grid for your projects.

## Grid Fundamentals

Let's start with the basics:

\`\`\`css
.container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: auto 200px auto;
  gap: 20px;
}
\`\`\`

This creates a 3-column grid with rows of varying heights and 20px gaps between all cells.

## Creating Complex Layouts

CSS Grid truly shines when creating complex layouts:

\`\`\`css
.complex-layout {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: auto auto auto;
  grid-template-areas:
    "header header header header"
    "sidebar main main main"
    "sidebar footer footer footer";
}

.header { grid-area: header; }
.sidebar { grid-area: sidebar; }
.main { grid-area: main; }
.footer { grid-area: footer; }
\`\`\`

This creates a layout with a full-width header, a sidebar spanning the left column, main content taking up three columns, and a footer spanning the bottom three columns.

## Advanced Grid Techniques

### Auto-Fit and Auto-Fill

These powerful features allow you to create responsive layouts without media queries:

\`\`\`css
.responsive-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}
\`\`\`

This will automatically fit as many columns as possible that are at least 250px wide.

### Grid Alignment

Control the alignment of items within their grid cells:

\`\`\`css
.align-example {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  justify-items: center; /* Horizontal alignment */
  align-items: center; /* Vertical alignment */
}

.specific-item {
  justify-self: end; /* Override for a specific item */
  align-self: start;
}
\`\`\`

## Practical Examples

### Magazine Layout

\`\`\`css
.magazine {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(3, auto);
  gap: 16px;
}

.feature-article {
  grid-column: 1 / span 4;
  grid-row: 1 / span 2;
}

.sidebar {
  grid-column: 5 / span 2;
  grid-row: 1 / span 3;
}
\`\`\`

## Conclusion

CSS Grid provides a powerful and intuitive way to create sophisticated layouts. By mastering these techniques, you can create more complex designs with less code, resulting in cleaner, more maintainable stylesheets.
    `,coverImage:"https://images.pexels.com/photos/326501/pexels-photo-326501.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",author:{id:"5",name:"Riyan",avatar:Za,bio:"Frontend developer and CSS specialist with a passion for clean, accessible code."},categories:["Development","Design"],tags:["CSS","Web Development","Frontend","Responsive Design"],publishedAt:"2025-03-15T11:10:00Z",readingTime:9,featured:!1}],fY=()=>ho.filter(t=>t.featured),pY=(t=3)=>[...ho].sort((e,n)=>new Date(n.publishedAt).getTime()-new Date(e.publishedAt).getTime()).slice(0,t),mY=t=>ho.find(e=>e.slug===t),gY=t=>ho.filter(e=>e.categories.includes(t)),vY=t=>ho.filter(e=>e.tags.includes(t)),yY=t=>{const e=t.toLowerCase();return ho.filter(n=>n.title.toLowerCase().includes(e)||n.content.toLowerCase().includes(e)||n.excerpt.toLowerCase().includes(e)||n.tags.some(i=>i.toLowerCase().includes(e))||n.categories.some(i=>i.toLowerCase().includes(e)))},_Y=(t,e=3)=>{const n=ho.find(r=>r.id===t);return n?ho.filter(r=>r.id!==t).map(r=>{const s=r.categories.filter(a=>n.categories.includes(a)).length,o=r.tags.filter(a=>n.tags.includes(a)).length;return{post:r,relevanceScore:s*2+o}}).filter(r=>r.relevanceScore>0).sort((r,s)=>s.relevanceScore-r.relevanceScore).slice(0,e).map(r=>r.post):[]},xY=()=>v.jsxs("section",{className:"mb-12",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Categories"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:NN.map((t,e)=>v.jsx(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:e*.1},children:v.jsxs(ei,{to:`/blog/categories/${t.slug}`,className:"block h-full rounded-2xl bg-white dark:bg-navy-light border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md hover:-translate-y-1 transition-all duration-300 group",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-[#00F5A0] group-hover:to-[#00D9F5] group-hover:bg-clip-text transition-colors",children:t.name}),v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.description})]})},t.id))})]}),EY=({query:t,results:e})=>v.jsxs("section",{className:"mb-12",children:[v.jsxs("div",{className:"flex items-center mb-8",children:[v.jsx(_P,{size:24,className:"text-gray-500 mr-3"}),v.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:['Search Results for "',t,'"']})]}),e.length===0?v.jsxs(_e.div,{className:"text-center py-16 bg-gray-50 rounded-lg",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[v.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"No results found"}),v.jsx("p",{className:"text-gray-500",children:"We couldn't find any posts matching your search. Try using different keywords."})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((n,i)=>v.jsx(jm,{post:n,index:i},n.id))})]}),SY=()=>{const[t,e]=V.useState(""),[n,i]=V.useState([]);Em();const r=fY(),s=pY(6),o=a=>{e(a),a.trim()?i(yY(a)):i([])};return v.jsxs("div",{className:" bg-gray-50 dark:bg-navy-light",children:[v.jsx(zm,{onSearch:o}),v.jsx("main",{className:"container mx-auto px-4 pb-16 pt-10",children:t?v.jsx(EY,{query:t,results:n}):v.jsxs(v.Fragment,{children:[r.length>0&&v.jsx(hY,{post:r[0]}),v.jsx(xY,{}),v.jsxs("section",{className:"mb-16",children:[v.jsxs("div",{className:"flex items-center justify-between mb-8",children:[v.jsx("h2",{className:"text-2xl font-bold text-primary",children:"Recent Articles"}),v.jsxs(_e.a,{href:"#",className:"text-primary hover:text-primary/90 font-medium flex items-center",whileHover:{x:5},transition:{type:"spring",stiffness:500},children:["View all articles",v.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((a,l)=>v.jsx(jm,{post:a,index:l},a.id))})]}),v.jsx("section",{className:"bg-dark-light rounded-xl p-8 md:p-12",children:v.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4 text-primary",children:"Stay updated with our newsletter"}),v.jsx("p",{className:"text-light-dark mb-6 text-gray-400",children:"Get the latest articles, resources and updates right in your inbox."}),v.jsxs("form",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[v.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 rounded-lg bg-dark border border-dark-lighter text-light placeholder-light-dark focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),v.jsx("button",{type:"submit",className:"px-6 py-3 bg-primary text-dark font-medium rounded-lg hover:bg-primary/90 transition-colors",children:"Subscribe"})]})]})})]})})]})},wY=({content:t})=>{const e=n=>{let i=n.replace(/^# (.*$)/gm,"<h1>$1</h1>").replace(/^## (.*$)/gm,"<h2>$1</h2>").replace(/^### (.*$)/gm,"<h3>$1</h3>").replace(/^#### (.*$)/gm,"<h4>$1</h4>").replace(/^##### (.*$)/gm,"<h5>$1</h5>").replace(/^###### (.*$)/gm,"<h6>$1</h6>");i=i.replace(/^(?!<h[1-6]>|\*\*|\*|`|```|>|\d+\.|\- )(.*$)/gm,"<p>$1</p>"),i=i.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),i=i.replace(/\*(.*?)\*/g,"<em>$1</em>"),i=i.replace(/```(\w+)\n([\s\S]*?)```/g,'<pre><code class="language-$1">$2</code></pre>'),i=i.replace(/```\n([\s\S]*?)```/g,"<pre><code>$1</code></pre>"),i=i.replace(/`([^`]+)`/g,"<code>$1</code>"),i=i.replace(/^> (.*$)/gm,"<blockquote>$1</blockquote>");let r=!1;const s=i.split(`
`).map(l=>{if(l.match(/^\- (.*$)/)){const c=l.replace(/^\- (.*)$/,"<li>$1</li>");return r?c:(r=!0,"<ul>"+c)}else if(r)return r=!1,"</ul>"+l;return l});r&&s.push("</ul>"),i=s.join(`
`);let o=!1;const a=i.split(`
`).map(l=>{if(l.match(/^\d+\. (.*$)/)){const c=l.replace(/^\d+\. (.*)$/,"<li>$1</li>");return o?c:(o=!0,"<ol>"+c)}else if(o)return o=!1,"</ol>"+l;return l});return o&&a.push("</ol>"),i=a.join(`
`),i=i.replace(/^---$/gm,"<hr />"),i=i.replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>'),i};return v.jsx("div",{className:"markdown-content",dangerouslySetInnerHTML:{__html:e(t)}})},TY=({posts:t})=>v.jsxs("section",{className:"py-10 px-6 md:px-10 border-t border-gray-100 mb-10",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Articles"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map((e,n)=>v.jsx(_e.article,{className:"rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:n*.1},children:v.jsxs(ei,{to:`/blog/${e.slug}`,className:"block",role:"link",children:[v.jsx("div",{className:"h-40 overflow-hidden",children:v.jsx("img",{src:e.coverImage,alt:`Cover image for ${e.title}`,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105"})}),v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-indigo-600 transition-colors",children:e.title}),v.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-3",children:e.excerpt}),v.jsx("span",{className:"text-indigo-600 text-sm font-medium",children:"Read article "})]})]})},e.id))})]}),bY=({postId:t})=>{const[e,n]=V.useState([{id:"1",postId:t,author:{name:"John Smith",email:"john@example.com",avatar:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},content:"This is such a great article! I learned a lot from it.",createdAt:"2025-04-15T15:30:00Z"},{id:"2",postId:t,author:{name:"Jane Doe",email:"jane@example.com",avatar:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},content:"I've been looking for a clear explanation on this topic for ages. Thanks for breaking it down so well!",createdAt:"2025-04-15T18:15:00Z"}]),[i,r]=V.useState({name:"",email:"",content:""}),[s,o]=V.useState({name:"",email:"",content:""}),a=()=>{let u=!0;const h={name:"",email:"",content:""};return i.name.trim()||(h.name="Name is required",u=!1),i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(h.email="Email is invalid",u=!1):(h.email="Email is required",u=!1),i.content.trim()||(h.content="Comment is required",u=!1),o(h),u},l=u=>{if(u.preventDefault(),!a())return;const h={id:Date.now().toString(),postId:t,author:{name:i.name,email:i.email,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(i.name)}&background=random`},content:i.content,createdAt:new Date().toISOString()};n([...e,h]),r({name:"",email:"",content:""})},c=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return v.jsxs("section",{className:"mt-12 pt-10 border-t border-gray-100",children:[v.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center mb-6",children:[v.jsx(eB,{size:24,className:"mr-2"}),"Comments (",e.length,")"]}),v.jsx("div",{className:"space-y-6 mb-10",children:e.map((u,h)=>v.jsx(_e.div,{className:"bg-gray-50 p-6 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:h*.1},children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:v.jsx("img",{src:u.author.avatar,alt:u.author.name,className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("h4",{className:"font-semibold text-gray-900",children:u.author.name}),v.jsx("span",{className:"text-sm text-gray-500",children:c(u.createdAt)})]}),v.jsx("p",{className:"text-gray-700",children:u.content}),v.jsx("button",{className:"mt-3 text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"Reply"})]})]})},u.id))}),v.jsxs(_e.div,{className:"bg-gray-50 p-6 rounded-lg",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[v.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Leave a comment"}),v.jsxs("form",{onSubmit:l,children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name*"}),v.jsx("input",{type:"text",id:"name",className:`w-full px-4 py-2 border ${s.name?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent`,value:i.name,onChange:u=>r({...i,name:u.target.value})}),s.name&&v.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.name})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email* (will not be published)"}),v.jsx("input",{type:"email",id:"email",className:`w-full px-4 py-2 border ${s.email?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent`,value:i.email,onChange:u=>r({...i,email:u.target.value})}),s.email&&v.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.email})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Comment*"}),v.jsx("textarea",{id:"comment",rows:4,className:`w-full px-4 py-2 border ${s.content?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent`,value:i.content,onChange:u=>r({...i,content:u.target.value})}),s.content&&v.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.content})]}),v.jsx("button",{type:"submit",className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:"Post Comment"})]})]})]})},AY=({post:t,relatedPosts:e})=>{const n=Ta(),i=new Date(t.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),r=()=>{navigator.share?navigator.share({title:t.title,text:t.excerpt,url:window.location.href}).catch(s=>console.log("Error sharing",s)):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))};return v.jsxs(_e.article,{className:"bg-white rounded-xl overflow-hidden max-w-4xl mx-auto shadow-md",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[v.jsx("div",{className:"p-6 border-b border-gray-100",children:v.jsxs("button",{onClick:()=>n(-1),className:"flex items-center text-gray-600 hover:text-indigo-600 transition-colors",children:[v.jsx(V4,{size:18,className:"mr-2"}),v.jsx("span",{children:"Back to articles"})]})}),v.jsx("div",{className:"relative h-[300px] md:h-[400px] lg:h-[500px] w-full",children:v.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"p-6 md:p-10",children:[v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.categories.map(s=>v.jsx(ei,{to:`/blog/categories/${s.toLowerCase()}`,className:"text-xs font-medium bg-gray-100 hover:bg-indigo-100 text-gray-700 hover:text-indigo-600 px-3 py-1 rounded-full transition-colors",children:s},s))}),v.jsx(_e.h1,{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.1},children:t.title}),v.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-8 text-gray-500 text-sm border-b border-gray-100 pb-8",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden mr-3",children:v.jsx("img",{src:t.author.avatar,alt:t.author.name,className:"w-full h-full object-cover"})}),v.jsx("div",{children:v.jsx(ei,{to:`/blog/author/${t.author.id}`,className:"font-medium text-gray-900 hover:text-indigo-600 transition-colors",children:t.author.name})})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx(yP,{size:16,className:"mr-2"}),v.jsx("span",{children:i})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx(ax,{size:16,className:"mr-2"}),v.jsxs("span",{children:[t.readingTime," min read"]})]})]}),v.jsxs("div",{className:"flex justify-end gap-3 mb-8",children:[v.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 hover:border-indigo-500 hover:text-indigo-600 transition-colors",children:[v.jsx(rB,{size:16}),v.jsx("span",{className:"hidden md:inline",children:"Share"})]}),v.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 hover:border-indigo-500 hover:text-indigo-600 transition-colors",children:[v.jsx(j4,{size:16}),v.jsx("span",{className:"hidden md:inline",children:"Save"})]})]}),v.jsx("div",{className:"prose prose-lg max-w-none",children:v.jsx(wY,{content:t.content})}),v.jsxs("div",{className:"mt-10 pt-6 border-t border-gray-100",children:[v.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Tags"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(s=>v.jsxs(ei,{to:`/blog/tags/${s.toLowerCase()}`,className:"text-sm bg-gray-100 hover:bg-indigo-100 text-gray-700 hover:text-indigo-600 px-4 py-2 rounded-lg transition-colors",children:["#",s]},s))})]}),v.jsx("div",{className:"mt-10 p-6 bg-gray-50 rounded-lg",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden flex-shrink-0",children:v.jsx("img",{src:t.author.avatar,alt:t.author.name,className:"w-full h-full object-cover"})}),v.jsxs("div",{children:[v.jsx(ei,{to:`/blog/author/${t.author.id}`,className:"text-xl font-bold text-gray-900 hover:text-indigo-600 transition-colors",children:t.author.name}),v.jsx("p",{className:"text-gray-600 mt-1",children:t.author.bio})]})]})})]}),e.length>0&&v.jsx("div",{className:"mt-12",children:v.jsx(TY,{posts:e})}),v.jsx("div",{className:"px-6 md:px-10 pb-10",children:v.jsx(bY,{postId:t.id})})]})},MY=()=>{const{slug:t}=J_(),e=Ta(),n=t?mY(t):void 0,i=n?_Y(n.id,3):[];V.useEffect(()=>{window.scrollTo(0,0),t&&!n&&e("/blog")},[t,n,e]);const r=s=>{s.trim()&&e(`/blog?search=${encodeURIComponent(s)}`)};return n?v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-navy-light text-gray-900 dark:text-light",children:[v.jsx(zm,{onSearch:r}),v.jsx("main",{className:"container mx-auto px-4 py-8",children:v.jsx(AY,{post:n,relatedPosts:i})})]}):null},CY=()=>{const{slug:t}=J_(),e=Ta(),[n,i]=V.useState(),[r,s]=V.useState([]);V.useEffect(()=>{if(t){const a=NN.find(l=>l.slug===t);a?(i(a),s(gY(a.name))):e("/blog")}},[t,e]);const o=a=>{a.trim()&&e(`/blog?search=${encodeURIComponent(a)}`)};return n?v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gradient-to-b dark:from-[#0f172a] dark:to-[#1e293b] transition-colors duration-300",children:[v.jsx(zm,{onSearch:o}),v.jsxs("main",{className:"container mx-auto px-4 py-12",children:[v.jsxs("div",{className:"mb-12 text-center",children:[v.jsxs("h1",{className:"text-3xl md:text-5xl font-bold text-gray-800 dark:text-white mb-4 relative inline-block group",children:[v.jsx("span",{className:"bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] bg-clip-text text-transparent",children:n.name}),v.jsx("span",{className:"absolute left-0 -bottom-1 w-full h-0.5 bg-gradient-to-r from-[#00F5A0] to-[#00D9F5] scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"})]}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-3xl mx-auto text-lg",children:n.description})]}),r.length===0?v.jsxs("div",{className:"text-center py-16",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-700 dark:text-white mb-2",children:"No posts found"}),v.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"There are no posts in this category yet."})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((a,l)=>v.jsx(jm,{post:a,index:l},a.id))})]})]}):null},RY=()=>{const{tag:t}=J_(),e=Ta(),[n,i]=V.useState([]);V.useEffect(()=>{t&&i(vY(t))},[t]);const r=s=>{s.trim()&&e(`/blog?search=${encodeURIComponent(s)}`)};return t?v.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-navy-light",children:[v.jsx(zm,{onSearch:r}),v.jsxs("main",{className:"container mx-auto px-4 py-8",children:[v.jsxs("div",{className:"mb-12 text-center",children:[v.jsxs("div",{className:"flex items-center justify-center mb-4",children:[v.jsx(xP,{size:24,className:"text-indigo-600 mr-2"}),v.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:["#",t]})]}),v.jsxs("p",{className:"text-gray-600 max-w-3xl mx-auto",children:["Browse all articles tagged with #",t]})]}),n.length===0?v.jsxs("div",{className:"text-center py-16",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No posts found"}),v.jsx("p",{className:"text-gray-500",children:"There are no posts with this tag yet."})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((s,o)=>v.jsx(jm,{post:s,index:o},s.id))})]})]}):null},PY=()=>v.jsxs(YR,{children:[v.jsx(Gs,{path:"/",element:v.jsx(SY,{})}),v.jsx(Gs,{path:"/:slug",element:v.jsx(MY,{})}),v.jsx(Gs,{path:"/categories/:slug",element:v.jsx(CY,{})}),v.jsx(Gs,{path:"/tags/:tag",element:v.jsx(RY,{})})]});function lE(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function LN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IY=LN,DN=new Aa("auth","Firebase",LN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new Yx("@firebase/auth");function NY(t,...e){Rp.logLevel<=at.WARN&&Rp.warn(`Auth (${fc}): ${t}`,...e)}function Tf(t,...e){Rp.logLevel<=at.ERROR&&Rp.error(`Auth (${fc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,...e){throw cE(t,...e)}function Ar(t,...e){return cE(t,...e)}function kN(t,e,n){const i=Object.assign(Object.assign({},IY()),{[e]:n});return new Aa("auth","Firebase",i).create(e,{appName:t.name})}function so(t){return kN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cE(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return DN.create(t,...e)}function Be(t,e,...n){if(!t)throw cE(e,...n)}function Jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tf(e),new Error(e)}function ms(t,e){t||Jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LY(){return gA()==="http:"||gA()==="https:"}function gA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LY()||U$()||"connection"in navigator)?navigator.onLine:!0}function kY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=D$()||F$()}get(){return DY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY=new Dd(3e4,6e4);function Ma(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function So(t,e,n,i,r={}){return UN(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Nd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return O$()||(c.referrerPolicy="no-referrer"),ON.fetch()(FN(t,t.config.apiHost,n,a),c)})}async function UN(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},OY),e);try{const r=new VY(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jh(t,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kN(t,u,c);hr(t,u)}}catch(r){if(r instanceof Lr)throw r;hr(t,"network-request-failed",{message:String(r)})}}async function Hm(t,e,n,i,r={}){const s=await So(t,e,n,i,r);return"mfaPendingCredential"in s&&hr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function FN(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?uE(t.config,r):`${t.config.apiScheme}://${r}`}function FY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ar(this.auth,"network-request-failed")),UY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Ar(t,e,i);return r.customData._tokenResponse=n,r}function vA(t){return t!==void 0&&t.enterprise!==void 0}class BY{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FY(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function zY(t,e){return So(t,"GET","/v2/recaptchaConfig",Ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jY(t,e){return So(t,"POST","/v1/accounts:delete",e)}async function VN(t,e){return So(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HY(t,e=!1){const n=ii(t),i=await n.getIdToken(e),r=dE(i);Be(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:xu(Xv(r.auth_time)),issuedAtTime:xu(Xv(r.iat)),expirationTime:xu(Xv(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xv(t){return Number(t)*1e3}function dE(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const r=B2(n);return r?JSON.parse(r):(Tf("Failed to decode base64 JWT payload"),null)}catch(r){return Tf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function yA(t){const e=dE(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Lr&&GY(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function GY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(t){var e;const n=t.auth,i=await t.getIdToken(),r=await ed(t,VN(n,{idToken:i}));Be(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BN(s.providerUserInfo):[],a=qY(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zy(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function $Y(t){const e=ii(t);await Pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qY(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function BN(t){return t.map(e=>{var{providerId:n}=e,i=lE(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XY(t,e){const n=await UN(t,{},async()=>{const i=Nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=FN(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ON.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KY(t,e){return So(t,"POST","/v2/accounts:revokeToken",Ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=yA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await XY(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Il;return i&&(Be(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Be(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=lE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ed(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HY(this,e)}reload(){return $Y(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Pp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qr(this.auth.app))return Promise.reject(so(this.auth));const e=await this.getIdToken();return await ed(this,jY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:M,isAnonymous:N,providerData:P,stsTokenManager:T}=n;Be(S&&T,e,"internal-error");const A=Il.fromJSON(this.name,T);Be(typeof S=="string",e,"internal-error"),Ps(h,e.name),Ps(f,e.name),Be(typeof M=="boolean",e,"internal-error"),Be(typeof N=="boolean",e,"internal-error"),Ps(g,e.name),Ps(_,e.name),Ps(w,e.name),Ps(m,e.name),Ps(p,e.name),Ps(E,e.name);const R=new Zr({uid:S,auth:e,email:f,emailVerified:M,displayName:h,isAnonymous:N,photoURL:_,phoneNumber:g,tenantId:w,stsTokenManager:A,createdAt:p,lastLoginAt:E});return P&&Array.isArray(P)&&(R.providerData=P.map(x=>Object.assign({},x))),m&&(R._redirectEventId=m),R}static async _fromIdTokenResponse(e,n,i=!1){const r=new Il;r.updateFromServerResponse(n);const s=new Zr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Pp(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];Be(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?BN(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Il;a.updateFromIdToken(i);const l=new Zr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new zy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new Map;function es(t){ms(t instanceof Function,"Expected a class definition");let e=_A.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_A.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zN.type="NONE";const xA=zN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t,e,n){return`firebase:${t}:${e}:${n}`}class Nl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=bf(this.userKey,r.apiKey,s),this.fullPersistenceKey=bf("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Nl(es(xA),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||es(xA);const o=bf(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Zr._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Nl(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Nl(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qN(e))return"Blackberry";if(XN(e))return"Webos";if(HN(e))return"Safari";if((e.includes("chrome/")||GN(e))&&!e.includes("edge/"))return"Chrome";if($N(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function jN(t=Kn()){return/firefox\//i.test(t)}function HN(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GN(t=Kn()){return/crios\//i.test(t)}function WN(t=Kn()){return/iemobile/i.test(t)}function $N(t=Kn()){return/android/i.test(t)}function qN(t=Kn()){return/blackberry/i.test(t)}function XN(t=Kn()){return/webos/i.test(t)}function hE(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YY(t=Kn()){var e;return hE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QY(){return V$()&&document.documentMode===10}function KN(t=Kn()){return hE(t)||$N(t)||XN(t)||qN(t)||/windows phone/i.test(t)||WN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t,e=[]){let n;switch(t){case"Browser":n=EA(Kn());break;case"Worker":n=`${EA(Kn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZY(t,e={}){return So(t,"GET","/v2/passwordPolicy",Ma(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ=6;class tQ{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eQ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SA(this),this.idTokenSubscription=new SA(this),this.beforeStateQueue=new JY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VN(this,{idToken:e}),i=await Zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qr(this.app))return Promise.reject(so(this));const n=e?ii(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qr(this.app)?Promise.reject(so(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qr(this.app)?Promise.reject(so(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZY(this),n=new tQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Aa("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await KY(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NY(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pc(t){return ii(t)}class SA{constructor(e){this.auth=e,this.observer=null,this.addObserver=$$(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iQ(t){Gm=t}function QN(t){return Gm.loadJS(t)}function rQ(){return Gm.recaptchaEnterpriseScript}function sQ(){return Gm.gapiScript}function oQ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const aQ="recaptcha-enterprise",lQ="NO_RECAPTCHA";class cQ{constructor(e){this.type=aQ,this.auth=pc(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{zY(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new BY(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;vA(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(lQ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&vA(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=rQ();l.length!==0&&(l+=a),QN(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function wA(t,e,n,i=!1){const r=new cQ(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function TA(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await wA(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await wA(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t,e){const n=hc(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ap(s,e??{}))return r;hr(r,"already-initialized")}return n.initialize({options:e})}function dQ(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function hQ(t,e,n){const i=pc(t);Be(i._canInitEmulator,i,"emulator-config-failed"),Be(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=JN(e),{host:o,port:a}=fQ(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),pQ()}function JN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fQ(t){const e=JN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:bA(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:bA(o)}}}function bA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pQ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}async function mQ(t,e){return So(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gQ(t,e){return Hm(t,"POST","/v1/accounts:signInWithPassword",Ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vQ(t,e){return Hm(t,"POST","/v1/accounts:signInWithEmailLink",Ma(t,e))}async function yQ(t,e){return Hm(t,"POST","/v1/accounts:signInWithEmailLink",Ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends fE{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new td(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new td(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TA(e,n,"signInWithPassword",gQ);case"emailLink":return vQ(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TA(e,i,"signUpPassword",mQ);case"emailLink":return yQ(e,{idToken:n,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t,e){return Hm(t,"POST","/v1/accounts:signInWithIdp",Ma(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q="http://localhost";class va extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=lE(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new va(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ll(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ll(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ll(e,n)}buildRequest(){const e={requestUri:_Q,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EQ(t){const e=nu(iu(t)).link,n=e?nu(iu(e)).deep_link_id:null,i=nu(iu(t)).deep_link_id;return(i?nu(iu(i)).link:null)||i||n||e||t}class pE{constructor(e){var n,i,r,s,o,a;const l=nu(iu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=xQ((r=l.mode)!==null&&r!==void 0?r:null);Be(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=EQ(e);try{return new pE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.providerId=mc.PROVIDER_ID}static credential(e,n){return td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=pE.parseLink(n);return Be(i,"argument-error"),td._fromEmailAndCode(e,i.code,i.tenantId)}}mc.PROVIDER_ID="password";mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends ZN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends kd{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends kd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return va._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Fs.credential(n,i)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends kd{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends kd{constructor(){super("twitter.com")}static credential(e,n){return va._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Bs.credential(n,i)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Zr._fromIdTokenResponse(e,i,r),o=AA(i);return new Yl({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=AA(i);return new Yl({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function AA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends Lr{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ip.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Ip(e,n,i,r)}}function eL(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ip._fromErrorAndOperation(t,s,e,i):s})}async function SQ(t,e,n=!1){const i=await ed(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yl._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wQ(t,e,n=!1){const{auth:i}=t;if(Qr(i.app))return Promise.reject(so(i));const r="reauthenticate";try{const s=await ed(t,eL(i,r,e,t),n);Be(s.idToken,i,"internal-error");const o=dE(s.idToken);Be(o,i,"internal-error");const{sub:a}=o;return Be(t.uid===a,i,"user-mismatch"),Yl._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hr(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e,n=!1){if(Qr(t.app))return Promise.reject(so(t));const i="signIn",r=await eL(t,i,e),s=await Yl._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function TQ(t,e){return tL(pc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bQ(t){const e=pc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function AQ(t,e,n){return Qr(t.app)?Promise.reject(so(t)):TQ(ii(t),mc.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&bQ(t),i})}function MQ(t,e,n,i){return ii(t).onIdTokenChanged(e,n,i)}function CQ(t,e,n){return ii(t).beforeAuthStateChanged(e,n)}function RQ(t,e,n,i){return ii(t).onAuthStateChanged(e,n,i)}const Np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ=1e3,IQ=10;class iL extends nL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);QY()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,IQ):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},PQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iL.type="LOCAL";const NQ=iL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL extends nL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rL.type="SESSION";const sL=rL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Wm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await LQ(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=mE("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function kQ(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function OQ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UQ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FQ(){return oL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="firebaseLocalStorageDb",VQ=1,Lp="firebaseLocalStorage",lL="fbase_key";class Od{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $m(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function BQ(){const t=indexedDB.deleteDatabase(aL);return new Od(t).toPromise()}function jy(){const t=indexedDB.open(aL,VQ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Lp,{keyPath:lL})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Lp)?e(i):(i.close(),await BQ(),e(await jy()))})})}async function MA(t,e,n){const i=$m(t,!0).put({[lL]:e,value:n});return new Od(i).toPromise()}async function zQ(t,e){const n=$m(t,!1).get(e),i=await new Od(n).toPromise();return i===void 0?null:i.value}function CA(t,e){const n=$m(t,!0).delete(e);return new Od(n).toPromise()}const jQ=800,HQ=3;class cL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>HQ)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wm._getInstance(FQ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OQ(),!this.activeServiceWorker)return;this.sender=new DQ(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UQ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jy();return await MA(e,Np,"1"),await CA(e,Np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>MA(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>zQ(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=$m(r,!1).getAll();return new Od(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jQ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cL.type="LOCAL";const GQ=cL;new Dd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WQ(t,e){return e?es(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE extends fE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $Q(t){return tL(t.auth,new gE(t),t.bypassAuthState)}function qQ(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),wQ(n,new gE(t),t.bypassAuthState)}async function XQ(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),SQ(n,new gE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $Q;case"linkViaPopup":case"linkViaRedirect":return XQ;case"reauthViaPopup":case"reauthViaRedirect":return qQ;default:hr(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ=new Dd(2e3,1e4);class xl extends uL{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=mE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KQ.get())};e()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ="pendingRedirect",Af=new Map;class QQ extends uL{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const i=await JQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JQ(t,e){const n=tJ(e),i=eJ(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function ZQ(t,e){Af.set(t._key(),e)}function eJ(t){return es(t._redirectPersistence)}function tJ(t){return bf(YQ,t.config.apiKey,t.name)}async function nJ(t,e,n=!1){if(Qr(t.app))return Promise.reject(so(t));const i=pc(t),r=WQ(i,e),o=await new QQ(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iJ=10*60*1e3;class rJ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sJ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!dL(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(RA(e))}saveEventToCache(e){this.cachedEventUids.add(RA(e)),this.lastProcessedEventTime=Date.now()}}function RA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sJ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oJ(t,e={}){return So(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lJ=/^https?/;async function cJ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oJ(t);for(const n of e)try{if(uJ(n))return}catch{}hr(t,"unauthorized-domain")}function uJ(t){const e=By(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!lJ.test(n))return!1;if(aJ.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ=new Dd(3e4,6e4);function PA(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hJ(t){return new Promise((e,n)=>{var i,r,s;function o(){PA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PA(),n(Ar(t,"network-request-failed"))},timeout:dJ.get()})}if(!((r=(i=Mr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Mr().gapi)===null||s===void 0)&&s.load)o();else{const a=oQ("iframefcb");return Mr()[a]=()=>{gapi.load?o():n(Ar(t,"network-request-failed"))},QN(`${sQ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function fJ(t){return Mf=Mf||hJ(t),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ=new Dd(5e3,15e3),mJ="__/auth/iframe",gJ="emulator/auth/iframe",vJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _J(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uE(e,gJ):`https://${t.config.authDomain}/${mJ}`,i={apiKey:e.apiKey,appName:t.name,v:fc},r=yJ.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Nd(i).slice(1)}`}async function xJ(t){const e=await fJ(t),n=Mr().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:_J(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vJ,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Ar(t,"network-request-failed"),a=Mr().setTimeout(()=>{s(o)},pJ.get());function l(){Mr().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SJ=500,wJ=600,TJ="_blank",bJ="http://localhost";class IA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AJ(t,e,n,i=SJ,r=wJ){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},EJ),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Kn().toLowerCase();n&&(a=GN(c)?TJ:n),jN(c)&&(e=e||bJ,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(YY(c)&&a!=="_self")return MJ(e||"",a),new IA(null);const h=window.open(e||"",a,u);Be(h,t,"popup-blocked");try{h.focus()}catch{}return new IA(h)}function MJ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CJ="__/auth/handler",RJ="emulator/auth/handler",PJ=encodeURIComponent("fac");async function NA(t,e,n,i,r,s){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:fc,eventId:r};if(e instanceof ZN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",W$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof kd){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${PJ}=${encodeURIComponent(l)}`:"";return`${IJ(t)}?${Nd(a).slice(1)}${c}`}function IJ({config:t}){return t.emulator?uE(t,RJ):`https://${t.authDomain}/${CJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="webStorageSupport";class NJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sL,this._completeRedirectFn=nJ,this._overrideRedirectResult=ZQ}async _openPopup(e,n,i,r){var s;ms((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await NA(e,n,i,By(),r);return AJ(e,o,mE())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await NA(e,n,i,By(),r);return kQ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ms(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await xJ(e),i=new rJ(e);return n.register("authEvent",r=>(Be(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kv,{type:Kv},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Kv];o!==void 0&&n(!!o),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cJ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KN()||HN()||hE()}}const LJ=NJ;var LA="@firebase/auth",DA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OJ(t){Rr(new dr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Be(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YN(t)},c=new nQ(i,r,s,l);return dQ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Rr(new dr("auth-internal",e=>{const n=pc(e.getProvider("auth").getImmediate());return(i=>new DJ(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(LA,DA,kJ(t)),ji(LA,DA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ=5*60,FJ=H2("authIdTokenMaxAge")||UJ;let kA=null;const VJ=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>FJ)return;const r=n==null?void 0:n.token;kA!==r&&(kA=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function BJ(t=Jx()){const e=hc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uQ(t,{popupRedirectResolver:LJ,persistence:[GQ,NQ,sL]}),i=H2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=VJ(s.toString());CQ(n,o,()=>o(n.currentUser)),MQ(n,a=>o(a))}}const r=z2("auth");return r&&hQ(n,`http://${r}`),n}function zJ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iQ({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Ar("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",zJ().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OJ("Browser");var OA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,A){function R(){}R.prototype=A.prototype,T.D=A.prototype,T.prototype=new R,T.prototype.constructor=T,T.C=function(x,C,O){for(var D=Array(arguments.length-2),B=2;B<arguments.length;B++)D[B-2]=arguments[B];return A.prototype[C].apply(x,D)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,A,R){R||(R=0);var x=Array(16);if(typeof A=="string")for(var C=0;16>C;++C)x[C]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(C=0;16>C;++C)x[C]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=T.g[0],R=T.g[1],C=T.g[2];var O=T.g[3],D=A+(O^R&(C^O))+x[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=O+(C^A&(R^C))+x[1]+3905402710&4294967295,O=A+(D<<12&4294967295|D>>>20),D=C+(R^O&(A^R))+x[2]+606105819&4294967295,C=O+(D<<17&4294967295|D>>>15),D=R+(A^C&(O^A))+x[3]+3250441966&4294967295,R=C+(D<<22&4294967295|D>>>10),D=A+(O^R&(C^O))+x[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=O+(C^A&(R^C))+x[5]+1200080426&4294967295,O=A+(D<<12&4294967295|D>>>20),D=C+(R^O&(A^R))+x[6]+2821735955&4294967295,C=O+(D<<17&4294967295|D>>>15),D=R+(A^C&(O^A))+x[7]+4249261313&4294967295,R=C+(D<<22&4294967295|D>>>10),D=A+(O^R&(C^O))+x[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=O+(C^A&(R^C))+x[9]+2336552879&4294967295,O=A+(D<<12&4294967295|D>>>20),D=C+(R^O&(A^R))+x[10]+4294925233&4294967295,C=O+(D<<17&4294967295|D>>>15),D=R+(A^C&(O^A))+x[11]+2304563134&4294967295,R=C+(D<<22&4294967295|D>>>10),D=A+(O^R&(C^O))+x[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=O+(C^A&(R^C))+x[13]+4254626195&4294967295,O=A+(D<<12&4294967295|D>>>20),D=C+(R^O&(A^R))+x[14]+2792965006&4294967295,C=O+(D<<17&4294967295|D>>>15),D=R+(A^C&(O^A))+x[15]+1236535329&4294967295,R=C+(D<<22&4294967295|D>>>10),D=A+(C^O&(R^C))+x[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=O+(R^C&(A^R))+x[6]+3225465664&4294967295,O=A+(D<<9&4294967295|D>>>23),D=C+(A^R&(O^A))+x[11]+643717713&4294967295,C=O+(D<<14&4294967295|D>>>18),D=R+(O^A&(C^O))+x[0]+3921069994&4294967295,R=C+(D<<20&4294967295|D>>>12),D=A+(C^O&(R^C))+x[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=O+(R^C&(A^R))+x[10]+38016083&4294967295,O=A+(D<<9&4294967295|D>>>23),D=C+(A^R&(O^A))+x[15]+3634488961&4294967295,C=O+(D<<14&4294967295|D>>>18),D=R+(O^A&(C^O))+x[4]+3889429448&4294967295,R=C+(D<<20&4294967295|D>>>12),D=A+(C^O&(R^C))+x[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=O+(R^C&(A^R))+x[14]+3275163606&4294967295,O=A+(D<<9&4294967295|D>>>23),D=C+(A^R&(O^A))+x[3]+4107603335&4294967295,C=O+(D<<14&4294967295|D>>>18),D=R+(O^A&(C^O))+x[8]+1163531501&4294967295,R=C+(D<<20&4294967295|D>>>12),D=A+(C^O&(R^C))+x[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=O+(R^C&(A^R))+x[2]+4243563512&4294967295,O=A+(D<<9&4294967295|D>>>23),D=C+(A^R&(O^A))+x[7]+1735328473&4294967295,C=O+(D<<14&4294967295|D>>>18),D=R+(O^A&(C^O))+x[12]+2368359562&4294967295,R=C+(D<<20&4294967295|D>>>12),D=A+(R^C^O)+x[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=O+(A^R^C)+x[8]+2272392833&4294967295,O=A+(D<<11&4294967295|D>>>21),D=C+(O^A^R)+x[11]+1839030562&4294967295,C=O+(D<<16&4294967295|D>>>16),D=R+(C^O^A)+x[14]+4259657740&4294967295,R=C+(D<<23&4294967295|D>>>9),D=A+(R^C^O)+x[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=O+(A^R^C)+x[4]+1272893353&4294967295,O=A+(D<<11&4294967295|D>>>21),D=C+(O^A^R)+x[7]+4139469664&4294967295,C=O+(D<<16&4294967295|D>>>16),D=R+(C^O^A)+x[10]+3200236656&4294967295,R=C+(D<<23&4294967295|D>>>9),D=A+(R^C^O)+x[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=O+(A^R^C)+x[0]+3936430074&4294967295,O=A+(D<<11&4294967295|D>>>21),D=C+(O^A^R)+x[3]+3572445317&4294967295,C=O+(D<<16&4294967295|D>>>16),D=R+(C^O^A)+x[6]+76029189&4294967295,R=C+(D<<23&4294967295|D>>>9),D=A+(R^C^O)+x[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=O+(A^R^C)+x[12]+3873151461&4294967295,O=A+(D<<11&4294967295|D>>>21),D=C+(O^A^R)+x[15]+530742520&4294967295,C=O+(D<<16&4294967295|D>>>16),D=R+(C^O^A)+x[2]+3299628645&4294967295,R=C+(D<<23&4294967295|D>>>9),D=A+(C^(R|~O))+x[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=O+(R^(A|~C))+x[7]+1126891415&4294967295,O=A+(D<<10&4294967295|D>>>22),D=C+(A^(O|~R))+x[14]+2878612391&4294967295,C=O+(D<<15&4294967295|D>>>17),D=R+(O^(C|~A))+x[5]+4237533241&4294967295,R=C+(D<<21&4294967295|D>>>11),D=A+(C^(R|~O))+x[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=O+(R^(A|~C))+x[3]+2399980690&4294967295,O=A+(D<<10&4294967295|D>>>22),D=C+(A^(O|~R))+x[10]+4293915773&4294967295,C=O+(D<<15&4294967295|D>>>17),D=R+(O^(C|~A))+x[1]+2240044497&4294967295,R=C+(D<<21&4294967295|D>>>11),D=A+(C^(R|~O))+x[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=O+(R^(A|~C))+x[15]+4264355552&4294967295,O=A+(D<<10&4294967295|D>>>22),D=C+(A^(O|~R))+x[6]+2734768916&4294967295,C=O+(D<<15&4294967295|D>>>17),D=R+(O^(C|~A))+x[13]+1309151649&4294967295,R=C+(D<<21&4294967295|D>>>11),D=A+(C^(R|~O))+x[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=O+(R^(A|~C))+x[11]+3174756917&4294967295,O=A+(D<<10&4294967295|D>>>22),D=C+(A^(O|~R))+x[2]+718787259&4294967295,C=O+(D<<15&4294967295|D>>>17),D=R+(O^(C|~A))+x[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(C+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+O&4294967295}i.prototype.u=function(T,A){A===void 0&&(A=T.length);for(var R=A-this.blockSize,x=this.B,C=this.h,O=0;O<A;){if(C==0)for(;O<=R;)r(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<A;)if(x[C++]=T.charCodeAt(O++),C==this.blockSize){r(this,x),C=0;break}}else for(;O<A;)if(x[C++]=T[O++],C==this.blockSize){r(this,x),C=0;break}}this.h=C,this.o+=A},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;var R=8*this.o;for(A=T.length-8;A<T.length;++A)T[A]=R&255,R/=256;for(this.u(T),T=Array(16),A=R=0;4>A;++A)for(var x=0;32>x;x+=8)T[R++]=this.g[A]>>>x&255;return T};function s(T,A){var R=a;return Object.prototype.hasOwnProperty.call(R,T)?R[T]:R[T]=A(T)}function o(T,A){this.h=A;for(var R=[],x=!0,C=T.length-1;0<=C;C--){var O=T[C]|0;x&&O==A||(R[C]=O,x=!1)}this.g=R}var a={};function l(T){return-128<=T&&128>T?s(T,function(A){return new o([A|0],0>A?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return m(c(-T));for(var A=[],R=1,x=0;T>=R;x++)A[x]=T/R|0,R*=4294967296;return new o(A,0)}function u(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return m(u(T.substring(1),A));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(A,8)),x=h,C=0;C<T.length;C+=8){var O=Math.min(8,T.length-C),D=parseInt(T.substring(C,C+O),A);8>O?(O=c(Math.pow(A,O)),x=x.j(O).add(c(D))):(x=x.j(R),x=x.add(c(D)))}return x}var h=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-m(this).m();for(var T=0,A=1,R=0;R<this.g.length;R++){var x=this.i(R);T+=(0<=x?x:4294967296+x)*A,A*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(w(this))return"-"+m(this).toString(T);for(var A=c(Math.pow(T,6)),R=this,x="";;){var C=M(R,A).g;R=p(R,C.j(A));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(T);if(R=C,_(R))return O+x;for(;6>O.length;)O="0"+O;x=O+x}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function w(T){return T.h==-1}t.l=function(T){return T=p(this,T),w(T)?-1:_(T)?0:1};function m(T){for(var A=T.g.length,R=[],x=0;x<A;x++)R[x]=~T.g[x];return new o(R,~T.h).add(f)}t.abs=function(){return w(this)?m(this):this},t.add=function(T){for(var A=Math.max(this.g.length,T.g.length),R=[],x=0,C=0;C<=A;C++){var O=x+(this.i(C)&65535)+(T.i(C)&65535),D=(O>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);x=D>>>16,O&=65535,D&=65535,R[C]=D<<16|O}return new o(R,R[R.length-1]&-2147483648?-1:0)};function p(T,A){return T.add(m(A))}t.j=function(T){if(_(this)||_(T))return h;if(w(this))return w(T)?m(this).j(m(T)):m(m(this).j(T));if(w(T))return m(this.j(m(T)));if(0>this.l(g)&&0>T.l(g))return c(this.m()*T.m());for(var A=this.g.length+T.g.length,R=[],x=0;x<2*A;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var C=0;C<T.g.length;C++){var O=this.i(x)>>>16,D=this.i(x)&65535,B=T.i(C)>>>16,te=T.i(C)&65535;R[2*x+2*C]+=D*te,E(R,2*x+2*C),R[2*x+2*C+1]+=O*te,E(R,2*x+2*C+1),R[2*x+2*C+1]+=D*B,E(R,2*x+2*C+1),R[2*x+2*C+2]+=O*B,E(R,2*x+2*C+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new o(R,0)};function E(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function S(T,A){this.g=T,this.h=A}function M(T,A){if(_(A))throw Error("division by zero");if(_(T))return new S(h,h);if(w(T))return A=M(m(T),A),new S(m(A.g),m(A.h));if(w(A))return A=M(T,m(A)),new S(m(A.g),A.h);if(30<T.g.length){if(w(T)||w(A))throw Error("slowDivide_ only works with positive integers.");for(var R=f,x=A;0>=x.l(T);)R=N(R),x=N(x);var C=P(R,1),O=P(x,1);for(x=P(x,2),R=P(R,2);!_(x);){var D=O.add(x);0>=D.l(T)&&(C=C.add(R),O=D),x=P(x,1),R=P(R,1)}return A=p(T,C.j(A)),new S(C,A)}for(C=h;0<=T.l(A);){for(R=Math.max(1,Math.floor(T.m()/A.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),O=c(R),D=O.j(A);w(D)||0<D.l(T);)R-=x,O=c(R),D=O.j(A);_(O)&&(O=f),C=C.add(O),T=p(T,D)}return new S(C,T)}t.A=function(T){return M(this,T).h},t.and=function(T){for(var A=Math.max(this.g.length,T.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)&T.i(x);return new o(R,this.h&T.h)},t.or=function(T){for(var A=Math.max(this.g.length,T.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)|T.i(x);return new o(R,this.h|T.h)},t.xor=function(T){for(var A=Math.max(this.g.length,T.g.length),R=[],x=0;x<A;x++)R[x]=this.i(x)^T.i(x);return new o(R,this.h^T.h)};function N(T){for(var A=T.g.length+1,R=[],x=0;x<A;x++)R[x]=T.i(x)<<1|T.i(x-1)>>>31;return new o(R,T.h)}function P(T,A){var R=A>>5;A%=32;for(var x=T.g.length-R,C=[],O=0;O<x;O++)C[O]=0<A?T.i(O+R)>>>A|T.i(O+R+1)<<32-A:T.i(O+R);return new o(C,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,hL=o}).apply(typeof OA<"u"?OA:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fL,ru,pL,Cf,Hy,mL,gL,vL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,b){return d==Array.prototype||d==Object.prototype||(d[y]=b.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var y=0;y<d.length;++y){var b=d[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function r(d,y){if(y)e:{var b=i;d=d.split(".");for(var L=0;L<d.length-1;L++){var H=d[L];if(!(H in b))break e;b=b[H]}d=d[d.length-1],L=b[d],y=y(L),y!=L&&y!=null&&e(b,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var b=0,L=!1,H={next:function(){if(!L&&b<d.length){var ee=b++;return{value:y(ee,d[ee]),done:!1}}return L=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}r("Array.prototype.values",function(d){return d||function(){return s(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function c(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function u(d,y,b){return d.call.apply(d.bind,arguments)}function h(d,y,b){if(!d)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,L),d.apply(y,H)}}return function(){return d.apply(y,arguments)}}function f(d,y,b){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function g(d,y){var b=Array.prototype.slice.call(arguments,1);return function(){var L=b.slice();return L.push.apply(L,arguments),d.apply(this,L)}}function _(d,y){function b(){}b.prototype=y.prototype,d.aa=y.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(L,H,ee){for(var ge=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)ge[Tt-2]=arguments[Tt];return y.prototype[H].apply(L,ge)}}function w(d){const y=d.length;if(0<y){const b=Array(y);for(let L=0;L<y;L++)b[L]=d[L];return b}return[]}function m(d,y){for(let b=1;b<arguments.length;b++){const L=arguments[b];if(l(L)){const H=d.length||0,ee=L.length||0;d.length=H+ee;for(let ge=0;ge<ee;ge++)d[H+ge]=L[ge]}else d.push(L)}}class p{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function E(d){return/^[\s\xa0]*$/.test(d)}function S(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function M(d){return M[" "](d),d}M[" "]=function(){};var N=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function P(d,y,b){for(const L in d)y.call(b,d[L],L,d)}function T(d,y){for(const b in d)y.call(void 0,d[b],b,d)}function A(d){const y={};for(const b in d)y[b]=d[b];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(d,y){let b,L;for(let H=1;H<arguments.length;H++){L=arguments[H];for(b in L)d[b]=L[b];for(let ee=0;ee<R.length;ee++)b=R[ee],Object.prototype.hasOwnProperty.call(L,b)&&(d[b]=L[b])}}function C(d){var y=1;d=d.split(":");const b=[];for(;0<y&&d.length;)b.push(d.shift()),y--;return d.length&&b.push(d.join(":")),b}function O(d){a.setTimeout(()=>{throw d},0)}function D(){var d=W;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class B{constructor(){this.h=this.g=null}add(y,b){const L=te.get();L.set(y,b),this.h?this.h.next=L:this.g=L,this.h=L}}var te=new p(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,W=new B,X=()=>{const d=a.Promise.resolve(void 0);ne=()=>{d.then(ie)}};var ie=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(b){O(b)}var y=te;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}z=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};a.addEventListener("test",b,y),a.removeEventListener("test",b,y)}catch{}return d}();function re(d,y){if(Se.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,L=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(N){e:{try{M(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else b=="mouseover"?y=d.fromElement:b=="mouseout"&&(y=d.toElement);this.relatedTarget=y,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:xe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&re.aa.h.call(this)}}_(re,Se);var xe={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ce(d,y,b,L,H){this.listener=d,this.proxy=null,this.src=y,this.type=b,this.capture=!!L,this.ha=H,this.key=++Oe,this.da=this.fa=!1}function st(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function He(d){this.src=d,this.g={},this.h=0}He.prototype.add=function(d,y,b,L,H){var ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);var ge=Kt(d,y,L,H);return-1<ge?(y=d[ge],b||(y.fa=!1)):(y=new Ce(y,this.src,ee,!!L,H),y.fa=b,d.push(y)),y};function G(d,y){var b=y.type;if(b in d.g){var L=d.g[b],H=Array.prototype.indexOf.call(L,y,void 0),ee;(ee=0<=H)&&Array.prototype.splice.call(L,H,1),ee&&(st(y),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Kt(d,y,b,L){for(var H=0;H<d.length;++H){var ee=d[H];if(!ee.da&&ee.listener==y&&ee.capture==!!b&&ee.ha==L)return H}return-1}var Ne="closure_lm_"+(1e6*Math.random()|0),ze={};function Pe(d,y,b,L,H){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)Pe(d,y[ee],b,L,H);return null}return b=Ae(b),d&&d[Me]?d.K(y,b,c(L)?!!L.capture:!!L,H):Pt(d,y,b,!1,L,H)}function Pt(d,y,b,L,H,ee){if(!y)throw Error("Invalid event type");var ge=c(H)?!!H.capture:!!H,Tt=oe(d);if(Tt||(d[Ne]=Tt=new He(d)),b=Tt.add(y,b,L,ge,ee),b.proxy)return b;if(L=Xe(),b.proxy=L,L.src=d,L.listener=b,d.addEventListener)J||(H=ge),H===void 0&&(H=!1),d.addEventListener(y.toString(),L,H);else if(d.attachEvent)d.attachEvent(q(y.toString()),L);else if(d.addListener&&d.removeListener)d.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Xe(){function d(b){return y.call(d.src,d.listener,b)}const y=de;return d}function U(d,y,b,L,H){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)U(d,y[ee],b,L,H);else L=c(L)?!!L.capture:!!L,b=Ae(b),d&&d[Me]?(d=d.i,y=String(y).toString(),y in d.g&&(ee=d.g[y],b=Kt(ee,b,L,H),-1<b&&(st(ee[b]),Array.prototype.splice.call(ee,b,1),ee.length==0&&(delete d.g[y],d.h--)))):d&&(d=oe(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Kt(y,b,L,H)),(b=-1<d?y[d]:null)&&I(b))}function I(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Me])G(y.i,d);else{var b=d.type,L=d.proxy;y.removeEventListener?y.removeEventListener(b,L,d.capture):y.detachEvent?y.detachEvent(q(b),L):y.addListener&&y.removeListener&&y.removeListener(L),(b=oe(y))?(G(b,d),b.h==0&&(b.src=null,y[Ne]=null)):st(d)}}}function q(d){return d in ze?ze[d]:ze[d]="on"+d}function de(d,y){if(d.da)d=!0;else{y=new re(y,this);var b=d.listener,L=d.ha||d.src;d.fa&&I(d),d=b.call(L,y)}return d}function oe(d){return d=d[Ne],d instanceof He?d:null}var ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(d){return typeof d=="function"?d:(d[ce]||(d[ce]=function(y){return d.handleEvent(y)}),d[ce])}function he(){se.call(this),this.i=new He(this),this.M=this,this.F=null}_(he,se),he.prototype[Me]=!0,he.prototype.removeEventListener=function(d,y,b,L){U(this,d,y,b,L)};function ye(d,y){var b,L=d.F;if(L)for(b=[];L;L=L.F)b.push(L);if(d=d.M,L=y.type||y,typeof y=="string")y=new Se(y,d);else if(y instanceof Se)y.target=y.target||d;else{var H=y;y=new Se(L,d),x(y,H)}if(H=!0,b)for(var ee=b.length-1;0<=ee;ee--){var ge=y.g=b[ee];H=ke(ge,L,!0,y)&&H}if(ge=y.g=d,H=ke(ge,L,!0,y)&&H,H=ke(ge,L,!1,y)&&H,b)for(ee=0;ee<b.length;ee++)ge=y.g=b[ee],H=ke(ge,L,!1,y)&&H}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var b=d.g[y],L=0;L<b.length;L++)st(b[L]);delete d.g[y],d.h--}}this.F=null},he.prototype.K=function(d,y,b,L){return this.i.add(String(d),y,!1,b,L)},he.prototype.L=function(d,y,b,L){return this.i.add(String(d),y,!0,b,L)};function ke(d,y,b,L){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,ee=0;ee<y.length;++ee){var ge=y[ee];if(ge&&!ge.da&&ge.capture==b){var Tt=ge.listener,Sn=ge.ha||ge.src;ge.fa&&G(d.i,ge),H=Tt.call(Sn,L)!==!1&&H}}return H&&!L.defaultPrevented}function Ke(d,y,b){if(typeof d=="function")b&&(d=f(d,b));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(d,y||0)}function ae(d){d.g=Ke(()=>{d.g=null,d.i&&(d.i=!1,ae(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class mt extends se{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qe(d){se.call(this),this.h=d,this.g={}}_(qe,se);var Ge=[];function Le(d){P(d.g,function(y,b){this.g.hasOwnProperty(b)&&I(y)},d),d.g={}}qe.prototype.N=function(){qe.aa.N.call(this),Le(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var be=a.JSON.stringify,Ye=a.JSON.parse,ft=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function yt(){}yt.prototype.h=null;function tt(d){return d.h||(d.h=d.i())}function gt(){}var F={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pe(){Se.call(this,"d")}_(pe,Se);function me(){Se.call(this,"c")}_(me,Se);var we={},De=null;function ct(){return De=De||new he}we.La="serverreachability";function _t(d){Se.call(this,we.La,d)}_(_t,Se);function Ut(d){const y=ct();ye(y,new _t(y))}we.STAT_EVENT="statevent";function Yn(d,y){Se.call(this,we.STAT_EVENT,d),this.stat=y}_(Yn,Se);function Qe(d){const y=ct();ye(y,new Yn(y,d))}we.Ma="timingevent";function hn(d,y){Se.call(this,we.Ma,d),this.size=y}_(hn,Se);function Ln(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},y)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function tg(d,y,b,L,H,ee){d.info(function(){if(d.g)if(ee)for(var ge="",Tt=ee.split("&"),Sn=0;Sn<Tt.length;Sn++){var ht=Tt[Sn].split("=");if(1<ht.length){var Dn=ht[0];ht=ht[1];var kn=Dn.split("_");ge=2<=kn.length&&kn[1]=="type"?ge+(Dn+"="+ht+"&"):ge+(Dn+"=redacted&")}}else ge=null;else ge=ee;return"XMLHTTP REQ ("+L+") [attempt "+H+"]: "+y+`
`+b+`
`+ge})}function Ra(d,y,b,L,H,ee,ge){d.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+H+"]: "+y+`
`+b+`
`+ee+" "+ge})}function Dr(d,y,b,L){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+zd(d,b)+(L?" "+L:"")})}function Pa(d,y){d.info(function(){return"TIMEOUT: "+y})}ys.prototype.info=function(){};function zd(d,y){if(!d.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var L=b[d];if(!(2>L.length)){var H=L[1];if(Array.isArray(H)&&!(1>H.length)){var ee=H[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ge=1;ge<H.length;ge++)H[ge]=""}}}}return be(b)}catch{return y}}var wo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yc;function Ia(){}_(Ia,yt),Ia.prototype.g=function(){return new XMLHttpRequest},Ia.prototype.i=function(){return{}},yc=new Ia;function k(d,y,b,L){this.j=d,this.i=y,this.l=b,this.R=L||1,this.U=new qe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new j}function j(){this.i=null,this.g="",this.h=!1}var K={},Q={};function $(d,y,b){d.L=1,d.v=Hd(yi(y)),d.m=b,d.P=!0,Ee(d,null)}function Ee(d,y){d.F=Date.now(),Fe(d),d.A=yi(d.v);var b=d.A,L=d.R;Array.isArray(L)||(L=[String(L)]),FE(b.i,"t",L),d.C=0,b=d.j.J,d.h=new j,d.g=nS(d.j,b?y:null,!d.m),0<d.O&&(d.M=new mt(f(d.Y,d,d.g),d.O)),y=d.U,b=d.g,L=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ge[0]=H.toString()),H=Ge);for(var ee=0;ee<H.length;ee++){var ge=Pe(b,H[ee],L||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Ut(),tg(d.i,d.u,d.A,d.l,d.R,d.m)}k.prototype.ca=function(d){d=d.target;const y=this.M;y&&kr(d)==3?y.j():this.Y(d)},k.prototype.Y=function(d){try{if(d==this.g)e:{const kn=kr(this.g);var y=this.g.Ba();const ka=this.g.Z();if(!(3>kn)&&(kn!=3||this.g&&(this.h.h||this.g.oa()||WE(this.g)))){this.J||kn!=4||y==7||(y==8||0>=ka?Ut(3):Ut(2)),We(this);var b=this.g.Z();this.X=b;t:if(Re(this)){var L=WE(this.g);d="";var H=L.length,ee=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xt(this),je(this);var ge="";break t}this.h.i=new a.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,d+=this.h.i.decode(L[y],{stream:!(ee&&y==H-1)});L.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=b==200,Ra(this.i,this.u,this.A,this.l,this.R,kn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,Sn=this.g;if((Tt=Sn.g?Sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Tt)){var ht=Tt;break t}}ht=null}if(b=ht)Dr(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,En(this,b);else{this.o=!1,this.s=3,Qe(12),xt(this),je(this);break e}}if(this.P){b=!0;let Wi;for(;!this.J&&this.C<ge.length;)if(Wi=Ue(this,ge),Wi==Q){kn==4&&(this.s=4,Qe(14),b=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wi==K){this.s=4,Qe(15),Dr(this.i,this.l,ge,"[Invalid Chunk]"),b=!1;break}else Dr(this.i,this.l,Wi,null),En(this,Wi);if(Re(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||ge.length!=0||this.h.h||(this.s=1,Qe(16),b=!1),this.o=this.o&&b,!b)Dr(this.i,this.l,ge,"[Invalid Chunked Response]"),xt(this),je(this);else if(0<ge.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),sg(Dn),Dn.M=!0,Qe(11))}}else Dr(this.i,this.l,ge,null),En(this,ge);kn==4&&xt(this),this.o&&!this.J&&(kn==4?JE(this.j,this):(this.o=!1,Fe(this)))}else TD(this.g),b==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),xt(this),je(this)}}}catch{}finally{}};function Re(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ue(d,y){var b=d.C,L=y.indexOf(`
`,b);return L==-1?Q:(b=Number(y.substring(b,L)),isNaN(b)?K:(L+=1,L+b>y.length?Q:(y=y.slice(L,L+b),d.C=L+b,y)))}k.prototype.cancel=function(){this.J=!0,xt(this)};function Fe(d){d.S=Date.now()+d.I,Je(d,d.I)}function Je(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ln(f(d.ba,d),y)}function We(d){d.B&&(a.clearTimeout(d.B),d.B=null)}k.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Pa(this.i,this.A),this.L!=2&&(Ut(),Qe(17)),xt(this),this.s=2,je(this)):Je(this,this.S-d)};function je(d){d.j.G==0||d.J||JE(d.j,d)}function xt(d){We(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Le(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function En(d,y){try{var b=d.j;if(b.G!=0&&(b.g==d||To(b.h,d))){if(!d.K&&To(b.h,d)&&b.G==3){try{var L=b.Da.g.parse(y)}catch{L=null}if(Array.isArray(L)&&L.length==3){var H=L;if(H[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)Kd(b),qd(b);else break e;rg(b),Qe(18)}}else b.za=H[1],0<b.za-b.T&&37500>H[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ln(f(b.Za,b),6e3));if(1>=Ze(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Mo(b,11)}else if((d.K||b.g==d)&&Kd(b),!E(y))for(H=b.Da.g.parse(y),y=0;y<H.length;y++){let ht=H[y];if(b.T=ht[0],ht=ht[1],b.G==2)if(ht[0]=="c"){b.K=ht[1],b.ia=ht[2];const Dn=ht[3];Dn!=null&&(b.la=Dn,b.j.info("VER="+b.la));const kn=ht[4];kn!=null&&(b.Aa=kn,b.j.info("SVER="+b.Aa));const ka=ht[5];ka!=null&&typeof ka=="number"&&0<ka&&(L=1.5*ka,b.L=L,b.j.info("backChannelRequestTimeoutMs_="+L)),L=b;const Wi=d.g;if(Wi){const Qd=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qd){var ee=L.h;ee.g||Qd.indexOf("spdy")==-1&&Qd.indexOf("quic")==-1&&Qd.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Mt(ee,ee.h),ee.h=null))}if(L.D){const og=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;og&&(L.ya=og,It(L.I,L.D,og))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),L=b;var ge=d;if(L.qa=tS(L,L.J?L.ia:null,L.W),ge.K){fr(L.h,ge);var Tt=ge,Sn=L.L;Sn&&(Tt.I=Sn),Tt.B&&(We(Tt),Fe(Tt)),L.g=ge}else YE(L);0<b.i.length&&Xd(b)}else ht[0]!="stop"&&ht[0]!="close"||Mo(b,7);else b.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Mo(b,7):ig(b):ht[0]!="noop"&&b.l&&b.l.ta(ht),b.v=0)}}Ut(4)}catch{}}var Zt=class{constructor(d,y){this.g=d,this.map=y}};function Ni(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function At(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ze(d){return d.h?1:d.g?d.g.size:0}function To(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Mt(d,y){d.g?d.g.add(y):d.h=y}function fr(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ni.prototype.cancel=function(){if(this.i=_c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function _c(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const b of d.g.values())y=y.concat(b.D);return y}return w(d.i)}function bo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var y=[],b=d.length,L=0;L<b;L++)y.push(d[L]);return y}y=[],b=0;for(L in d)y[b++]=d[L];return y}function xc(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var y=[];d=d.length;for(var b=0;b<d;b++)y.push(b);return y}y=[],b=0;for(const L in d)y[b++]=L;return y}}}function an(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var b=xc(d),L=bo(d),H=L.length,ee=0;ee<H;ee++)y.call(void 0,L[ee],b&&b[ee],d)}var pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ec(d,y){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var L=d[b].indexOf("="),H=null;if(0<=L){var ee=d[b].substring(0,L);H=d[b].substring(L+1)}else ee=d[b];y(ee,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function en(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof en){this.h=d.h,Na(this,d.j),this.o=d.o,this.g=d.g,Ao(this,d.s),this.l=d.l;var y=d.i,b=new Tc;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),DE(this,b),this.m=d.m}else d&&(y=String(d).match(pr))?(this.h=!1,Na(this,y[1]||"",!0),this.o=Sc(y[2]||""),this.g=Sc(y[3]||"",!0),Ao(this,y[4]),this.l=Sc(y[5]||"",!0),DE(this,y[6]||"",!0),this.m=Sc(y[7]||"")):(this.h=!1,this.i=new Tc(null,this.h))}en.prototype.toString=function(){var d=[],y=this.j;y&&d.push(wc(y,kE,!0),":");var b=this.g;return(b||y=="file")&&(d.push("//"),(y=this.o)&&d.push(wc(y,kE,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(wc(b,b.charAt(0)=="/"?pD:fD,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",wc(b,gD)),d.join("")};function yi(d){return new en(d)}function Na(d,y,b){d.j=b?Sc(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Ao(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function DE(d,y,b){y instanceof Tc?(d.i=y,vD(d.i,d.h)):(b||(y=wc(y,mD)),d.i=new Tc(y,d.h))}function It(d,y,b){d.i.set(y,b)}function Hd(d){return It(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Sc(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function wc(d,y,b){return typeof d=="string"?(d=encodeURI(d).replace(y,hD),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function hD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var kE=/[#\/\?@]/g,fD=/[#\?:]/g,pD=/[#\?]/g,mD=/[#\?@]/g,gD=/#/g;function Tc(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function _s(d){d.g||(d.g=new Map,d.h=0,d.i&&Ec(d.i,function(y,b){d.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}t=Tc.prototype,t.add=function(d,y){_s(this),this.i=null,d=La(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(y),this.h+=1,this};function OE(d,y){_s(d),y=La(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function UE(d,y){return _s(d),y=La(d,y),d.g.has(y)}t.forEach=function(d,y){_s(this),this.g.forEach(function(b,L){b.forEach(function(H){d.call(y,H,L,this)},this)},this)},t.na=function(){_s(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let L=0;L<y.length;L++){const H=d[L];for(let ee=0;ee<H.length;ee++)b.push(y[L])}return b},t.V=function(d){_s(this);let y=[];if(typeof d=="string")UE(this,d)&&(y=y.concat(this.g.get(La(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)y=y.concat(d[b])}return y},t.set=function(d,y){return _s(this),this.i=null,d=La(this,d),UE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function FE(d,y,b){OE(d,y),0<b.length&&(d.i=null,d.g.set(La(d,y),w(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var L=y[b];const ee=encodeURIComponent(String(L)),ge=this.V(L);for(L=0;L<ge.length;L++){var H=ee;ge[L]!==""&&(H+="="+encodeURIComponent(String(ge[L]))),d.push(H)}}return this.i=d.join("&")};function La(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function vD(d,y){y&&!d.j&&(_s(d),d.i=null,d.g.forEach(function(b,L){var H=L.toLowerCase();L!=H&&(OE(this,L),FE(this,H,b))},d)),d.j=y}function yD(d,y){const b=new ys;if(a.Image){const L=new Image;L.onload=g(xs,b,"TestLoadImage: loaded",!0,y,L),L.onerror=g(xs,b,"TestLoadImage: error",!1,y,L),L.onabort=g(xs,b,"TestLoadImage: abort",!1,y,L),L.ontimeout=g(xs,b,"TestLoadImage: timeout",!1,y,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=d}else y(!1)}function _D(d,y){const b=new ys,L=new AbortController,H=setTimeout(()=>{L.abort(),xs(b,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:L.signal}).then(ee=>{clearTimeout(H),ee.ok?xs(b,"TestPingServer: ok",!0,y):xs(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),xs(b,"TestPingServer: error",!1,y)})}function xs(d,y,b,L,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),L(b)}catch{}}function xD(){this.g=new ft}function ED(d,y,b){const L=b||"";try{an(d,function(H,ee){let ge=H;c(H)&&(ge=be(H)),y.push(L+ee+"="+encodeURIComponent(ge))})}catch(H){throw y.push(L+"type="+encodeURIComponent("_badmap")),H}}function Gd(d){this.l=d.Ub||null,this.j=d.eb||!1}_(Gd,yt),Gd.prototype.g=function(){return new Wd(this.l,this.j)},Gd.prototype.i=function(d){return function(){return d}}({});function Wd(d,y){he.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Wd,he),t=Wd.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Ac(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ac(this)),this.g&&(this.readyState=3,Ac(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;VE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function VE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?bc(this):Ac(this),this.readyState==3&&VE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,bc(this))},t.Qa=function(d){this.g&&(this.response=d,bc(this))},t.ga=function(){this.g&&bc(this)};function bc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ac(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=y.next();return d.join(`\r
`)};function Ac(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Wd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function BE(d){let y="";return P(d,function(b,L){y+=L,y+=":",y+=b,y+=`\r
`}),y}function ng(d,y,b){e:{for(L in b){var L=!1;break e}L=!0}L||(b=BE(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):It(d,y,b))}function Wt(d){he.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Wt,he);var SD=/^https?$/i,wD=["POST","PUT"];t=Wt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,b,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yc.g(),this.v=this.o?tt(this.o):tt(yc),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(ee){zE(this,ee);return}if(d=b||"",b=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var H in L)b.set(H,L[H]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ee of L.keys())b.set(ee,L.get(ee));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(b.keys()).find(ee=>ee.toLowerCase()=="content-type"),H=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(wD,y,void 0))||L||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ge]of b)this.g.setRequestHeader(ee,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GE(this),this.u=!0,this.g.send(d),this.u=!1}catch(ee){zE(this,ee)}};function zE(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,jE(d),$d(d)}function jE(d){d.A||(d.A=!0,ye(d,"complete"),ye(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ye(this,"complete"),ye(this,"abort"),$d(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$d(this,!0)),Wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?HE(this):this.bb())},t.bb=function(){HE(this)};function HE(d){if(d.h&&typeof o<"u"&&(!d.v[1]||kr(d)!=4||d.Z()!=2)){if(d.u&&kr(d)==4)Ke(d.Ea,0,d);else if(ye(d,"readystatechange"),kr(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var L;if(L=ge===0){var H=String(d.D).match(pr)[1]||null;!H&&a.self&&a.self.location&&(H=a.self.location.protocol.slice(0,-1)),L=!SD.test(H?H.toLowerCase():"")}b=L}if(b)ye(d,"complete"),ye(d,"success");else{d.m=6;try{var ee=2<kr(d)?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.Z()+"]",jE(d)}}finally{$d(d)}}}}function $d(d,y){if(d.g){GE(d);const b=d.g,L=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||ye(d,"ready");try{b.onreadystatechange=L}catch{}}}function GE(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function kr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Ye(y)}};function WE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function TD(d){const y={};d=(d.g&&2<=kr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<d.length;L++){if(E(d[L]))continue;var b=C(d[L]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ee=y[H]||[];y[H]=ee,ee.push(b)}T(y,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mc(d,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||y}function $E(d){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mc("baseRetryDelayMs",5e3,d),this.cb=Mc("retryDelaySeedMs",1e4,d),this.Wa=Mc("forwardChannelMaxRetries",2,d),this.wa=Mc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(d&&d.concurrentRequestLimit),this.Da=new xD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$E.prototype,t.la=8,t.G=1,t.connect=function(d,y,b,L){Qe(0),this.W=d,this.H=y||{},b&&L!==void 0&&(this.H.OSID=b,this.H.OAID=L),this.F=this.X,this.I=tS(this,null,this.W),Xd(this)};function ig(d){if(qE(d),d.G==3){var y=d.U++,b=yi(d.I);if(It(b,"SID",d.K),It(b,"RID",y),It(b,"TYPE","terminate"),Cc(d,b),y=new k(d,d.j,y),y.L=2,y.v=Hd(yi(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=y.v,b=!0),b||(y.g=nS(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Fe(y)}eS(d)}function qd(d){d.g&&(sg(d),d.g.cancel(),d.g=null)}function qE(d){qd(d),d.u&&(a.clearTimeout(d.u),d.u=null),Kd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Xd(d){if(!At(d.h)&&!d.s){d.s=!0;var y=d.Ga;ne||X(),z||(ne(),z=!0),W.add(y,d),d.B=0}}function bD(d,y){return Ze(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ln(f(d.Ga,d,y),ZE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new k(this,this.j,d);let ee=this.o;if(this.S&&(ee?(ee=A(ee),x(ee,this.S)):ee=this.S),this.m!==null||this.O||(H.H=ee,ee=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var L=this.i[b];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(y+=L,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=KE(this,H,y),b=yi(this.I),It(b,"RID",d),It(b,"CVER",22),this.D&&It(b,"X-HTTP-Session-Id",this.D),Cc(this,b),ee&&(this.O?y="headers="+encodeURIComponent(String(BE(ee)))+"&"+y:this.m&&ng(b,this.m,ee)),Mt(this.h,H),this.Ua&&It(b,"TYPE","init"),this.P?(It(b,"$req",y),It(b,"SID","null"),H.T=!0,$(H,b,null)):$(H,b,y),this.G=2}}else this.G==3&&(d?XE(this,d):this.i.length==0||At(this.h)||XE(this))};function XE(d,y){var b;y?b=y.l:b=d.U++;const L=yi(d.I);It(L,"SID",d.K),It(L,"RID",b),It(L,"AID",d.T),Cc(d,L),d.m&&d.o&&ng(L,d.m,d.o),b=new k(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),y&&(d.i=y.D.concat(d.i)),y=KE(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Mt(d.h,b),$(b,L,y)}function Cc(d,y){d.H&&P(d.H,function(b,L){It(y,L,b)}),d.l&&an({},function(b,L){It(y,L,b)})}function KE(d,y,b){b=Math.min(d.i.length,b);var L=d.l?f(d.l.Na,d.l,d):null;e:{var H=d.i;let ee=-1;for(;;){const ge=["count="+b];ee==-1?0<b?(ee=H[0].g,ge.push("ofs="+ee)):ee=0:ge.push("ofs="+ee);let Tt=!0;for(let Sn=0;Sn<b;Sn++){let ht=H[Sn].g;const Dn=H[Sn].map;if(ht-=ee,0>ht)ee=Math.max(0,H[Sn].g-100),Tt=!1;else try{ED(Dn,ge,"req"+ht+"_")}catch{L&&L(Dn)}}if(Tt){L=ge.join("&");break e}}}return d=d.i.splice(0,b),y.D=d,L}function YE(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;ne||X(),z||(ne(),z=!0),W.add(y,d),d.v=0}}function rg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ln(f(d.Fa,d),ZE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,QE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ln(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),qd(this),QE(this))};function sg(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function QE(d){d.g=new k(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=yi(d.qa);It(y,"RID","rpc"),It(y,"SID",d.K),It(y,"AID",d.T),It(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&It(y,"TO",d.ja),It(y,"TYPE","xmlhttp"),Cc(d,y),d.m&&d.o&&ng(y,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=Hd(yi(y)),b.m=null,b.P=!0,Ee(b,d)}t.Za=function(){this.C!=null&&(this.C=null,qd(this),rg(this),Qe(19))};function Kd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function JE(d,y){var b=null;if(d.g==y){Kd(d),sg(d),d.g=null;var L=2}else if(To(d.h,y))b=y.D,fr(d.h,y),L=1;else return;if(d.G!=0){if(y.o)if(L==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var H=d.B;L=ct(),ye(L,new hn(L,b)),Xd(d)}else YE(d);else if(H=y.s,H==3||H==0&&0<y.X||!(L==1&&bD(d,y)||L==2&&rg(d)))switch(b&&0<b.length&&(y=d.h,y.i=y.i.concat(b)),H){case 1:Mo(d,5);break;case 4:Mo(d,10);break;case 3:Mo(d,6);break;default:Mo(d,2)}}}function ZE(d,y){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*y}function Mo(d,y){if(d.j.info("Error code "+y),y==2){var b=f(d.fb,d),L=d.Xa;const H=!L;L=new en(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Na(L,"https"),Hd(L),H?yD(L.toString(),b):_D(L.toString(),b)}else Qe(2);d.G=0,d.l&&d.l.sa(y),eS(d),qE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function eS(d){if(d.G=0,d.ka=[],d.l){const y=_c(d.h);(y.length!=0||d.i.length!=0)&&(m(d.ka,y),m(d.ka,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.ra()}}function tS(d,y,b){var L=b instanceof en?yi(b):new en(b);if(L.g!="")y&&(L.g=y+"."+L.g),Ao(L,L.s);else{var H=a.location;L=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var ee=new en(null);L&&Na(ee,L),y&&(ee.g=y),H&&Ao(ee,H),b&&(ee.l=b),L=ee}return b=d.D,y=d.ya,b&&y&&It(L,b,y),It(L,"VER",d.la),Cc(d,L),L}function nS(d,y,b){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Wt(new Gd({eb:b})):new Wt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function iS(){}t=iS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yd(){}Yd.prototype.g=function(d,y){return new _i(d,y)};function _i(d,y){he.call(this),this.g=new $E(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!E(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!E(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Da(this)}_(_i,he),_i.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_i.prototype.close=function(){ig(this.g)},_i.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=be(d),d=b);y.i.push(new Zt(y.Ya++,d)),y.G==3&&Xd(y)},_i.prototype.N=function(){this.g.l=null,delete this.j,ig(this.g),delete this.g,_i.aa.N.call(this)};function rS(d){pe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const b in y){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}_(rS,pe);function sS(){me.call(this),this.status=1}_(sS,me);function Da(d){this.g=d}_(Da,iS),Da.prototype.ua=function(){ye(this.g,"a")},Da.prototype.ta=function(d){ye(this.g,new rS(d))},Da.prototype.sa=function(d){ye(this.g,new sS)},Da.prototype.ra=function(){ye(this.g,"b")},Yd.prototype.createWebChannel=Yd.prototype.g,_i.prototype.send=_i.prototype.o,_i.prototype.open=_i.prototype.m,_i.prototype.close=_i.prototype.close,vL=function(){return new Yd},gL=function(){return ct()},mL=we,Hy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wo.NO_ERROR=0,wo.TIMEOUT=8,wo.HTTP_ERROR=6,Cf=wo,jd.COMPLETE="complete",pL=jd,gt.EventType=F,F.OPEN="a",F.CLOSE="b",F.ERROR="c",F.MESSAGE="d",he.prototype.listen=he.prototype.K,ru=gt,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,fL=Wt}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const UA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Yx("@firebase/firestore");function Wc(){return ya.logLevel}function Ie(t,...e){if(ya.logLevel<=at.DEBUG){const n=e.map(vE);ya.debug(`Firestore (${gc}): ${t}`,...n)}}function _a(t,...e){if(ya.logLevel<=at.ERROR){const n=e.map(vE);ya.error(`Firestore (${gc}): ${t}`,...n)}}function Dp(t,...e){if(ya.logLevel<=at.WARN){const n=e.map(vE);ya.warn(`Firestore (${gc}): ${t}`,...n)}}function vE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t="Unexpected state"){const e=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: `+t;throw _a(e),new Error(e)}function Jt(t,e){t||lt()}function Rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class HJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GJ{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Jt(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ra,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ra)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Jt(typeof i.accessToken=="string"),new yL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new jn(e)}}class WJ{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $J{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new WJ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qJ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Jt(this.o===void 0);const i=s=>{s.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Jt(typeof n.token=="string"),this.R=n.token,new qJ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=KJ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function bt(t,e){return t<e?-1:t>e?1:0}function Ql(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $e(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new xn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new xn(0,0))}static max(){return new Bt(new xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,i){n===void 0?n=0:n>e.length&&lt(),i===void 0?i=e.length-n:i>e.length-n&&lt(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return nd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nd?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rn extends nd{construct(e,n,i){return new rn(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new $e(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new rn(n)}static emptyPath(){return new rn([])}}const YJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends nd{construct(e,n,i){return new Rn(e,n,i)}static isValidIdentifier(e){return YJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new $e(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new $e(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $e(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new $e(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.path=e}static fromPath(e){return new nt(rn.fromString(e))}static fromName(e){return new nt(rn.fromString(e).popFirst(5))}static empty(){return new nt(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new rn(e.slice()))}}function QJ(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Bt.fromTimestamp(i===1e9?new xn(n+1,0):new xn(n,i));return new fo(r,nt.empty(),e)}function JJ(t){return new fo(t.readTime,t.key,-1)}class fo{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new fo(Bt.min(),nt.empty(),-1)}static max(){return new fo(Bt.max(),nt.empty(),-1)}}function ZJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=nt.comparator(t.documentKey,e.documentKey),n!==0?n:bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==eZ)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,i)=>{n(e)})}static reject(e){return new le((n,i)=>{i(e)})}static waitFor(e){return new le((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=le.resolve(!1);for(const i of e)n=n.next(r=>r?le.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new le((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new le((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function nZ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}EL.oe=-1;function yE(t){return t==null}function kp(t){return t===0&&1/t==-1/0}function iZ(t){return typeof t=="number"&&Number.isInteger(t)&&!kp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ud(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new vi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??bn.RED,this.left=r??bn.EMPTY,this.right=s??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new bn(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return bn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(e,n,i,r,s){return this}insert(e,n,i){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e,this.data=new vi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VA(this.data.getIterator())}getIteratorFrom(e){return new VA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qn(this.comparator);return n.data=e,n}}class VA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new sr([])}unionWith(e){let n=new qn(Rn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ql(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rZ("Invalid base64 string: "+s):s}}(e);return new Pr(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const sZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(t){if(Jt(!!t),typeof t=="string"){let e=0;const n=sZ.exec(t);if(Jt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:An(t.seconds),nanos:An(t.nanos)}}function An(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function id(t){return typeof t=="string"?Pr.fromBase64String(t):Pr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function wL(t){const e=t.mapValue.fields.__previous_value__;return _E(e)?wL(e):e}function Op(t){const e=xa(t.mapValue.fields.__local_write_time__.timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Up{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Up("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Up&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_E(t)?4:lZ(t)?9007199254740991:aZ(t)?10:11:lt()}function Ir(t,e){if(t===e)return!0;const n=Jl(t);if(n!==Jl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Op(t).isEqual(Op(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=xa(r.timestampValue),a=xa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return id(r.bytesValue).isEqual(id(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return An(r.geoPointValue.latitude)===An(s.geoPointValue.latitude)&&An(r.geoPointValue.longitude)===An(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return An(r.integerValue)===An(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=An(r.doubleValue),a=An(s.doubleValue);return o===a?kp(o)===kp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ql(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(FA(o)!==FA(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ir(o[l],a[l])))return!1;return!0}(t,e);default:return lt()}}function rd(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function Zl(t,e){if(t===e)return 0;const n=Jl(t),i=Jl(e);if(n!==i)return bt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=An(s.integerValue||s.doubleValue),l=An(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return BA(t.timestampValue,e.timestampValue);case 4:return BA(Op(t),Op(e));case 5:return bt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=id(s),l=id(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=bt(a[c],l[c]);if(u!==0)return u}return bt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=bt(An(s.latitude),An(o.latitude));return a!==0?a:bt(An(s.longitude),An(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},f=o.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=bt(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0);return w!==0?w:zA(g,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===tf.mapValue&&o===tf.mapValue)return 0;if(s===tf.mapValue)return 1;if(o===tf.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=bt(l[h],u[h]);if(f!==0)return f;const g=Zl(a[l[h]],c[u[h]]);if(g!==0)return g}return bt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw lt()}}function BA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return bt(t,e);const n=xa(t),i=xa(e),r=bt(n.seconds,i.seconds);return r!==0?r:bt(n.nanos,i.nanos)}function zA(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Zl(n[r],i[r]);if(s)return s}return bt(n.length,i.length)}function ec(t){return Gy(t)}function Gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=xa(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return id(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return nt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Gy(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Gy(n.fields[o])}`;return r+"}"}(t.mapValue):lt()}function Wy(t){return!!t&&"integerValue"in t}function xE(t){return!!t&&"arrayValue"in t}function Rf(t){return!!t&&"mapValue"in t}function aZ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Eu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ud(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Eu(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=Rn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Eu(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Rf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ud(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new rr(Eu(this.value))}}function TL(t){const e=[];return Ud(t.fields,(n,i)=>{const r=new Rn([n]);if(Rf(i)){const s=TL(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new er(e,0,Bt.min(),Bt.min(),Bt.min(),rr.empty(),0)}static newFoundDocument(e,n,i,r){return new er(e,1,n,Bt.min(),i,r,0)}static newNoDocument(e,n){return new er(e,2,n,Bt.min(),Bt.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new er(e,3,n,Bt.min(),Bt.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.position=e,this.inclusive=n}}function jA(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=nt.comparator(nt.fromName(o.referenceValue),n.key):i=Zl(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function HA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n="asc"){this.field=e,this.dir=n}}function cZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{}class vn extends bL{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new dZ(e,n,i):n==="array-contains"?new pZ(e,i):n==="in"?new mZ(e,i):n==="not-in"?new gZ(e,i):n==="array-contains-any"?new vZ(e,i):new vn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new hZ(e,i):new fZ(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zl(n,this.value)):n!==null&&Jl(this.value)===Jl(n)&&this.matchesComparison(Zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends bL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new po(e,n)}matches(e){return AL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function AL(t){return t.op==="and"}function ML(t){return uZ(t)&&AL(t)}function uZ(t){for(const e of t.filters)if(e instanceof po)return!1;return!0}function $y(t){if(t instanceof vn)return t.field.canonicalString()+t.op.toString()+ec(t.value);if(ML(t))return t.filters.map(e=>$y(e)).join(",");{const e=t.filters.map(n=>$y(n)).join(",");return`${t.op}(${e})`}}function CL(t,e){return t instanceof vn?function(i,r){return r instanceof vn&&i.op===r.op&&i.field.isEqual(r.field)&&Ir(i.value,r.value)}(t,e):t instanceof po?function(i,r){return r instanceof po&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&CL(o,r.filters[a]),!0):!1}(t,e):void lt()}function RL(t){return t instanceof vn?function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`}(t):t instanceof po?function(n){return n.op.toString()+" {"+n.getFilters().map(RL).join(" ,")+"}"}(t):"Filter"}class dZ extends vn{constructor(e,n,i){super(e,n,i),this.key=nt.fromName(i.referenceValue)}matches(e){const n=nt.comparator(e.key,this.key);return this.matchesComparison(n)}}class hZ extends vn{constructor(e,n){super(e,"in",n),this.keys=PL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fZ extends vn{constructor(e,n){super(e,"not-in",n),this.keys=PL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>nt.fromName(i.referenceValue))}class pZ extends vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xE(n)&&rd(n.arrayValue,this.value)}}class mZ extends vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rd(this.value.arrayValue,n)}}class gZ extends vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(rd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rd(this.value.arrayValue,n)}}class vZ extends vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>rd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function GA(t,e=null,n=[],i=[],r=null,s=null,o=null){return new yZ(t,e,n,i,r,s,o)}function EE(t){const e=Rt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>$y(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),yE(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ec(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ec(i)).join(",")),e.ue=n}return e.ue}function SE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HA(t.startAt,e.startAt)&&HA(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _Z(t,e,n,i,r,s,o,a){return new Xm(t,e,n,i,r,s,o,a)}function xZ(t){return new Xm(t)}function WA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EZ(t){return t.collectionGroup!==null}function Su(t){const e=Rt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qn(Rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Vp(s,i))}),n.has(Rn.keyField().canonicalString())||e.ce.push(new Vp(Rn.keyField(),i))}return e.ce}function sa(t){const e=Rt(t);return e.le||(e.le=SZ(e,Su(t))),e.le}function SZ(t,e){if(t.limitType==="F")return GA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Vp(r.field,s)});const n=t.endAt?new Fp(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Fp(t.startAt.position,t.startAt.inclusive):null;return GA(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function qy(t,e,n){return new Xm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function IL(t,e){return SE(sa(t),sa(e))&&t.limitType===e.limitType}function NL(t){return`${EE(sa(t))}|lt:${t.limitType}`}function $c(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>RL(r)).join(", ")}]`),yE(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ec(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ec(r)).join(",")),`Target(${i})`}(sa(t))}; limitType=${t.limitType})`}function wE(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):nt.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Su(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=jA(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Su(i),r)||i.endAt&&!function(o,a,l){const c=jA(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Su(i),r))}(t,e)}function wZ(t){return(e,n)=>{let i=!1;for(const r of Su(t)){const s=TZ(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function TZ(t,e,n){const i=t.field.isKeyField()?nt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Zl(l,c):lt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return lt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ud(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return SL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ=new vi(nt.comparator);function Bp(){return bZ}const LL=new vi(nt.comparator);function nf(...t){let e=LL;for(const n of t)e=e.insert(n.key,n);return e}function DL(t){let e=LL;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Yo(){return wu()}function kL(){return wu()}function wu(){return new vc(t=>t.toString(),(t,e)=>t.isEqual(e))}const AZ=new vi(nt.comparator),MZ=new qn(nt.comparator);function Gn(...t){let e=MZ;for(const n of t)e=e.add(n);return e}const CZ=new qn(bt);function RZ(){return CZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kp(e)?"-0":e}}function OL(t){return{integerValue:""+t}}function PZ(t,e){return iZ(e)?OL(e):TE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this._=void 0}}function IZ(t,e,n){return t instanceof zp?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&_E(s)&&(s=wL(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof sd?FL(t,e):t instanceof od?VL(t,e):function(r,s){const o=UL(r,s),a=$A(o)+$A(r.Pe);return Wy(o)&&Wy(r.Pe)?OL(a):TE(r.serializer,a)}(t,e)}function NZ(t,e,n){return t instanceof sd?FL(t,e):t instanceof od?VL(t,e):n}function UL(t,e){return t instanceof jp?function(i){return Wy(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class zp extends Km{}class sd extends Km{constructor(e){super(),this.elements=e}}function FL(t,e){const n=BL(e);for(const i of t.elements)n.some(r=>Ir(r,i))||n.push(i);return{arrayValue:{values:n}}}class od extends Km{constructor(e){super(),this.elements=e}}function VL(t,e){let n=BL(e);for(const i of t.elements)n=n.filter(r=>!Ir(r,i));return{arrayValue:{values:n}}}class jp extends Km{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $A(t){return An(t.integerValue||t.doubleValue)}function BL(t){return xE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function LZ(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof sd&&r instanceof sd||i instanceof od&&r instanceof od?Ql(i.elements,r.elements,Ir):i instanceof jp&&r instanceof jp?Ir(i.Pe,r.Pe):i instanceof zp&&r instanceof zp}(t.transform,e.transform)}class DZ{constructor(e,n){this.version=e,this.transformResults=n}}class os{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ym{}function zL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HL(t.key,os.none()):new Fd(t.key,t.data,os.none());{const n=t.data,i=rr.empty();let r=new qn(Rn.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Ca(t.key,i,new sr(r.toArray()),os.none())}}function kZ(t,e,n){t instanceof Fd?function(r,s,o){const a=r.value.clone(),l=XA(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ca?function(r,s,o){if(!Pf(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=XA(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(jL(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Tu(t,e,n,i){return t instanceof Fd?function(s,o,a,l){if(!Pf(s.precondition,o))return a;const c=s.value.clone(),u=KA(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ca?function(s,o,a,l){if(!Pf(s.precondition,o))return a;const c=KA(s.fieldTransforms,l,o),u=o.data;return u.setAll(jL(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,i):function(s,o,a){return Pf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function OZ(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=UL(i.transform,r||null);s!=null&&(n===null&&(n=rr.empty()),n.set(i.field,s))}return n||null}function qA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ql(i,r,(s,o)=>LZ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fd extends Ym{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ca extends Ym{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function XA(t,e,n){const i=new Map;Jt(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,NZ(o,a,n[r]))}return i}function KA(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,IZ(s,o,e))}return i}class HL extends Ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UZ extends Ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&kZ(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Tu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Tu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=kL();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=zL(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Bt.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Gn())}isEqual(e){return this.batchId===e.batchId&&Ql(this.mutations,e.mutations,(n,i)=>qA(n,i))&&Ql(this.baseMutations,e.baseMutations,(n,i)=>qA(n,i))}}class bE{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Jt(e.mutations.length===i.length);let r=function(){return AZ}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new bE(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,ut;function BZ(t){switch(t){default:return lt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function zZ(t){if(t===void 0)return _a("GRPC error has no .code"),fe.UNKNOWN;switch(t){case nn.OK:return fe.OK;case nn.CANCELLED:return fe.CANCELLED;case nn.UNKNOWN:return fe.UNKNOWN;case nn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case nn.INTERNAL:return fe.INTERNAL;case nn.UNAVAILABLE:return fe.UNAVAILABLE;case nn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case nn.NOT_FOUND:return fe.NOT_FOUND;case nn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case nn.ABORTED:return fe.ABORTED;case nn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case nn.DATA_LOSS:return fe.DATA_LOSS;default:return lt()}}(ut=nn||(nn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new hL([4294967295,4294967295],0);class jZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HZ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GZ(t,e){return Xy(t,e.toTimestamp())}function Dl(t){return Jt(!!t),Bt.fromTimestamp(function(n){const i=xa(n);return new xn(i.seconds,i.nanos)}(t))}function GL(t,e){return Ky(t,e).canonicalString()}function Ky(t,e){const n=function(r){return new rn(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WZ(t){const e=rn.fromString(t);return Jt(ZZ(e)),e}function Yy(t,e){return GL(t.databaseId,e.path)}function $Z(t){const e=WZ(t);return e.length===4?rn.emptyPath():XZ(e)}function qZ(t){return new rn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XZ(t){return Jt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YA(t,e,n){return{name:Yy(t,e),fields:n.value.mapValue.fields}}function KZ(t,e){let n;if(e instanceof Fd)n={update:YA(t,e.key,e.value)};else if(e instanceof HL)n={delete:Yy(t,e.key)};else if(e instanceof Ca)n={update:YA(t,e.key,e.data),updateMask:JZ(e.fieldMask)};else{if(!(e instanceof UZ))return lt();n={verify:Yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof zp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof od)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof jp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw lt()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:GZ(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:lt()}(t,e.precondition)),n}function YZ(t,e){return t&&t.length>0?(Jt(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Dl(r.updateTime):Dl(s);return o.isEqual(Bt.min())&&(o=Dl(s)),new DZ(o,r.transformResults||[])}(n,e))):[]}function QZ(t){let e=$Z(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Jt(i===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(h){const f=WL(h);return f instanceof po&&ML(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Vp(el(_.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,yE(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new Fp(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new Fp(g,f)}(n.endAt)),_Z(e,r,o,s,a,"F",l,c)}function WL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=el(n.unaryFilter.field);return vn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=el(n.unaryFilter.field);return vn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=el(n.unaryFilter.field);return vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=el(n.unaryFilter.field);return vn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(t):t.fieldFilter!==void 0?function(n){return vn.create(el(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return po.create(n.compositeFilter.filters.map(i=>WL(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return lt()}}(n.compositeFilter.op))}(t):lt()}function el(t){return Rn.fromServerFormat(t.fieldPath)}function JZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZZ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(e){this.ct=e}}function tee(t){const e=QZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(){this.un=new iee}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(fo.min())}updateCollectionGroup(e,n,i){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class iee{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new qn(rn.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new qn(rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new tc(0)}static kn(){return new tc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(){this.changes=new vc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?le.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Tu(i.mutation,r,sr.empty(),xn.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Gn()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Gn()){const r=Yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=nf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Gn()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Bp();const o=wu(),a=function(){return wu()}();return n.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Ca)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Tu(u.mutation,c,u.mutation.getFieldMask(),xn.now())):o.set(c.key,sr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new see(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const i=wu();let r=new vi((o,a)=>o-a),s=Gn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||sr.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(r.get(a.batchId)||Gn()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=kL();u.forEach(f=>{if(!s.has(f)){const g=zL(n.get(f),i.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return le.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return nt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EZ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):le.resolve(Yo());let a=-1,l=s;return o.next(c=>le.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?le.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Gn())).next(u=>({batchId:a,changes:DL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new nt(n)).next(i=>{let r=nf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=nf();return this.indexManager.getCollectionParents(e,s).next(a=>le.forEach(a,l=>{const c=function(h,f){return new Xm(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,er.newInvalidDocument(u)))});let a=nf();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Tu(u.mutation,c,sr.empty(),xn.now()),wE(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Dl(r.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:tee(r.bundledQuery),readTime:Dl(r.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee{constructor(){this.overlays=new vi(nt.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Yo();return le.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),le.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),le.resolve()}getOverlaysForCollection(e,n,i){const r=Yo(),s=n.length+1,o=new nt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return le.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new vi((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=Yo(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Yo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return le.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new VZ(n,i));let s=this.Ir.get(n);s===void 0&&(s=Gn(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(){this.sessionToken=Pr.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.Tr=new qn(mn.Er),this.dr=new qn(mn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new mn(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new mn(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new nt(new rn([])),i=new mn(n,e),r=new mn(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new nt(new rn([])),i=new mn(n,e),r=new mn(n,e+1);let s=Gn();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mn(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class mn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return nt.comparator(e.key,n.key)||bt(e.wr,n.wr)}static Ar(e,n){return bt(e.wr,n.wr)||nt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qn(mn.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FZ(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new mn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new mn(n,0),r=new mn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new qn(bt);return n.forEach(r=>{const s=new mn(r,0),o=new mn(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),le.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;nt.isDocumentKey(s)||(s=s.child(""));const o=new mn(new nt(s),0);let a=new qn(bt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.wr)),!0)},o),le.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Jt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return le.forEach(n.mutations,r=>{const s=new mn(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new mn(n,0),r=this.br.firstAfterOrEqual(i);return le.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(e){this.Mr=e,this.docs=function(){return new vi(nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return le.resolve(i?i.document.mutableCopy():er.newInvalidDocument(n))}getEntries(e,n){let i=Bp();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():er.newInvalidDocument(r))}),le.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Bp();const o=n.path,a=new nt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ZJ(JJ(u),i)<=0||(r.has(u.key)||wE(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,n,i,r){lt()}Or(e,n){return le.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new hee(this)}getSize(e){return le.resolve(this.size)}}class hee extends ree{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e){this.persistence=e,this.Nr=new vc(n=>EE(n),SE),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new AE,this.targetCount=0,this.kr=tc.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),le.waitFor(s).next(()=>r)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return le.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),le.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return le.resolve(i)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e,n){this.qr={},this.overlays={},this.Qr=new EL(0),this.Kr=!1,this.Kr=!0,this.$r=new cee,this.referenceDelegate=e(this),this.Ur=new fee(this),this.indexManager=new nee,this.remoteDocumentCache=function(r){return new dee(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new eee(n),this.Gr=new aee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new uee(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Ie("MemoryPersistence","Starting transaction:",e);const r=new mee(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return le.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class mee extends tZ{constructor(e){super(),this.currentSequenceNumber=e}}class ME{constructor(e){this.persistence=e,this.Jr=new AE,this.Yr=null}static Zr(e){return new ME(e)}get Xr(){if(this.Yr)return this.Yr;throw lt()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),le.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,i=>{const r=nt.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,Bt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=Gn(),r=Gn();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new CE(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return B$()?8:nZ(Kn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gee;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(Wc()<=at.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",$c(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(Wc()<=at.DEBUG&&Ie("QueryEngine","Query:",$c(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Wc()<=at.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",$c(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sa(n))):le.resolve())}Yi(e,n){if(WA(n))return le.resolve(null);let i=sa(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=qy(n,null,"F"),i=sa(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=Gn(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,qy(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,i,r){return WA(n)||r.isEqual(Bt.min())?le.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?le.resolve(null):(Wc()<=at.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$c(n)),this.rs(e,o,n,QJ(r,-1)).next(a=>a))})}ts(e,n){let i=new qn(wZ(e));return n.forEach((r,s)=>{wE(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return Wc()<=at.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",$c(n)),this.Ji.getDocumentsMatchingQuery(e,n,fo.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new vi(bt),this._s=new vc(s=>EE(s),SE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oee(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function _ee(t,e,n,i){return new yee(t,e,n,i)}async function $L(t,e){const n=Rt(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=Gn();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function xee(t,e){const n=Rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let g=le.resolve();return f.forEach(_=>{g=g.next(()=>u.getEntry(l,_)).next(w=>{const m=c.docVersions.get(_);Jt(m!==null),w.version.compareTo(m)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Gn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function Eee(t){const e=Rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function See(t,e){const n=Rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}class QA{constructor(){this.activeTargetIds=RZ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wee{constructor(){this.so=new QA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new QA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf=null;function Yv(){return rf===null?rf=function(){return 268435456+Math.round(2147483648*Math.random())}():rf++,"0x"+rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class Mee extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=Yv(),l=this.xo(n,i.toUriEncodedString());Ie("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,r).then(u=>(Ie("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Dp("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=bee[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const s=Yv();return new Promise((o,a)=>{const l=new fL;l.setWithCredentials(!0),l.listenOnce(pL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cf.NO_ERROR:const u=l.getResponseJson();Ie(Bn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Cf.TIMEOUT:Ie(Bn,`RPC '${e}' ${s} timed out`),a(new $e(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const h=l.getStatus();if(Ie(Bn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const _=function(m){const p=m.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(p)>=0?p:fe.UNKNOWN}(g.status);a(new $e(_,g.message))}else a(new $e(fe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $e(fe.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Ie(Bn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);Ie(Bn,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Bo(e,n,i){const r=Yv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vL(),a=gL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=s.join("");Ie(Bn,`Creating RPC '${e}' stream ${r}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,g=!1;const _=new Aee({Io:m=>{g?Ie(Bn,`Not sending because RPC '${e}' stream ${r} is closed:`,m):(f||(Ie(Bn,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),Ie(Bn,`RPC '${e}' stream ${r} sending:`,m),h.send(m))},To:()=>h.close()}),w=(m,p,E)=>{m.listen(p,S=>{try{E(S)}catch(M){setTimeout(()=>{throw M},0)}})};return w(h,ru.EventType.OPEN,()=>{g||(Ie(Bn,`RPC '${e}' stream ${r} transport opened.`),_.yo())}),w(h,ru.EventType.CLOSE,()=>{g||(g=!0,Ie(Bn,`RPC '${e}' stream ${r} transport closed`),_.So())}),w(h,ru.EventType.ERROR,m=>{g||(g=!0,Dp(Bn,`RPC '${e}' stream ${r} transport errored:`,m),_.So(new $e(fe.UNAVAILABLE,"The operation could not be completed")))}),w(h,ru.EventType.MESSAGE,m=>{var p;if(!g){const E=m.data[0];Jt(!!E);const S=E,M=S.error||((p=S[0])===null||p===void 0?void 0:p.error);if(M){Ie(Bn,`RPC '${e}' stream ${r} received error:`,M);const N=M.status;let P=function(R){const x=nn[R];if(x!==void 0)return zZ(x)}(N),T=M.message;P===void 0&&(P=fe.INTERNAL,T="Unknown error status: "+N+" with message "+M.message),g=!0,_.So(new $e(P,T)),h.close()}else Ie(Bn,`RPC '${e}' stream ${r} received:`,E),_.bo(E)}}),w(a,mL.STAT_EVENT,m=>{m.stat===Hy.PROXY?Ie(Bn,`RPC '${e}' stream ${r} detected buffering proxy`):m.stat===Hy.NOPROXY&&Ie(Bn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Qv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){return new jZ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Ie("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e,n,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qL(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(_a(n.toString()),_a("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new $e(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ree extends Cee{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,Jt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=YZ(e.writeResults,e.commitTime),i=Dl(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=qZ(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>KZ(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new $e(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ky(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(fe.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ky(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(fe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Iee{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(_a(n),this.D_=!1):Ie("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{Bd(this)&&(Ie("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Rt(l);c.L_.add(4),await Vd(c),c.q_.set("Unknown"),c.L_.delete(4),await Jm(c)}(this))})}),this.q_=new Iee(i,r)}}async function Jm(t){if(Bd(t))for(const e of t.B_)await e(!0)}async function Vd(t){for(const e of t.B_)await e(!1)}function Bd(t){return Rt(t).L_.size===0}async function XL(t,e,n){if(!qm(e))throw e;t.L_.add(1),await Vd(t),t.q_.set("Offline"),n||(n=()=>Eee(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Jm(t)})}function KL(t,e){return e().catch(n=>XL(t,n,e))}async function Zm(t){const e=Rt(t),n=mo(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Lee(e);)try{const r=await See(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,Dee(e,r)}catch(r){await XL(e,r)}YL(e)&&QL(e)}function Lee(t){return Bd(t)&&t.O_.length<10}function Dee(t,e){t.O_.push(e);const n=mo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YL(t){return Bd(t)&&!mo(t).n_()&&t.O_.length>0}function QL(t){mo(t).start()}async function kee(t){mo(t).p_()}async function Oee(t){const e=mo(t);for(const n of t.O_)e.m_(n.mutations)}async function Uee(t,e,n){const i=t.O_.shift(),r=bE.from(i,e,n);await KL(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Zm(t)}async function Fee(t,e){e&&mo(t).V_&&await async function(i,r){if(function(o){return BZ(o)&&o!==fe.ABORTED}(r.code)){const s=i.O_.shift();mo(i).s_(),await KL(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Zm(i)}}(t,e),YL(t)&&QL(t)}async function ZA(t,e){const n=Rt(t);n.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const i=Bd(n);n.L_.add(3),await Vd(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Jm(n)}async function Vee(t,e){const n=Rt(t);e?(n.L_.delete(2),await Jm(n)):e||(n.L_.add(2),await Vd(n),n.q_.set("Unknown"))}function mo(t){return t.U_||(t.U_=function(n,i,r){const s=Rt(n);return s.w_(),new Ree(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:kee.bind(null,t),mo:Fee.bind(null,t),f_:Oee.bind(null,t),g_:Uee.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Zm(t)):(await t.U_.stop(),t.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new RE(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JL(t,e){if(_a("AsyncQueue",`${e}: ${t}`),qm(t))return new $e(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class Bee{constructor(){this.queries=eM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=Rt(n),s=r.queries;r.queries=eM(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new $e(fe.ABORTED,"Firestore shutting down"))}}function eM(){return new vc(t=>NL(t),IL)}function zee(t){t.Y_.forEach(e=>{e.next()})}var tM,nM;(nM=tM||(tM={})).ea="default",nM.Cache="cache";class jee{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new vc(a=>NL(a),IL),this.Ma=new Map,this.xa=new Set,this.Oa=new vi(nt.comparator),this.Na=new Map,this.La=new AE,this.Ba={},this.ka=new Map,this.qa=tc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Hee(t,e,n){const i=qee(t);try{const r=await function(o,a){const l=Rt(o),c=xn.now(),u=a.reduce((g,_)=>g.add(_.key),Gn());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Bp(),w=Gn();return l.cs.getEntries(g,u).next(m=>{_=m,_.forEach((p,E)=>{E.isValidDocument()||(w=w.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(m=>{h=m;const p=[];for(const E of a){const S=OZ(E,h.get(E.key).overlayedDocument);S!=null&&p.push(new Ca(E.key,S,TL(S.value.mapValue),os.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,p,a)}).next(m=>{f=m;const p=m.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(g,m.batchId,p)})}).then(()=>({batchId:f.batchId,changes:DL(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new vi(bt)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(i,r.batchId,n),await eg(i,r.changes),await Zm(i.remoteStore)}catch(r){const s=JL(r,"Failed to persist write");n.reject(s)}}function iM(t,e,n){const i=Rt(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=Rt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&zee(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Gee(t,e){const n=Rt(t),i=e.batch.batchId;try{const r=await xee(n.localStore,e);eD(n,i,null),ZL(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await eg(n,r)}catch(r){await xL(r)}}async function Wee(t,e,n){const i=Rt(t);try{const r=await function(o,a){const l=Rt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Jt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);eD(i,e,n),ZL(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await eg(i,r)}catch(r){await xL(r)}}function ZL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function eD(t,e,n){const i=Rt(t);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}async function eg(t,e,n){const i=Rt(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,n).then(c=>{var u;if((c||n)&&i.isPrimaryClient){const h=c?!c.fromCache:(u=void 0)===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);const h=CE.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,c){const u=Rt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>le.forEach(c,f=>le.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>le.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!qm(h))throw h;Ie("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=u.os.get(f),_=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(_);u.os=u.os.insert(f,w)}}}(i.localStore,s))}async function $ee(t,e){const n=Rt(t);if(!n.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const i=await $L(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new $e(fe.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await eg(n,i.hs)}}function qee(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wee.bind(null,e),e}class Hp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return _ee(this.persistence,new vee,e.initialUser,this.serializer)}Ga(e){return new pee(ME.Zr,this.serializer)}Wa(e){return new wee}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hp.provider={build:()=>new Hp};class Qy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$ee.bind(null,this.syncEngine),await Vee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Bee}()}createDatastore(e){const n=Qm(e.databaseInfo.databaseId),i=function(s){return new Mee(s)}(e.databaseInfo);return function(s,o,a,l){return new Pee(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new Nee(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iM(this.syncEngine,n,0),function(){return JA.D()?new JA:new Tee}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,u){const h=new jee(r,s,o,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=Rt(r);Ie("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Vd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qy.provider={build:()=>new Qy};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=jn.UNAUTHENTICATED,this.clientId=_L.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{Ie("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(Ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=JL(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Jv(t,e){t.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await $L(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rM(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kee(t);Ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>ZA(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>ZA(e.remoteStore,r)),t._onlineComponents=e}async function Kee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===fe.FAILED_PRECONDITION||r.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Dp("Error using user provided cache. Falling back to memory cache: "+n),await Jv(t,new Hp)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),await Jv(t,new Hp);return t._offlineComponents}async function Yee(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),await rM(t,t._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),await rM(t,new Qy))),t._onlineComponents}function Qee(t){return Yee(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jee(t,e,n){if(!n)throw new $e(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Zee(t,e,n,i){if(e===!0&&i===!0)throw new $e(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oM(t){if(!nt.isDocumentKey(t))throw new $e(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lt()}function Jy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=PE(t);throw new $e(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $e(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tD((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $e(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class IE{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aM({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aM(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new jJ;switch(i.type){case"firstParty":return new $J(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new $e(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=sM.get(n);i&&(Ie("ComponentProvider","Removing Datastore"),sM.delete(n),i.terminate())}(this),Promise.resolve()}}function ete(t,e,n,i={}){var r;const s=(t=Jy(t,IE))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Dp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=jn.MOCK_USER;else{a=L$(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new $e(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jn(c)}t._authCredentials=new HJ(new yL(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new NE(this.firestore,e,this._query)}}class as{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ad(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new as(this.firestore,e,this._key)}}class ad extends NE{constructor(e,n,i){super(e,n,xZ(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new as(this.firestore,null,new nt(e))}withConverter(e){return new ad(this.firestore,e,this._path)}}function tte(t,e,...n){if(t=ii(t),arguments.length===1&&(e=_L.newId()),Jee("doc","path",e),t instanceof IE){const i=rn.fromString(e,...n);return oM(i),new as(t,null,new nt(i))}{if(!(t instanceof as||t instanceof ad))throw new $e(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(rn.fromString(e,...n));return oM(i),new as(t.firestore,t instanceof ad?t.converter:null,new nt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qL(this,"async_queue_retry"),this.Vu=()=>{const i=Qv();i&&Ie("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=Qv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Qv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ra;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qm(e))throw e;Ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw _a("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=RE.createAndSchedule(this,e,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&lt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class nD extends IE{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new lM,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lM(e),this._firestoreClient=void 0,await e}}}function nte(t,e){const n=typeof t=="object"?t:Jx(),i=typeof t=="string"?t:"(default)",r=hc(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=I$("firestore");s&&ete(r,...s)}return r}function ite(t){if(t._terminated)throw new $e(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rte(t),t._firestoreClient}function rte(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,u){return new oZ(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,tD(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new Xee(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ld(Pr.fromBase64String(e))}catch(n){throw new $e(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ld(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ste=/^__.*__$/;class ote{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fd(e,this.data,n,this.fieldTransforms)}}function aD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class LE{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new LE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Gp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aD(this.Cu)&&ste.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ate{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Qm(e)}Qu(e,n,i,r=!1){return new LE({Cu:e,methodName:n,qu:i,path:Rn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lte(t){const e=t._freezeSettings(),n=Qm(t._databaseId);return new ate(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cte(t,e,n,i,r,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,r);dD("Data must be an object, but it was:",o,i);const a=cD(i,o);let l,c;if(s.merge)l=new sr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=ute(e,h,n);if(!o.contains(f))throw new $e(fe.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);fte(u,f)||u.push(f)}l=new sr(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new ote(new rr(a),l,c)}function lD(t,e){if(uD(t=ii(t)))return dD("Unsupported field value:",e,t),cD(t,e);if(t instanceof rD)return function(i,r){if(!aD(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=lD(a,r.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=ii(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return PZ(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=xn.fromDate(i);return{timestampValue:Xy(r.serializer,s)}}if(i instanceof xn){const s=new xn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xy(r.serializer,s)}}if(i instanceof sD)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ld)return{bytesValue:HZ(r.serializer,i._byteString)};if(i instanceof as){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:GL(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof oD)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return TE(a.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${PE(i)}`)}(t,e)}function cD(t,e){const n={};return SL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ud(t,(i,r)=>{const s=lD(r,e.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function uD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xn||t instanceof sD||t instanceof ld||t instanceof as||t instanceof rD||t instanceof oD)}function dD(t,e,n){if(!uD(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=PE(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function ute(t,e,n){if((e=ii(e))instanceof iD)return e._internalPath;if(typeof e=="string")return hte(t,e);throw Gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const dte=new RegExp("[~\\*/\\[\\]]");function hte(t,e,n){if(e.search(dte)>=0)throw Gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iD(...e.split("."))._internalPath}catch{throw Gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gp(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new $e(fe.INVALID_ARGUMENT,a+t+l)}function fte(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pte(t,e,n){let i;return i=t?t.toFirestore(e):e,i}function mte(t,e,n){t=Jy(t,as);const i=Jy(t.firestore,nD),r=pte(t.converter,e);return gte(i,[cte(lte(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,os.none())])}function gte(t,e){return function(i,r){const s=new ra;return i.asyncQueue.enqueueAndForget(async()=>Hee(await Qee(i),r,s)),s.promise}(ite(t),e)}(function(e,n=!0){(function(r){gc=r})(fc),Rr(new dr("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new nD(new GJ(i.getProvider("auth-internal")),new XJ(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $e(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Up(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ji(UA,"4.7.3",e),ji(UA,"4.7.3","esm2017")})();const cM=BJ(Bm),vte=nte(Bm),yte=EN(Bm),_te=()=>{const[t,e]=V.useState(""),[n,i]=V.useState(""),[r,s]=V.useState(!1),o=Ta();V.useEffect(()=>{const l=localStorage.getItem("adminUser"),c=localStorage.getItem("adminToken");if(l&&c){debugger;o("/")}const u=RQ(cM,h=>{if(h){debugger;o("/")}});return()=>u()},[o]);const a=async()=>{s(!0);try{const l=await AQ(cM,t,n),c=await SN(yte,{vapidKey:void 0,serviceWorkerRegistration:await navigator.serviceWorker.ready});await mte(tte(vte,"adminTokens",l.user.uid),{token:c,email:l.user.email}),localStorage.setItem("adminUser",JSON.stringify(l.user)),localStorage.setItem("adminToken",c),alert("Admin logged in and token saved."),o("/")}catch(l){debugger;console.error("Login failed:",l.message),alert("Login failed")}finally{s(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4",children:v.jsxs("div",{className:"bg-white shadow-lg rounded-lg w-full max-w-md p-8 space-y-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-center text-blue-700",children:"Admin Login"}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("input",{type:"email",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:l=>e(l.target.value),placeholder:"Email"}),v.jsx("input",{type:"password",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:n,onChange:l=>i(l.target.value),placeholder:"Password"}),v.jsx("button",{onClick:a,disabled:r,className:`w-full py-2 font-semibold rounded-lg transition duration-300 ${r?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:r?"Logging in...":"Login"})]})]})})};function xte(){const[t,e]=V.useState(!0);V.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(r=>{console.log("Service Worker registered:",r)}).catch(r=>{console.error("Service Worker registration failed:",r)})},[]),V.useEffect(()=>{const r=setTimeout(()=>{e(!1)},2e3);return()=>clearTimeout(r)},[]);const{cursorType:n,cursorChangeHandler:i}=V.useContext(aE);return V.useEffect(()=>{const r=s=>{s.preventDefault()};return document.addEventListener("contextmenu",r),()=>document.removeEventListener("contextmenu",r)},[]),t?v.jsx(lY,{}):v.jsx(I3,{children:v.jsxs(cY,{children:[v.jsx(dY,{}),v.jsx(aB,{children:v.jsxs(YR,{children:[v.jsx(Gs,{path:"/",element:v.jsxs("div",{className:"min-h-screen bg-white dark:bg-[#0A192F] text-gray-800 dark:text-gray-200 transition-colors duration-300",children:[v.jsx(u6,{}),v.jsxs("main",{children:[v.jsx(NK,{}),v.jsx(DK,{}),v.jsx(OK,{}),v.jsx(FK,{}),v.jsx(zK,{}),v.jsx(jK,{}),v.jsx(oY,{})]}),v.jsx(aY,{}),v.jsx("div",{onMouseEnter:()=>i("hovered"),onMouseLeave:()=>i("")})]})}),v.jsx(Gs,{path:"/admin",element:v.jsx(_te,{})}),v.jsx(Gs,{path:"/blog/*",element:v.jsx(PY,{})})]})})]})})}wR(document.getElementById("root")).render(v.jsx(V.StrictMode,{children:v.jsx(_U,{store:OF,children:v.jsx(xte,{})})}));
